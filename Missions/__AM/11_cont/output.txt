// starting begin ResetFog ;
   0: CALL_OW 335
// InitVariables ;
   4: CALL 13 0 0
// PrepareAmerican ;
   8: CALL 45 0 0
// end ;
  12: END
// export debug ; export mission_prefix , mission_prefix_prev ; function InitVariables ; begin
  13: LD_INT 0
  15: PPUSH
// debug := true ;
  16: LD_ADDR_EXP 1
  20: PUSH
  21: LD_INT 1
  23: ST_TO_ADDR
// mission_prefix := 11_ ;
  24: LD_ADDR_EXP 2
  28: PUSH
  29: LD_STRING 11_
  31: ST_TO_ADDR
// mission_prefix_prev := 10_ ;
  32: LD_ADDR_EXP 3
  36: PUSH
  37: LD_STRING 10_
  39: ST_TO_ADDR
// end ; end_of_file
  40: LD_VAR 0 1
  44: RET
// export JMM , Lisa , Donaldson , Bobby , Cyrus , Denis , Brown , Gladstone , Houten , Powell , Cornel , Gary , Frank , Kikuchi ; export function PrepareAmerican ; var i , un , tmp , selected ; begin
  45: LD_INT 0
  47: PPUSH
  48: PPUSH
  49: PPUSH
  50: PPUSH
  51: PPUSH
// uc_side := 4 ;
  52: LD_ADDR_OWVAR 20
  56: PUSH
  57: LD_INT 4
  59: ST_TO_ADDR
// uc_nation := 1 ;
  60: LD_ADDR_OWVAR 21
  64: PUSH
  65: LD_INT 1
  67: ST_TO_ADDR
// Powell := PrepareUnit ( Powell , false ) ;
  68: LD_ADDR_EXP 13
  72: PUSH
  73: LD_STRING Powell
  75: PPUSH
  76: LD_INT 0
  78: PPUSH
  79: CALL 573 0 2
  83: ST_TO_ADDR
// uc_side := 1 ;
  84: LD_ADDR_OWVAR 20
  88: PUSH
  89: LD_INT 1
  91: ST_TO_ADDR
// JMM := PrepareUnit ( JMM , ( not debug ) ) ;
  92: LD_ADDR_EXP 4
  96: PUSH
  97: LD_STRING JMM
  99: PPUSH
 100: LD_EXP 1
 104: NOT
 105: PPUSH
 106: CALL 573 0 2
 110: ST_TO_ADDR
// Lisa := PrepareUnit ( Lisa , ( not debug ) ) ;
 111: LD_ADDR_EXP 5
 115: PUSH
 116: LD_STRING Lisa
 118: PPUSH
 119: LD_EXP 1
 123: NOT
 124: PPUSH
 125: CALL 573 0 2
 129: ST_TO_ADDR
// Donaldson := PrepareUnit ( Donaldson , ( not debug ) ) ;
 130: LD_ADDR_EXP 6
 134: PUSH
 135: LD_STRING Donaldson
 137: PPUSH
 138: LD_EXP 1
 142: NOT
 143: PPUSH
 144: CALL 573 0 2
 148: ST_TO_ADDR
// Bobby := PrepareUnit ( Bobby , ( not debug ) ) ;
 149: LD_ADDR_EXP 7
 153: PUSH
 154: LD_STRING Bobby
 156: PPUSH
 157: LD_EXP 1
 161: NOT
 162: PPUSH
 163: CALL 573 0 2
 167: ST_TO_ADDR
// Cyrus := PrepareUnit ( Cyrus , ( not debug ) ) ;
 168: LD_ADDR_EXP 8
 172: PUSH
 173: LD_STRING Cyrus
 175: PPUSH
 176: LD_EXP 1
 180: NOT
 181: PPUSH
 182: CALL 573 0 2
 186: ST_TO_ADDR
// Denis := PrepareUnit ( Denis , ( not debug ) ) ;
 187: LD_ADDR_EXP 9
 191: PUSH
 192: LD_STRING Denis
 194: PPUSH
 195: LD_EXP 1
 199: NOT
 200: PPUSH
 201: CALL 573 0 2
 205: ST_TO_ADDR
// Brown := PrepareUnit ( Brown , ( not debug ) ) ;
 206: LD_ADDR_EXP 10
 210: PUSH
 211: LD_STRING Brown
 213: PPUSH
 214: LD_EXP 1
 218: NOT
 219: PPUSH
 220: CALL 573 0 2
 224: ST_TO_ADDR
// Gladstone := PrepareUnit ( Gladstone , ( not debug ) ) ;
 225: LD_ADDR_EXP 11
 229: PUSH
 230: LD_STRING Gladstone
 232: PPUSH
 233: LD_EXP 1
 237: NOT
 238: PPUSH
 239: CALL 573 0 2
 243: ST_TO_ADDR
// Houten := PrepareUnit ( Houten , ( not debug ) ) ;
 244: LD_ADDR_EXP 12
 248: PUSH
 249: LD_STRING Houten
 251: PPUSH
 252: LD_EXP 1
 256: NOT
 257: PPUSH
 258: CALL 573 0 2
 262: ST_TO_ADDR
// Cornel := PrepareUnit ( Cornel , ( not debug ) ) ;
 263: LD_ADDR_EXP 14
 267: PUSH
 268: LD_STRING Cornel
 270: PPUSH
 271: LD_EXP 1
 275: NOT
 276: PPUSH
 277: CALL 573 0 2
 281: ST_TO_ADDR
// Gary := PrepareUnit ( Gary , ( not debug ) ) ;
 282: LD_ADDR_EXP 15
 286: PUSH
 287: LD_STRING Gary
 289: PPUSH
 290: LD_EXP 1
 294: NOT
 295: PPUSH
 296: CALL 573 0 2
 300: ST_TO_ADDR
// Frank := PrepareUnit ( Frank , ( not debug ) ) ;
 301: LD_ADDR_EXP 16
 305: PUSH
 306: LD_STRING Frank
 308: PPUSH
 309: LD_EXP 1
 313: NOT
 314: PPUSH
 315: CALL 573 0 2
 319: ST_TO_ADDR
// Kikuchi := PrepareUnit ( Kikuchi , ( not debug ) ) ;
 320: LD_ADDR_EXP 17
 324: PUSH
 325: LD_STRING Kikuchi
 327: PPUSH
 328: LD_EXP 1
 332: NOT
 333: PPUSH
 334: CALL 573 0 2
 338: ST_TO_ADDR
// tmp := [ Lisa , Donaldson , Bobby , Cyrus , Denis , Brown , Gladstone , Houten , Cornel , Gary , Frank , Kikuchi ] ;
 339: LD_ADDR_VAR 0 4
 343: PUSH
 344: LD_EXP 5
 348: PUSH
 349: LD_EXP 6
 353: PUSH
 354: LD_EXP 7
 358: PUSH
 359: LD_EXP 8
 363: PUSH
 364: LD_EXP 9
 368: PUSH
 369: LD_EXP 10
 373: PUSH
 374: LD_EXP 11
 378: PUSH
 379: LD_EXP 12
 383: PUSH
 384: LD_EXP 14
 388: PUSH
 389: LD_EXP 15
 393: PUSH
 394: LD_EXP 16
 398: PUSH
 399: LD_EXP 17
 403: PUSH
 404: EMPTY
 405: LIST
 406: LIST
 407: LIST
 408: LIST
 409: LIST
 410: LIST
 411: LIST
 412: LIST
 413: LIST
 414: LIST
 415: LIST
 416: LIST
 417: ST_TO_ADDR
// tmp := tmp diff 0 ;
 418: LD_ADDR_VAR 0 4
 422: PUSH
 423: LD_VAR 0 4
 427: PUSH
 428: LD_INT 0
 430: DIFF
 431: ST_TO_ADDR
// tmp := tmp union CreateCharacterSet ( 10_other_survivors ) ;
 432: LD_ADDR_VAR 0 4
 436: PUSH
 437: LD_VAR 0 4
 441: PUSH
 442: LD_STRING 10_other_survivors
 444: PPUSH
 445: CALL_OW 31
 449: UNION
 450: ST_TO_ADDR
// selected := CharacterSelection ( 1 , 12 , 12 , [ sel_change_class , JMM , sel_not_hired , sel_changeable , sel_change_class ] ^ tmp ^ [ sel_dont_change_class , sel_not_changeable , Powell ] , [ class_soldier , [ class_engineer , 1 ] , [ class_mechanic , 0 , 5 ] , class_scientistic , [ class_sniper , 0 , 2 ] ] ) ;
 451: LD_ADDR_VAR 0 5
 455: PUSH
 456: LD_STRING 1
 458: PPUSH
 459: LD_INT 12
 461: PPUSH
 462: LD_INT 12
 464: PPUSH
 465: LD_INT -5
 467: PUSH
 468: LD_EXP 4
 472: PUSH
 473: LD_INT -2
 475: PUSH
 476: LD_INT -3
 478: PUSH
 479: LD_INT -5
 481: PUSH
 482: EMPTY
 483: LIST
 484: LIST
 485: LIST
 486: LIST
 487: LIST
 488: PUSH
 489: LD_VAR 0 4
 493: ADD
 494: PUSH
 495: LD_INT -6
 497: PUSH
 498: LD_INT -4
 500: PUSH
 501: LD_EXP 13
 505: PUSH
 506: EMPTY
 507: LIST
 508: LIST
 509: LIST
 510: ADD
 511: PPUSH
 512: LD_INT 1
 514: PUSH
 515: LD_INT 2
 517: PUSH
 518: LD_INT 1
 520: PUSH
 521: EMPTY
 522: LIST
 523: LIST
 524: PUSH
 525: LD_INT 3
 527: PUSH
 528: LD_INT 0
 530: PUSH
 531: LD_INT 5
 533: PUSH
 534: EMPTY
 535: LIST
 536: LIST
 537: LIST
 538: PUSH
 539: LD_INT 4
 541: PUSH
 542: LD_INT 5
 544: PUSH
 545: LD_INT 0
 547: PUSH
 548: LD_INT 2
 550: PUSH
 551: EMPTY
 552: LIST
 553: LIST
 554: LIST
 555: PUSH
 556: EMPTY
 557: LIST
 558: LIST
 559: LIST
 560: LIST
 561: LIST
 562: PPUSH
 563: CALL_OW 42
 567: ST_TO_ADDR
// end ; end_of_file
 568: LD_VAR 0 1
 572: RET
// export function PrepareUnit ( ident , exist_mode ) ; var unit ; begin
 573: LD_INT 0
 575: PPUSH
 576: PPUSH
// if exist_mode then
 577: LD_VAR 0 2
 581: IFFALSE 606
// unit := CreateCharacter ( mission_prefix_prev & ident ) else
 583: LD_ADDR_VAR 0 4
 587: PUSH
 588: LD_EXP 3
 592: PUSH
 593: LD_VAR 0 1
 597: STR
 598: PPUSH
 599: CALL_OW 34
 603: ST_TO_ADDR
 604: GO 621
// unit := NewCharacter ( ident ) ;
 606: LD_ADDR_VAR 0 4
 610: PUSH
 611: LD_VAR 0 1
 615: PPUSH
 616: CALL_OW 25
 620: ST_TO_ADDR
// result := unit ;
 621: LD_ADDR_VAR 0 3
 625: PUSH
 626: LD_VAR 0 4
 630: ST_TO_ADDR
// end ;
 631: LD_VAR 0 3
 635: RET
// export function UniqueUnit ( tmp , unit ) ; begin
 636: LD_INT 0
 638: PPUSH
// end ; end_of_file end_of_file
 639: LD_VAR 0 3
 643: RET
