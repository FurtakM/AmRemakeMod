// export JMM , Powell ; export convoy , prepConv ; starting begin Resetfog ;
   0: CALL_OW 335
// SetBName ( Am_dep , alpha ) ;
   4: LD_INT 5
   6: PPUSH
   7: LD_STRING alpha
   9: PPUSH
  10: CALL_OW 500
// convoy = [ ] ;
  14: LD_ADDR_EXP 3
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// PrepareHeroes ;
  21: CALL 534 0 0
// end ; end_of_file
  25: END
// every 1 do
  26: GO 28
  28: DISABLE
// begin InGameOn ;
  29: CALL_OW 8
// AddComConstruct ( Am_tov1 , 2 , 1 , 1 , 4 ) ;
  33: LD_INT 60
  35: PPUSH
  36: LD_INT 2
  38: PPUSH
  39: LD_INT 1
  41: PPUSH
  42: LD_INT 1
  44: PPUSH
  45: LD_INT 4
  47: PPUSH
  48: CALL_OW 185
// AddComConstruct ( Am_tov2 , 4 , 1 , 1 , 6 ) ;
  52: LD_INT 6
  54: PPUSH
  55: LD_INT 4
  57: PPUSH
  58: LD_INT 1
  60: PPUSH
  61: LD_INT 1
  63: PPUSH
  64: LD_INT 6
  66: PPUSH
  67: CALL_OW 185
// AddComResearch ( [ Am_lab1 , Am_lab2 ] , tech_weap1 ) ;
  71: LD_INT 47
  73: PUSH
  74: LD_INT 4
  76: PUSH
  77: EMPTY
  78: LIST
  79: LIST
  80: PPUSH
  81: LD_INT 51
  83: PPUSH
  84: CALL_OW 184
// AddComResearch ( [ Am_lab1 , Am_lab2 ] , tech_weap2 ) ;
  88: LD_INT 47
  90: PUSH
  91: LD_INT 4
  93: PUSH
  94: EMPTY
  95: LIST
  96: LIST
  97: PPUSH
  98: LD_INT 52
 100: PPUSH
 101: CALL_OW 184
// AddComResearch ( [ Am_lab1 , Am_lab2 ] , tech_weap3 ) ;
 105: LD_INT 47
 107: PUSH
 108: LD_INT 4
 110: PUSH
 111: EMPTY
 112: LIST
 113: LIST
 114: PPUSH
 115: LD_INT 53
 117: PPUSH
 118: CALL_OW 184
// CenterNowOnUnits ( car ) ;
 122: LD_INT 138
 124: PPUSH
 125: CALL_OW 87
// ComMoveXY ( car , 69 , 36 ) ;
 129: LD_INT 138
 131: PPUSH
 132: LD_INT 69
 134: PPUSH
 135: LD_INT 36
 137: PPUSH
 138: CALL_OW 111
// AddComMoveXY ( car , 65 , 43 ) ;
 142: LD_INT 138
 144: PPUSH
 145: LD_INT 65
 147: PPUSH
 148: LD_INT 43
 150: PPUSH
 151: CALL_OW 171
// AddComMoveXY ( car , 63 , 48 ) ;
 155: LD_INT 138
 157: PPUSH
 158: LD_INT 63
 160: PPUSH
 161: LD_INT 48
 163: PPUSH
 164: CALL_OW 171
// AddComMoveXY ( car , 60 , 50 ) ;
 168: LD_INT 138
 170: PPUSH
 171: LD_INT 60
 173: PPUSH
 174: LD_INT 50
 176: PPUSH
 177: CALL_OW 171
// AddComMoveXY ( car , 54 , 47 ) ;
 181: LD_INT 138
 183: PPUSH
 184: LD_INT 54
 186: PPUSH
 187: LD_INT 47
 189: PPUSH
 190: CALL_OW 171
// AddComMoveXY ( car , 51 , 40 ) ;
 194: LD_INT 138
 196: PPUSH
 197: LD_INT 51
 199: PPUSH
 200: LD_INT 40
 202: PPUSH
 203: CALL_OW 171
// repeat wait ( 0 0$1 ) ;
 207: LD_INT 35
 209: PPUSH
 210: CALL_OW 67
// CenterNowOnUnits ( car ) ;
 214: LD_INT 138
 216: PPUSH
 217: CALL_OW 87
// until IsInArea ( car , stop ) ;
 221: LD_INT 138
 223: PPUSH
 224: LD_INT 7
 226: PPUSH
 227: CALL_OW 308
 231: IFFALSE 207
// ComExitVehicle ( JMM ) ;
 233: LD_EXP 1
 237: PPUSH
 238: CALL_OW 121
// wait ( 0 0$01 ) ;
 242: LD_INT 35
 244: PPUSH
 245: CALL_OW 67
// ComMoveXY ( JMM , 42 , 37 ) ;
 249: LD_EXP 1
 253: PPUSH
 254: LD_INT 42
 256: PPUSH
 257: LD_INT 37
 259: PPUSH
 260: CALL_OW 111
// wait ( 0 0$5 ) ;
 264: LD_INT 175
 266: PPUSH
 267: CALL_OW 67
// ComExitBuilding ( Powell ) ;
 271: LD_EXP 2
 275: PPUSH
 276: CALL_OW 122
// wait ( 0 0$01 ) ;
 280: LD_INT 35
 282: PPUSH
 283: CALL_OW 67
// ComTurnUnit ( Powell , JMM ) ;
 287: LD_EXP 2
 291: PPUSH
 292: LD_EXP 1
 296: PPUSH
 297: CALL_OW 119
// ComTurnUnit ( JMM , Powell ) ;
 301: LD_EXP 1
 305: PPUSH
 306: LD_EXP 2
 310: PPUSH
 311: CALL_OW 119
// Say ( JMM , D1-JMM-1 ) ;
 315: LD_EXP 1
 319: PPUSH
 320: LD_STRING D1-JMM-1
 322: PPUSH
 323: CALL_OW 88
// Say ( Powell , D1-Pow-1 ) ;
 327: LD_EXP 2
 331: PPUSH
 332: LD_STRING D1-Pow-1
 334: PPUSH
 335: CALL_OW 88
// Say ( JMM , D1-JMM-2 ) ;
 339: LD_EXP 1
 343: PPUSH
 344: LD_STRING D1-JMM-2
 346: PPUSH
 347: CALL_OW 88
// Say ( Powell , D1-Pow-2 ) ;
 351: LD_EXP 2
 355: PPUSH
 356: LD_STRING D1-Pow-2
 358: PPUSH
 359: CALL_OW 88
// Say ( JMM , D1-JMM-3 ) ;
 363: LD_EXP 1
 367: PPUSH
 368: LD_STRING D1-JMM-3
 370: PPUSH
 371: CALL_OW 88
// Say ( Powell , D1-Pow-3 ) ;
 375: LD_EXP 2
 379: PPUSH
 380: LD_STRING D1-Pow-3
 382: PPUSH
 383: CALL_OW 88
// Say ( JMM , D1-JMM-4 ) ;
 387: LD_EXP 1
 391: PPUSH
 392: LD_STRING D1-JMM-4
 394: PPUSH
 395: CALL_OW 88
// PrepareConvoy ;
 399: CALL 614 0 0
// Say ( Powell , D1-Pow-4 ) ;
 403: LD_EXP 2
 407: PPUSH
 408: LD_STRING D1-Pow-4
 410: PPUSH
 411: CALL_OW 88
// Say ( Powell , D1-Pow-4a ) ;
 415: LD_EXP 2
 419: PPUSH
 420: LD_STRING D1-Pow-4a
 422: PPUSH
 423: CALL_OW 88
// Say ( Powell , D1-Pow-4b ) ;
 427: LD_EXP 2
 431: PPUSH
 432: LD_STRING D1-Pow-4b
 434: PPUSH
 435: CALL_OW 88
// Say ( JMM , D1-JMM-5 ) ;
 439: LD_EXP 1
 443: PPUSH
 444: LD_STRING D1-JMM-5
 446: PPUSH
 447: CALL_OW 88
// Say ( Powell , D1-Pow-5 ) ;
 451: LD_EXP 2
 455: PPUSH
 456: LD_STRING D1-Pow-5
 458: PPUSH
 459: CALL_OW 88
// Say ( JMM , D1-JMM-6 ) ;
 463: LD_EXP 1
 467: PPUSH
 468: LD_STRING D1-JMM-6
 470: PPUSH
 471: CALL_OW 88
// Say ( Powell , D1-Pow-6 ) ;
 475: LD_EXP 2
 479: PPUSH
 480: LD_STRING D1-Pow-6
 482: PPUSH
 483: CALL_OW 88
// Say ( JMM , D1-JMM-7 ) ;
 487: LD_EXP 1
 491: PPUSH
 492: LD_STRING D1-JMM-7
 494: PPUSH
 495: CALL_OW 88
// Say ( Powell , D1-Pow-7 ) ;
 499: LD_EXP 2
 503: PPUSH
 504: LD_STRING D1-Pow-7
 506: PPUSH
 507: CALL_OW 88
// Say ( JMM , D1-JMM-8 ) ;
 511: LD_EXP 1
 515: PPUSH
 516: LD_STRING D1-JMM-8
 518: PPUSH
 519: CALL_OW 88
// ChangeMap ( 10 , %_cont ) ;
 523: LD_INT 10
 525: PPUSH
 526: LD_STRING %_cont
 528: PPUSH
 529: CALL_OW 340
// end ; end_of_file
 533: END
// export function PrepareHeroes ; begin
 534: LD_INT 0
 536: PPUSH
// uc_side = 1 ;
 537: LD_ADDR_OWVAR 20
 541: PUSH
 542: LD_INT 1
 544: ST_TO_ADDR
// uc_nation = 1 ;
 545: LD_ADDR_OWVAR 21
 549: PUSH
 550: LD_INT 1
 552: ST_TO_ADDR
// JMM = PrepareUnit ( JMM , false ) ;
 553: LD_ADDR_EXP 1
 557: PUSH
 558: LD_STRING JMM
 560: PPUSH
 561: LD_INT 0
 563: PPUSH
 564: CALL 1135 0 2
 568: ST_TO_ADDR
// Powell = PrepareUnit ( Powell , false ) ;
 569: LD_ADDR_EXP 2
 573: PUSH
 574: LD_STRING Powell
 576: PPUSH
 577: LD_INT 0
 579: PPUSH
 580: CALL 1135 0 2
 584: ST_TO_ADDR
// PlaceHumanInUnit ( JMM , car ) ;
 585: LD_EXP 1
 589: PPUSH
 590: LD_INT 138
 592: PPUSH
 593: CALL_OW 52
// PlaceHumanInUnit ( Powell , Am_bar ) ;
 597: LD_EXP 2
 601: PPUSH
 602: LD_INT 58
 604: PPUSH
 605: CALL_OW 52
// end ;
 609: LD_VAR 0 1
 613: RET
// export function PrepareConvoy ; var i , veh , un ; begin
 614: LD_INT 0
 616: PPUSH
 617: PPUSH
 618: PPUSH
 619: PPUSH
// uc_side = 1 ;
 620: LD_ADDR_OWVAR 20
 624: PUSH
 625: LD_INT 1
 627: ST_TO_ADDR
// uc_nation = 1 ;
 628: LD_ADDR_OWVAR 21
 632: PUSH
 633: LD_INT 1
 635: ST_TO_ADDR
// for i := 1 to 3 do
 636: LD_ADDR_VAR 0 2
 640: PUSH
 641: DOUBLE
 642: LD_INT 1
 644: DEC
 645: ST_TO_ADDR
 646: LD_INT 3
 648: PUSH
 649: FOR_TO
 650: IFFALSE 796
// begin vc_engine = 1 ;
 652: LD_ADDR_OWVAR 39
 656: PUSH
 657: LD_INT 1
 659: ST_TO_ADDR
// vc_control = 1 ;
 660: LD_ADDR_OWVAR 38
 664: PUSH
 665: LD_INT 1
 667: ST_TO_ADDR
// vc_weapon = [ 3 , 4 , 5 ] [ Rand ( 1 , 3 ) ] ;
 668: LD_ADDR_OWVAR 40
 672: PUSH
 673: LD_INT 3
 675: PUSH
 676: LD_INT 4
 678: PUSH
 679: LD_INT 5
 681: PUSH
 682: EMPTY
 683: LIST
 684: LIST
 685: LIST
 686: PUSH
 687: LD_INT 1
 689: PPUSH
 690: LD_INT 3
 692: PPUSH
 693: CALL_OW 12
 697: ARRAY
 698: ST_TO_ADDR
// vc_chassis = 3 ;
 699: LD_ADDR_OWVAR 37
 703: PUSH
 704: LD_INT 3
 706: ST_TO_ADDR
// veh = CreateVehicle ;
 707: LD_ADDR_VAR 0 3
 711: PUSH
 712: CALL_OW 45
 716: ST_TO_ADDR
// SetDir ( veh , 1 ) ;
 717: LD_VAR 0 3
 721: PPUSH
 722: LD_INT 1
 724: PPUSH
 725: CALL_OW 233
// PlaceUnitArea ( veh , WeaponTanks , false ) ;
 729: LD_VAR 0 3
 733: PPUSH
 734: LD_INT 8
 736: PPUSH
 737: LD_INT 0
 739: PPUSH
 740: CALL_OW 49
// convoy = convoy ^ veh ;
 744: LD_ADDR_EXP 3
 748: PUSH
 749: LD_EXP 3
 753: PUSH
 754: LD_VAR 0 3
 758: ADD
 759: ST_TO_ADDR
// PrepareMechanic ( false , 10 ) ;
 760: LD_INT 0
 762: PPUSH
 763: LD_INT 10
 765: PPUSH
 766: CALL_OW 383
// un = CreateHuman ;
 770: LD_ADDR_VAR 0 4
 774: PUSH
 775: CALL_OW 44
 779: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
 780: LD_VAR 0 4
 784: PPUSH
 785: LD_VAR 0 3
 789: PPUSH
 790: CALL_OW 52
// end ;
 794: GO 649
 796: POP
 797: POP
// for i := 1 to 3 do
 798: LD_ADDR_VAR 0 2
 802: PUSH
 803: DOUBLE
 804: LD_INT 1
 806: DEC
 807: ST_TO_ADDR
 808: LD_INT 3
 810: PUSH
 811: FOR_TO
 812: IFFALSE 950
// begin vc_engine = 1 ;
 814: LD_ADDR_OWVAR 39
 818: PUSH
 819: LD_INT 1
 821: ST_TO_ADDR
// vc_control = 1 ;
 822: LD_ADDR_OWVAR 38
 826: PUSH
 827: LD_INT 1
 829: ST_TO_ADDR
// vc_weapon = 12 ;
 830: LD_ADDR_OWVAR 40
 834: PUSH
 835: LD_INT 12
 837: ST_TO_ADDR
// vc_chassis = 3 ;
 838: LD_ADDR_OWVAR 37
 842: PUSH
 843: LD_INT 3
 845: ST_TO_ADDR
// veh = CreateVehicle ;
 846: LD_ADDR_VAR 0 3
 850: PUSH
 851: CALL_OW 45
 855: ST_TO_ADDR
// SetDir ( veh , 1 ) ;
 856: LD_VAR 0 3
 860: PPUSH
 861: LD_INT 1
 863: PPUSH
 864: CALL_OW 233
// PlaceUnitArea ( veh , Cargo , false ) ;
 868: LD_VAR 0 3
 872: PPUSH
 873: LD_INT 9
 875: PPUSH
 876: LD_INT 0
 878: PPUSH
 879: CALL_OW 49
// AddCargo ( veh , 1 , 100 ) ;
 883: LD_VAR 0 3
 887: PPUSH
 888: LD_INT 1
 890: PPUSH
 891: LD_INT 100
 893: PPUSH
 894: CALL_OW 291
// convoy = convoy ^ veh ;
 898: LD_ADDR_EXP 3
 902: PUSH
 903: LD_EXP 3
 907: PUSH
 908: LD_VAR 0 3
 912: ADD
 913: ST_TO_ADDR
// PrepareMechanic ( false , 10 ) ;
 914: LD_INT 0
 916: PPUSH
 917: LD_INT 10
 919: PPUSH
 920: CALL_OW 383
// un = CreateHuman ;
 924: LD_ADDR_VAR 0 4
 928: PUSH
 929: CALL_OW 44
 933: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
 934: LD_VAR 0 4
 938: PPUSH
 939: LD_VAR 0 3
 943: PPUSH
 944: CALL_OW 52
// end ;
 948: GO 811
 950: POP
 951: POP
// ComMoveXY ( convoy [ 1 ] , 39 , 38 ) ;
 952: LD_EXP 3
 956: PUSH
 957: LD_INT 1
 959: ARRAY
 960: PPUSH
 961: LD_INT 39
 963: PPUSH
 964: LD_INT 38
 966: PPUSH
 967: CALL_OW 111
// AddComMoveXY ( convoy [ 1 ] , 41 , 50 ) ;
 971: LD_EXP 3
 975: PUSH
 976: LD_INT 1
 978: ARRAY
 979: PPUSH
 980: LD_INT 41
 982: PPUSH
 983: LD_INT 50
 985: PPUSH
 986: CALL_OW 171
// ComMoveXY ( convoy [ 2 ] , 39 , 38 ) ;
 990: LD_EXP 3
 994: PUSH
 995: LD_INT 2
 997: ARRAY
 998: PPUSH
 999: LD_INT 39
1001: PPUSH
1002: LD_INT 38
1004: PPUSH
1005: CALL_OW 111
// AddComMoveXY ( convoy [ 2 ] , 41 , 47 ) ;
1009: LD_EXP 3
1013: PUSH
1014: LD_INT 2
1016: ARRAY
1017: PPUSH
1018: LD_INT 41
1020: PPUSH
1021: LD_INT 47
1023: PPUSH
1024: CALL_OW 171
// ComMoveXY ( convoy [ 3 ] , 39 , 38 ) ;
1028: LD_EXP 3
1032: PUSH
1033: LD_INT 3
1035: ARRAY
1036: PPUSH
1037: LD_INT 39
1039: PPUSH
1040: LD_INT 38
1042: PPUSH
1043: CALL_OW 111
// AddComMoveXY ( convoy [ 3 ] , 41 , 44 ) ;
1047: LD_EXP 3
1051: PUSH
1052: LD_INT 3
1054: ARRAY
1055: PPUSH
1056: LD_INT 41
1058: PPUSH
1059: LD_INT 44
1061: PPUSH
1062: CALL_OW 171
// wait ( 0 0$4 ) ;
1066: LD_INT 140
1068: PPUSH
1069: CALL_OW 67
// ComMoveXY ( convoy [ 4 ] , 47 , 49 ) ;
1073: LD_EXP 3
1077: PUSH
1078: LD_INT 4
1080: ARRAY
1081: PPUSH
1082: LD_INT 47
1084: PPUSH
1085: LD_INT 49
1087: PPUSH
1088: CALL_OW 111
// ComMoveXY ( convoy [ 5 ] , 47 , 49 ) ;
1092: LD_EXP 3
1096: PUSH
1097: LD_INT 5
1099: ARRAY
1100: PPUSH
1101: LD_INT 47
1103: PPUSH
1104: LD_INT 49
1106: PPUSH
1107: CALL_OW 111
// ComMoveXY ( convoy [ 6 ] , 47 , 49 ) ;
1111: LD_EXP 3
1115: PUSH
1116: LD_INT 6
1118: ARRAY
1119: PPUSH
1120: LD_INT 47
1122: PPUSH
1123: LD_INT 49
1125: PPUSH
1126: CALL_OW 111
// end ; end_of_file
1130: LD_VAR 0 1
1134: RET
// export function PrepareUnit ( ident , exist_mode ) ; var unit ; begin
1135: LD_INT 0
1137: PPUSH
1138: PPUSH
// if exist_mode then
1139: LD_VAR 0 2
1143: IFFALSE 1162
// unit := CreateCharacter ( ident ) else
1145: LD_ADDR_VAR 0 4
1149: PUSH
1150: LD_VAR 0 1
1154: PPUSH
1155: CALL_OW 34
1159: ST_TO_ADDR
1160: GO 1177
// unit := NewCharacter ( ident ) ;
1162: LD_ADDR_VAR 0 4
1166: PUSH
1167: LD_VAR 0 1
1171: PPUSH
1172: CALL_OW 25
1176: ST_TO_ADDR
// result := unit ;
1177: LD_ADDR_VAR 0 3
1181: PUSH
1182: LD_VAR 0 4
1186: ST_TO_ADDR
// end ;
1187: LD_VAR 0 3
1191: RET
