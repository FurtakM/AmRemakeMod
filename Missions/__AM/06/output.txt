// export JMM , Gladstone , Denis , Lisa , Frank , Bobby , Cyrus , Brown , Donaldson ; export others ; export apemans , yourApemans ; export yourVehicles ; export DeltaDoctor ; export Harisson ; export baseCorrect ; export mission_prefix , mission_prefix_prev ; starting begin Resetfog ;
   0: CALL_OW 335
// RandomizeAll ;
   4: CALL_OW 11
// FogOff ( true ) ;
   8: LD_INT 1
  10: PPUSH
  11: CALL_OW 344
// baseCorrect = 0 ;
  15: LD_ADDR_EXP 16
  19: PUSH
  20: LD_INT 0
  22: ST_TO_ADDR
// apemans = [ ] ;
  23: LD_ADDR_EXP 11
  27: PUSH
  28: EMPTY
  29: ST_TO_ADDR
// yourApemans = [ ] ;
  30: LD_ADDR_EXP 12
  34: PUSH
  35: EMPTY
  36: ST_TO_ADDR
// yourVehicles = [ ] ;
  37: LD_ADDR_EXP 13
  41: PUSH
  42: EMPTY
  43: ST_TO_ADDR
// mission_prefix := 06_ ;
  44: LD_ADDR_EXP 17
  48: PUSH
  49: LD_STRING 06_
  51: ST_TO_ADDR
// mission_prefix_prev := 05_ ;
  52: LD_ADDR_EXP 18
  56: PUSH
  57: LD_STRING 05_
  59: ST_TO_ADDR
// PrepareDeltaBase ;
  60: CALL 1960 0 0
// LoadVehicles ;
  64: CALL 1190 0 0
// PrepareHeroes ;
  68: CALL 77 0 0
// PrepareRandoms ;
  72: CALL 1475 0 0
// end ; end_of_file
  76: END
// export function PrepareHeroes ; var i , tmp , ape , test ; begin
  77: LD_INT 0
  79: PPUSH
  80: PPUSH
  81: PPUSH
  82: PPUSH
  83: PPUSH
// tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_btype , b_depot ] ] ) ;
  84: LD_ADDR_VAR 0 3
  88: PUSH
  89: LD_INT 22
  91: PUSH
  92: LD_INT 1
  94: PUSH
  95: EMPTY
  96: LIST
  97: LIST
  98: PUSH
  99: LD_INT 21
 101: PUSH
 102: LD_INT 3
 104: PUSH
 105: EMPTY
 106: LIST
 107: LIST
 108: PUSH
 109: LD_INT 30
 111: PUSH
 112: LD_INT 0
 114: PUSH
 115: EMPTY
 116: LIST
 117: LIST
 118: PUSH
 119: EMPTY
 120: LIST
 121: LIST
 122: LIST
 123: PPUSH
 124: CALL_OW 69
 128: ST_TO_ADDR
// SetBName ( tmp [ 1 ] , delta ) ;
 129: LD_VAR 0 3
 133: PUSH
 134: LD_INT 1
 136: ARRAY
 137: PPUSH
 138: LD_STRING delta
 140: PPUSH
 141: CALL_OW 500
// uc_side = 1 ;
 145: LD_ADDR_OWVAR 20
 149: PUSH
 150: LD_INT 1
 152: ST_TO_ADDR
// uc_nation = 1 ;
 153: LD_ADDR_OWVAR 21
 157: PUSH
 158: LD_INT 1
 160: ST_TO_ADDR
// JMM = PrepareUnit ( JMM , true ) ;
 161: LD_ADDR_EXP 1
 165: PUSH
 166: LD_STRING JMM
 168: PPUSH
 169: LD_INT 1
 171: PPUSH
 172: CALL 3767 0 2
 176: ST_TO_ADDR
// Harisson = PrepareUnit ( Harisson , false ) ;
 177: LD_ADDR_EXP 15
 181: PUSH
 182: LD_STRING Harisson
 184: PPUSH
 185: LD_INT 0
 187: PPUSH
 188: CALL 3767 0 2
 192: ST_TO_ADDR
// PlaceUnitXYR ( JMM , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 193: LD_EXP 1
 197: PPUSH
 198: LD_VAR 0 3
 202: PUSH
 203: LD_INT 1
 205: ARRAY
 206: PPUSH
 207: CALL_OW 250
 211: PPUSH
 212: LD_VAR 0 3
 216: PUSH
 217: LD_INT 1
 219: ARRAY
 220: PPUSH
 221: CALL_OW 251
 225: PPUSH
 226: LD_INT 5
 228: PPUSH
 229: LD_INT 0
 231: PPUSH
 232: CALL_OW 50
// SetClass ( JMM , 1 ) ;
 236: LD_EXP 1
 240: PPUSH
 241: LD_INT 1
 243: PPUSH
 244: CALL_OW 336
// Gladstone = PrepareUnit ( Gladstone , true ) ;
 248: LD_ADDR_EXP 2
 252: PUSH
 253: LD_STRING Gladstone
 255: PPUSH
 256: LD_INT 1
 258: PPUSH
 259: CALL 3767 0 2
 263: ST_TO_ADDR
// PlaceUnitXYR ( Gladstone , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 264: LD_EXP 2
 268: PPUSH
 269: LD_VAR 0 3
 273: PUSH
 274: LD_INT 1
 276: ARRAY
 277: PPUSH
 278: CALL_OW 250
 282: PPUSH
 283: LD_VAR 0 3
 287: PUSH
 288: LD_INT 1
 290: ARRAY
 291: PPUSH
 292: CALL_OW 251
 296: PPUSH
 297: LD_INT 5
 299: PPUSH
 300: LD_INT 0
 302: PPUSH
 303: CALL_OW 50
// SetClass ( Gladstone , 4 ) ;
 307: LD_EXP 2
 311: PPUSH
 312: LD_INT 4
 314: PPUSH
 315: CALL_OW 336
// Denis = PrepareUnit ( Denis , true ) ;
 319: LD_ADDR_EXP 3
 323: PUSH
 324: LD_STRING Denis
 326: PPUSH
 327: LD_INT 1
 329: PPUSH
 330: CALL 3767 0 2
 334: ST_TO_ADDR
// PlaceUnitXYR ( Denis , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 335: LD_EXP 3
 339: PPUSH
 340: LD_VAR 0 3
 344: PUSH
 345: LD_INT 1
 347: ARRAY
 348: PPUSH
 349: CALL_OW 250
 353: PPUSH
 354: LD_VAR 0 3
 358: PUSH
 359: LD_INT 1
 361: ARRAY
 362: PPUSH
 363: CALL_OW 251
 367: PPUSH
 368: LD_INT 5
 370: PPUSH
 371: LD_INT 0
 373: PPUSH
 374: CALL_OW 50
// SetClass ( Denis , 4 ) ;
 378: LD_EXP 3
 382: PPUSH
 383: LD_INT 4
 385: PPUSH
 386: CALL_OW 336
// if LoadVariable ( FrankInDelta , 0 ) = 1 then
 390: LD_STRING FrankInDelta
 392: PPUSH
 393: LD_INT 0
 395: PPUSH
 396: CALL_OW 30
 400: PUSH
 401: LD_INT 1
 403: EQUAL
 404: IFFALSE 477
// begin Frank = PrepareUnit ( Frank , true ) ;
 406: LD_ADDR_EXP 5
 410: PUSH
 411: LD_STRING Frank
 413: PPUSH
 414: LD_INT 1
 416: PPUSH
 417: CALL 3767 0 2
 421: ST_TO_ADDR
// PlaceUnitXYR ( Frank , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 422: LD_EXP 5
 426: PPUSH
 427: LD_VAR 0 3
 431: PUSH
 432: LD_INT 1
 434: ARRAY
 435: PPUSH
 436: CALL_OW 250
 440: PPUSH
 441: LD_VAR 0 3
 445: PUSH
 446: LD_INT 1
 448: ARRAY
 449: PPUSH
 450: CALL_OW 251
 454: PPUSH
 455: LD_INT 5
 457: PPUSH
 458: LD_INT 0
 460: PPUSH
 461: CALL_OW 50
// SetClass ( Frank , 1 ) ;
 465: LD_EXP 5
 469: PPUSH
 470: LD_INT 1
 472: PPUSH
 473: CALL_OW 336
// end ; if LoadVariable ( LisaInDelta , 0 ) = 1 then
 477: LD_STRING LisaInDelta
 479: PPUSH
 480: LD_INT 0
 482: PPUSH
 483: CALL_OW 30
 487: PUSH
 488: LD_INT 1
 490: EQUAL
 491: IFFALSE 564
// begin Lisa = PrepareUnit ( Lisa , true ) ;
 493: LD_ADDR_EXP 4
 497: PUSH
 498: LD_STRING Lisa
 500: PPUSH
 501: LD_INT 1
 503: PPUSH
 504: CALL 3767 0 2
 508: ST_TO_ADDR
// PlaceUnitXYR ( Lisa , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 509: LD_EXP 4
 513: PPUSH
 514: LD_VAR 0 3
 518: PUSH
 519: LD_INT 1
 521: ARRAY
 522: PPUSH
 523: CALL_OW 250
 527: PPUSH
 528: LD_VAR 0 3
 532: PUSH
 533: LD_INT 1
 535: ARRAY
 536: PPUSH
 537: CALL_OW 251
 541: PPUSH
 542: LD_INT 5
 544: PPUSH
 545: LD_INT 0
 547: PPUSH
 548: CALL_OW 50
// SetClass ( Lisa , 1 ) ;
 552: LD_EXP 4
 556: PPUSH
 557: LD_INT 1
 559: PPUSH
 560: CALL_OW 336
// end ; if LoadVariable ( BobbyInDelta , 0 ) = 1 then
 564: LD_STRING BobbyInDelta
 566: PPUSH
 567: LD_INT 0
 569: PPUSH
 570: CALL_OW 30
 574: PUSH
 575: LD_INT 1
 577: EQUAL
 578: IFFALSE 651
// begin Bobby = PrepareUnit ( Bobby , true ) ;
 580: LD_ADDR_EXP 6
 584: PUSH
 585: LD_STRING Bobby
 587: PPUSH
 588: LD_INT 1
 590: PPUSH
 591: CALL 3767 0 2
 595: ST_TO_ADDR
// PlaceUnitXYR ( Bobby , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 596: LD_EXP 6
 600: PPUSH
 601: LD_VAR 0 3
 605: PUSH
 606: LD_INT 1
 608: ARRAY
 609: PPUSH
 610: CALL_OW 250
 614: PPUSH
 615: LD_VAR 0 3
 619: PUSH
 620: LD_INT 1
 622: ARRAY
 623: PPUSH
 624: CALL_OW 251
 628: PPUSH
 629: LD_INT 5
 631: PPUSH
 632: LD_INT 0
 634: PPUSH
 635: CALL_OW 50
// SetClass ( Bobby , 1 ) ;
 639: LD_EXP 6
 643: PPUSH
 644: LD_INT 1
 646: PPUSH
 647: CALL_OW 336
// end ; if LoadVariable ( CyrusInDelta , 0 ) = 1 then
 651: LD_STRING CyrusInDelta
 653: PPUSH
 654: LD_INT 0
 656: PPUSH
 657: CALL_OW 30
 661: PUSH
 662: LD_INT 1
 664: EQUAL
 665: IFFALSE 738
// begin Cyrus = PrepareUnit ( Cyrus , true ) ;
 667: LD_ADDR_EXP 7
 671: PUSH
 672: LD_STRING Cyrus
 674: PPUSH
 675: LD_INT 1
 677: PPUSH
 678: CALL 3767 0 2
 682: ST_TO_ADDR
// PlaceUnitXYR ( Cyrus , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 683: LD_EXP 7
 687: PPUSH
 688: LD_VAR 0 3
 692: PUSH
 693: LD_INT 1
 695: ARRAY
 696: PPUSH
 697: CALL_OW 250
 701: PPUSH
 702: LD_VAR 0 3
 706: PUSH
 707: LD_INT 1
 709: ARRAY
 710: PPUSH
 711: CALL_OW 251
 715: PPUSH
 716: LD_INT 5
 718: PPUSH
 719: LD_INT 0
 721: PPUSH
 722: CALL_OW 50
// SetClass ( Cyrus , 1 ) ;
 726: LD_EXP 7
 730: PPUSH
 731: LD_INT 1
 733: PPUSH
 734: CALL_OW 336
// end ; if LoadVariable ( DonaldsonInDelta , 0 ) = 1 then
 738: LD_STRING DonaldsonInDelta
 740: PPUSH
 741: LD_INT 0
 743: PPUSH
 744: CALL_OW 30
 748: PUSH
 749: LD_INT 1
 751: EQUAL
 752: IFFALSE 825
// begin Donaldson = PrepareUnit ( Donaldson , true ) ;
 754: LD_ADDR_EXP 9
 758: PUSH
 759: LD_STRING Donaldson
 761: PPUSH
 762: LD_INT 1
 764: PPUSH
 765: CALL 3767 0 2
 769: ST_TO_ADDR
// PlaceUnitXYR ( Donaldson , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 770: LD_EXP 9
 774: PPUSH
 775: LD_VAR 0 3
 779: PUSH
 780: LD_INT 1
 782: ARRAY
 783: PPUSH
 784: CALL_OW 250
 788: PPUSH
 789: LD_VAR 0 3
 793: PUSH
 794: LD_INT 1
 796: ARRAY
 797: PPUSH
 798: CALL_OW 251
 802: PPUSH
 803: LD_INT 5
 805: PPUSH
 806: LD_INT 0
 808: PPUSH
 809: CALL_OW 50
// SetClass ( Donaldson , 1 ) ;
 813: LD_EXP 9
 817: PPUSH
 818: LD_INT 1
 820: PPUSH
 821: CALL_OW 336
// end ; if LoadVariable ( BrownInDelta , 0 ) = 1 then
 825: LD_STRING BrownInDelta
 827: PPUSH
 828: LD_INT 0
 830: PPUSH
 831: CALL_OW 30
 835: PUSH
 836: LD_INT 1
 838: EQUAL
 839: IFFALSE 912
// begin Brown = PrepareUnit ( Brown , true ) ;
 841: LD_ADDR_EXP 8
 845: PUSH
 846: LD_STRING Brown
 848: PPUSH
 849: LD_INT 1
 851: PPUSH
 852: CALL 3767 0 2
 856: ST_TO_ADDR
// PlaceUnitXYR ( Brown , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
 857: LD_EXP 8
 861: PPUSH
 862: LD_VAR 0 3
 866: PUSH
 867: LD_INT 1
 869: ARRAY
 870: PPUSH
 871: CALL_OW 250
 875: PPUSH
 876: LD_VAR 0 3
 880: PUSH
 881: LD_INT 1
 883: ARRAY
 884: PPUSH
 885: CALL_OW 251
 889: PPUSH
 890: LD_INT 5
 892: PPUSH
 893: LD_INT 0
 895: PPUSH
 896: CALL_OW 50
// SetClass ( Brown , 2 ) ;
 900: LD_EXP 8
 904: PPUSH
 905: LD_INT 2
 907: PPUSH
 908: CALL_OW 336
// end ; others = CreateCharacterSet ( othersInDelta ) ;
 912: LD_ADDR_EXP 10
 916: PUSH
 917: LD_STRING othersInDelta
 919: PPUSH
 920: CALL_OW 31
 924: ST_TO_ADDR
// for i in others do
 925: LD_ADDR_VAR 0 2
 929: PUSH
 930: LD_EXP 10
 934: PUSH
 935: FOR_IN
 936: IFFALSE 983
// PlaceUnitXYR ( i , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 35 , false ) ;
 938: LD_VAR 0 2
 942: PPUSH
 943: LD_VAR 0 3
 947: PUSH
 948: LD_INT 1
 950: ARRAY
 951: PPUSH
 952: CALL_OW 250
 956: PPUSH
 957: LD_VAR 0 3
 961: PUSH
 962: LD_INT 1
 964: ARRAY
 965: PPUSH
 966: CALL_OW 251
 970: PPUSH
 971: LD_INT 35
 973: PPUSH
 974: LD_INT 0
 976: PPUSH
 977: CALL_OW 50
 981: GO 935
 983: POP
 984: POP
// apemans = CreateCharacterSet ( apeInDelta ) ;
 985: LD_ADDR_EXP 11
 989: PUSH
 990: LD_STRING apeInDelta
 992: PPUSH
 993: CALL_OW 31
 997: ST_TO_ADDR
// uc_nation = 0 ;
 998: LD_ADDR_OWVAR 21
1002: PUSH
1003: LD_INT 0
1005: ST_TO_ADDR
// if apemans > 5 then
1006: LD_EXP 11
1010: PUSH
1011: LD_INT 5
1013: GREATER
1014: IFFALSE 1109
// begin for i := 1 to 5 do
1016: LD_ADDR_VAR 0 2
1020: PUSH
1021: DOUBLE
1022: LD_INT 1
1024: DEC
1025: ST_TO_ADDR
1026: LD_INT 5
1028: PUSH
1029: FOR_TO
1030: IFFALSE 1105
// begin PlaceUnitXYR ( apemans [ i ] , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 50 , false ) ;
1032: LD_EXP 11
1036: PUSH
1037: LD_VAR 0 2
1041: ARRAY
1042: PPUSH
1043: LD_VAR 0 3
1047: PUSH
1048: LD_INT 1
1050: ARRAY
1051: PPUSH
1052: CALL_OW 250
1056: PPUSH
1057: LD_VAR 0 3
1061: PUSH
1062: LD_INT 1
1064: ARRAY
1065: PPUSH
1066: CALL_OW 251
1070: PPUSH
1071: LD_INT 50
1073: PPUSH
1074: LD_INT 0
1076: PPUSH
1077: CALL_OW 50
// yourApemans = yourApemans ^ apemans [ i ] ;
1081: LD_ADDR_EXP 12
1085: PUSH
1086: LD_EXP 12
1090: PUSH
1091: LD_EXP 11
1095: PUSH
1096: LD_VAR 0 2
1100: ARRAY
1101: ADD
1102: ST_TO_ADDR
// end ;
1103: GO 1029
1105: POP
1106: POP
// end else
1107: GO 1185
// begin for i in apemans do
1109: LD_ADDR_VAR 0 2
1113: PUSH
1114: LD_EXP 11
1118: PUSH
1119: FOR_IN
1120: IFFALSE 1183
// begin PlaceUnitXYR ( i , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 50 , false ) ;
1122: LD_VAR 0 2
1126: PPUSH
1127: LD_VAR 0 3
1131: PUSH
1132: LD_INT 1
1134: ARRAY
1135: PPUSH
1136: CALL_OW 250
1140: PPUSH
1141: LD_VAR 0 3
1145: PUSH
1146: LD_INT 1
1148: ARRAY
1149: PPUSH
1150: CALL_OW 251
1154: PPUSH
1155: LD_INT 50
1157: PPUSH
1158: LD_INT 0
1160: PPUSH
1161: CALL_OW 50
// yourApemans = yourApemans ^ i ;
1165: LD_ADDR_EXP 12
1169: PUSH
1170: LD_EXP 12
1174: PUSH
1175: LD_VAR 0 2
1179: ADD
1180: ST_TO_ADDR
// end ;
1181: GO 1119
1183: POP
1184: POP
// end ; end ;
1185: LD_VAR 0 1
1189: RET
// export function LoadVehicles ; var i , veh , tmp , vehicles ; begin
1190: LD_INT 0
1192: PPUSH
1193: PPUSH
1194: PPUSH
1195: PPUSH
1196: PPUSH
// tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_btype , b_depot ] ] ) ;
1197: LD_ADDR_VAR 0 4
1201: PUSH
1202: LD_INT 22
1204: PUSH
1205: LD_INT 1
1207: PUSH
1208: EMPTY
1209: LIST
1210: LIST
1211: PUSH
1212: LD_INT 21
1214: PUSH
1215: LD_INT 3
1217: PUSH
1218: EMPTY
1219: LIST
1220: LIST
1221: PUSH
1222: LD_INT 30
1224: PUSH
1225: LD_INT 0
1227: PUSH
1228: EMPTY
1229: LIST
1230: LIST
1231: PUSH
1232: EMPTY
1233: LIST
1234: LIST
1235: LIST
1236: PPUSH
1237: CALL_OW 69
1241: ST_TO_ADDR
// uc_side = 1 ;
1242: LD_ADDR_OWVAR 20
1246: PUSH
1247: LD_INT 1
1249: ST_TO_ADDR
// vehicles = LoadVariable ( vehiclesInDelta , [ ] ) ;
1250: LD_ADDR_VAR 0 5
1254: PUSH
1255: LD_STRING vehiclesInDelta
1257: PPUSH
1258: EMPTY
1259: PPUSH
1260: CALL_OW 30
1264: ST_TO_ADDR
// for i = 1 to vehicles do
1265: LD_ADDR_VAR 0 2
1269: PUSH
1270: DOUBLE
1271: LD_INT 1
1273: DEC
1274: ST_TO_ADDR
1275: LD_VAR 0 5
1279: PUSH
1280: FOR_TO
1281: IFFALSE 1468
// begin if vehicles [ i + 4 ] = 11 then
1283: LD_VAR 0 5
1287: PUSH
1288: LD_VAR 0 2
1292: PUSH
1293: LD_INT 4
1295: PLUS
1296: ARRAY
1297: PUSH
1298: LD_INT 11
1300: EQUAL
1301: IFFALSE 1452
// begin uc_nation = vehicles [ i ] ;
1303: LD_ADDR_OWVAR 21
1307: PUSH
1308: LD_VAR 0 5
1312: PUSH
1313: LD_VAR 0 2
1317: ARRAY
1318: ST_TO_ADDR
// vc_chassis = vehicles [ i + 1 ] ;
1319: LD_ADDR_OWVAR 37
1323: PUSH
1324: LD_VAR 0 5
1328: PUSH
1329: LD_VAR 0 2
1333: PUSH
1334: LD_INT 1
1336: PLUS
1337: ARRAY
1338: ST_TO_ADDR
// vc_engine = vehicles [ i + 2 ] ;
1339: LD_ADDR_OWVAR 39
1343: PUSH
1344: LD_VAR 0 5
1348: PUSH
1349: LD_VAR 0 2
1353: PUSH
1354: LD_INT 2
1356: PLUS
1357: ARRAY
1358: ST_TO_ADDR
// vc_control = vehicles [ i + 3 ] ;
1359: LD_ADDR_OWVAR 38
1363: PUSH
1364: LD_VAR 0 5
1368: PUSH
1369: LD_VAR 0 2
1373: PUSH
1374: LD_INT 3
1376: PLUS
1377: ARRAY
1378: ST_TO_ADDR
// vc_weapon = vehicles [ i + 4 ] ;
1379: LD_ADDR_OWVAR 40
1383: PUSH
1384: LD_VAR 0 5
1388: PUSH
1389: LD_VAR 0 2
1393: PUSH
1394: LD_INT 4
1396: PLUS
1397: ARRAY
1398: ST_TO_ADDR
// veh = CreateVehicle ;
1399: LD_ADDR_VAR 0 3
1403: PUSH
1404: CALL_OW 45
1408: ST_TO_ADDR
// PlaceUnitXYR ( veh , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 40 , false ) ;
1409: LD_VAR 0 3
1413: PPUSH
1414: LD_VAR 0 4
1418: PUSH
1419: LD_INT 1
1421: ARRAY
1422: PPUSH
1423: CALL_OW 250
1427: PPUSH
1428: LD_VAR 0 4
1432: PUSH
1433: LD_INT 1
1435: ARRAY
1436: PPUSH
1437: CALL_OW 251
1441: PPUSH
1442: LD_INT 40
1444: PPUSH
1445: LD_INT 0
1447: PPUSH
1448: CALL_OW 50
// end ; i = i + 4 ;
1452: LD_ADDR_VAR 0 2
1456: PUSH
1457: LD_VAR 0 2
1461: PUSH
1462: LD_INT 4
1464: PLUS
1465: ST_TO_ADDR
// end ;
1466: GO 1280
1468: POP
1469: POP
// end ;
1470: LD_VAR 0 1
1474: RET
// export function PrepareRandoms ; var i , un , tmp ; begin
1475: LD_INT 0
1477: PPUSH
1478: PPUSH
1479: PPUSH
1480: PPUSH
// uc_side = 1 ;
1481: LD_ADDR_OWVAR 20
1485: PUSH
1486: LD_INT 1
1488: ST_TO_ADDR
// uc_nation = 1 ;
1489: LD_ADDR_OWVAR 21
1493: PUSH
1494: LD_INT 1
1496: ST_TO_ADDR
// tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_btype , b_depot ] ] ) ;
1497: LD_ADDR_VAR 0 4
1501: PUSH
1502: LD_INT 22
1504: PUSH
1505: LD_INT 1
1507: PUSH
1508: EMPTY
1509: LIST
1510: LIST
1511: PUSH
1512: LD_INT 21
1514: PUSH
1515: LD_INT 3
1517: PUSH
1518: EMPTY
1519: LIST
1520: LIST
1521: PUSH
1522: LD_INT 30
1524: PUSH
1525: LD_INT 0
1527: PUSH
1528: EMPTY
1529: LIST
1530: LIST
1531: PUSH
1532: EMPTY
1533: LIST
1534: LIST
1535: LIST
1536: PPUSH
1537: CALL_OW 69
1541: ST_TO_ADDR
// if FilterAllunits ( [ [ [ f_side , 1 ] , [ f_class , 4 ] , [ f_sex , sex_male ] ] ] ) diff [ JMM , Cyrus , Bobby , Frank , Gladstone , Denis ] then
1542: LD_INT 22
1544: PUSH
1545: LD_INT 1
1547: PUSH
1548: EMPTY
1549: LIST
1550: LIST
1551: PUSH
1552: LD_INT 25
1554: PUSH
1555: LD_INT 4
1557: PUSH
1558: EMPTY
1559: LIST
1560: LIST
1561: PUSH
1562: LD_INT 26
1564: PUSH
1565: LD_INT 1
1567: PUSH
1568: EMPTY
1569: LIST
1570: LIST
1571: PUSH
1572: EMPTY
1573: LIST
1574: LIST
1575: LIST
1576: PUSH
1577: EMPTY
1578: LIST
1579: PPUSH
1580: CALL_OW 69
1584: PUSH
1585: LD_EXP 1
1589: PUSH
1590: LD_EXP 7
1594: PUSH
1595: LD_EXP 6
1599: PUSH
1600: LD_EXP 5
1604: PUSH
1605: LD_EXP 2
1609: PUSH
1610: LD_EXP 3
1614: PUSH
1615: EMPTY
1616: LIST
1617: LIST
1618: LIST
1619: LIST
1620: LIST
1621: LIST
1622: DIFF
1623: IFFALSE 1716
// deltaDoctor := ( FilterAllunits ( [ [ [ f_side , 1 ] , [ f_class , 4 ] , [ f_sex , sex_male ] ] ] ) diff [ JMM , Cyrus , Bobby , Frank , Gladstone , Denis ] ) [ 1 ] ;
1625: LD_ADDR_EXP 14
1629: PUSH
1630: LD_INT 22
1632: PUSH
1633: LD_INT 1
1635: PUSH
1636: EMPTY
1637: LIST
1638: LIST
1639: PUSH
1640: LD_INT 25
1642: PUSH
1643: LD_INT 4
1645: PUSH
1646: EMPTY
1647: LIST
1648: LIST
1649: PUSH
1650: LD_INT 26
1652: PUSH
1653: LD_INT 1
1655: PUSH
1656: EMPTY
1657: LIST
1658: LIST
1659: PUSH
1660: EMPTY
1661: LIST
1662: LIST
1663: LIST
1664: PUSH
1665: EMPTY
1666: LIST
1667: PPUSH
1668: CALL_OW 69
1672: PUSH
1673: LD_EXP 1
1677: PUSH
1678: LD_EXP 7
1682: PUSH
1683: LD_EXP 6
1687: PUSH
1688: LD_EXP 5
1692: PUSH
1693: LD_EXP 2
1697: PUSH
1698: LD_EXP 3
1702: PUSH
1703: EMPTY
1704: LIST
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: LIST
1710: DIFF
1711: PUSH
1712: LD_INT 1
1714: ARRAY
1715: ST_TO_ADDR
// for i = 1 to 6 + Difficulty do
1716: LD_ADDR_VAR 0 2
1720: PUSH
1721: DOUBLE
1722: LD_INT 1
1724: DEC
1725: ST_TO_ADDR
1726: LD_INT 6
1728: PUSH
1729: LD_OWVAR 67
1733: PLUS
1734: PUSH
1735: FOR_TO
1736: IFFALSE 1863
// begin hc_gallery =  ;
1738: LD_ADDR_OWVAR 33
1742: PUSH
1743: LD_STRING 
1745: ST_TO_ADDR
// hc_name =  ;
1746: LD_ADDR_OWVAR 26
1750: PUSH
1751: LD_STRING 
1753: ST_TO_ADDR
// PrepareHuman ( false , [ 1 , 2 , 3 , 4 ] [ Rand ( 1 , 4 ) ] , rand ( 3 , 5 ) - Difficulty ) ;
1754: LD_INT 0
1756: PPUSH
1757: LD_INT 1
1759: PUSH
1760: LD_INT 2
1762: PUSH
1763: LD_INT 3
1765: PUSH
1766: LD_INT 4
1768: PUSH
1769: EMPTY
1770: LIST
1771: LIST
1772: LIST
1773: LIST
1774: PUSH
1775: LD_INT 1
1777: PPUSH
1778: LD_INT 4
1780: PPUSH
1781: CALL_OW 12
1785: ARRAY
1786: PPUSH
1787: LD_INT 3
1789: PPUSH
1790: LD_INT 5
1792: PPUSH
1793: CALL_OW 12
1797: PUSH
1798: LD_OWVAR 67
1802: MINUS
1803: PPUSH
1804: CALL_OW 380
// un = CreateHuman ;
1808: LD_ADDR_VAR 0 3
1812: PUSH
1813: CALL_OW 44
1817: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 15 , false ) ;
1818: LD_VAR 0 3
1822: PPUSH
1823: LD_VAR 0 4
1827: PUSH
1828: LD_INT 1
1830: ARRAY
1831: PPUSH
1832: CALL_OW 250
1836: PPUSH
1837: LD_VAR 0 4
1841: PUSH
1842: LD_INT 1
1844: ARRAY
1845: PPUSH
1846: CALL_OW 251
1850: PPUSH
1851: LD_INT 15
1853: PPUSH
1854: LD_INT 0
1856: PPUSH
1857: CALL_OW 50
// end ;
1861: GO 1735
1863: POP
1864: POP
// if deltaDoctor then
1865: LD_EXP 14
1869: IFFALSE 1873
// exit ;
1871: GO 1955
// hc_gallery =  ;
1873: LD_ADDR_OWVAR 33
1877: PUSH
1878: LD_STRING 
1880: ST_TO_ADDR
// hc_name = Dr. Michael Mills ;
1881: LD_ADDR_OWVAR 26
1885: PUSH
1886: LD_STRING Dr. Michael Mills
1888: ST_TO_ADDR
// PrepareHuman ( sex_male , 4 , 6 ) ;
1889: LD_INT 1
1891: PPUSH
1892: LD_INT 4
1894: PPUSH
1895: LD_INT 6
1897: PPUSH
1898: CALL_OW 380
// deltaDoctor = CreateHuman ;
1902: LD_ADDR_EXP 14
1906: PUSH
1907: CALL_OW 44
1911: ST_TO_ADDR
// PlaceUnitXYR ( deltaDoctor , GetX ( tmp [ 1 ] ) , GetY ( tmp [ 1 ] ) , 5 , false ) ;
1912: LD_EXP 14
1916: PPUSH
1917: LD_VAR 0 4
1921: PUSH
1922: LD_INT 1
1924: ARRAY
1925: PPUSH
1926: CALL_OW 250
1930: PPUSH
1931: LD_VAR 0 4
1935: PUSH
1936: LD_INT 1
1938: ARRAY
1939: PPUSH
1940: CALL_OW 251
1944: PPUSH
1945: LD_INT 5
1947: PPUSH
1948: LD_INT 0
1950: PPUSH
1951: CALL_OW 50
// end ; end_of_file
1955: LD_VAR 0 1
1959: RET
// export function PrepareDeltaBase ; var i , j , building , buildings , lab , tmp ; begin
1960: LD_INT 0
1962: PPUSH
1963: PPUSH
1964: PPUSH
1965: PPUSH
1966: PPUSH
1967: PPUSH
1968: PPUSH
// buildings = LoadVariable ( buildingsInDelta , [ ] ) ;
1969: LD_ADDR_VAR 0 5
1973: PUSH
1974: LD_STRING buildingsInDelta
1976: PPUSH
1977: EMPTY
1978: PPUSH
1979: CALL_OW 30
1983: ST_TO_ADDR
// SetResourceVisibility ( 68 , 40 , 1 ) ;
1984: LD_INT 68
1986: PPUSH
1987: LD_INT 40
1989: PPUSH
1990: LD_INT 1
1992: PPUSH
1993: CALL_OW 441
// uc_side = 1 ;
1997: LD_ADDR_OWVAR 20
2001: PUSH
2002: LD_INT 1
2004: ST_TO_ADDR
// uc_nation = 1 ;
2005: LD_ADDR_OWVAR 21
2009: PUSH
2010: LD_INT 1
2012: ST_TO_ADDR
// for i = 1 to buildings do
2013: LD_ADDR_VAR 0 2
2017: PUSH
2018: DOUBLE
2019: LD_INT 1
2021: DEC
2022: ST_TO_ADDR
2023: LD_VAR 0 5
2027: PUSH
2028: FOR_TO
2029: IFFALSE 2227
// begin bc_type = buildings [ i ] [ 1 ] ;
2031: LD_ADDR_OWVAR 42
2035: PUSH
2036: LD_VAR 0 5
2040: PUSH
2041: LD_VAR 0 2
2045: ARRAY
2046: PUSH
2047: LD_INT 1
2049: ARRAY
2050: ST_TO_ADDR
// bc_level = buildings [ i ] [ 2 ] ;
2051: LD_ADDR_OWVAR 43
2055: PUSH
2056: LD_VAR 0 5
2060: PUSH
2061: LD_VAR 0 2
2065: ARRAY
2066: PUSH
2067: LD_INT 2
2069: ARRAY
2070: ST_TO_ADDR
// if bc_type = b_lab_half or bc_type = b_lab_full then
2071: LD_OWVAR 42
2075: PUSH
2076: LD_INT 7
2078: EQUAL
2079: PUSH
2080: LD_OWVAR 42
2084: PUSH
2085: LD_INT 8
2087: EQUAL
2088: OR
2089: IFFALSE 2131
// begin bc_kind1 = buildings [ i ] [ 6 ] ;
2091: LD_ADDR_OWVAR 44
2095: PUSH
2096: LD_VAR 0 5
2100: PUSH
2101: LD_VAR 0 2
2105: ARRAY
2106: PUSH
2107: LD_INT 6
2109: ARRAY
2110: ST_TO_ADDR
// bc_kind2 = buildings [ i ] [ 7 ] ;
2111: LD_ADDR_OWVAR 45
2115: PUSH
2116: LD_VAR 0 5
2120: PUSH
2121: LD_VAR 0 2
2125: ARRAY
2126: PUSH
2127: LD_INT 7
2129: ARRAY
2130: ST_TO_ADDR
// end ; building = CreateAndPlaceBuildingXYD ( buildings [ i ] [ 3 ] , buildings [ i ] [ 4 ] , buildings [ i ] [ 5 ] ) ;
2131: LD_ADDR_VAR 0 4
2135: PUSH
2136: LD_VAR 0 5
2140: PUSH
2141: LD_VAR 0 2
2145: ARRAY
2146: PUSH
2147: LD_INT 3
2149: ARRAY
2150: PPUSH
2151: LD_VAR 0 5
2155: PUSH
2156: LD_VAR 0 2
2160: ARRAY
2161: PUSH
2162: LD_INT 4
2164: ARRAY
2165: PPUSH
2166: LD_VAR 0 5
2170: PUSH
2171: LD_VAR 0 2
2175: ARRAY
2176: PUSH
2177: LD_INT 5
2179: ARRAY
2180: PPUSH
2181: CALL_OW 47
2185: ST_TO_ADDR
// if GetBType ( building ) = b_bunker then
2186: LD_VAR 0 4
2190: PPUSH
2191: CALL_OW 266
2195: PUSH
2196: LD_INT 32
2198: EQUAL
2199: IFFALSE 2225
// PlaceWeaponTurret ( building , buildings [ i ] [ 8 ] ) ;
2201: LD_VAR 0 4
2205: PPUSH
2206: LD_VAR 0 5
2210: PUSH
2211: LD_VAR 0 2
2215: ARRAY
2216: PUSH
2217: LD_INT 8
2219: ARRAY
2220: PPUSH
2221: CALL_OW 431
// end ;
2225: GO 2028
2227: POP
2228: POP
// lab = FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_lab ] , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) ;
2229: LD_ADDR_VAR 0 6
2233: PUSH
2234: LD_INT 22
2236: PUSH
2237: LD_INT 1
2239: PUSH
2240: EMPTY
2241: LIST
2242: LIST
2243: PUSH
2244: LD_INT 2
2246: PUSH
2247: LD_INT 30
2249: PUSH
2250: LD_INT 6
2252: PUSH
2253: EMPTY
2254: LIST
2255: LIST
2256: PUSH
2257: LD_INT 30
2259: PUSH
2260: LD_INT 7
2262: PUSH
2263: EMPTY
2264: LIST
2265: LIST
2266: PUSH
2267: LD_INT 30
2269: PUSH
2270: LD_INT 8
2272: PUSH
2273: EMPTY
2274: LIST
2275: LIST
2276: PUSH
2277: EMPTY
2278: LIST
2279: LIST
2280: LIST
2281: LIST
2282: PUSH
2283: EMPTY
2284: LIST
2285: LIST
2286: PPUSH
2287: CALL_OW 69
2291: ST_TO_ADDR
// tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , b_depot ] ] ) ;
2292: LD_ADDR_VAR 0 7
2296: PUSH
2297: LD_INT 22
2299: PUSH
2300: LD_INT 1
2302: PUSH
2303: EMPTY
2304: LIST
2305: LIST
2306: PUSH
2307: LD_INT 30
2309: PUSH
2310: LD_INT 0
2312: PUSH
2313: EMPTY
2314: LIST
2315: LIST
2316: PUSH
2317: EMPTY
2318: LIST
2319: LIST
2320: PPUSH
2321: CALL_OW 69
2325: ST_TO_ADDR
// if lab > 0 and tmp > 0 then
2326: LD_VAR 0 6
2330: PUSH
2331: LD_INT 0
2333: GREATER
2334: PUSH
2335: LD_VAR 0 7
2339: PUSH
2340: LD_INT 0
2342: GREATER
2343: AND
2344: IFFALSE 2354
// baseCorrect = 1 ;
2346: LD_ADDR_EXP 16
2350: PUSH
2351: LD_INT 1
2353: ST_TO_ADDR
// if baseCorrect = 0 then
2354: LD_EXP 16
2358: PUSH
2359: LD_INT 0
2361: EQUAL
2362: IFFALSE 2735
// begin for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] ] ) do
2364: LD_ADDR_VAR 0 2
2368: PUSH
2369: LD_INT 22
2371: PUSH
2372: LD_INT 1
2374: PUSH
2375: EMPTY
2376: LIST
2377: LIST
2378: PUSH
2379: LD_INT 21
2381: PUSH
2382: LD_INT 3
2384: PUSH
2385: EMPTY
2386: LIST
2387: LIST
2388: PUSH
2389: EMPTY
2390: LIST
2391: LIST
2392: PPUSH
2393: CALL_OW 69
2397: PUSH
2398: FOR_IN
2399: IFFALSE 2412
// RemoveUnit ( i ) ;
2401: LD_VAR 0 2
2405: PPUSH
2406: CALL_OW 64
2410: GO 2398
2412: POP
2413: POP
// uc_nation = 1 ;
2414: LD_ADDR_OWVAR 21
2418: PUSH
2419: LD_INT 1
2421: ST_TO_ADDR
// uc_side = 1 ;
2422: LD_ADDR_OWVAR 20
2426: PUSH
2427: LD_INT 1
2429: ST_TO_ADDR
// bc_level = 5 ;
2430: LD_ADDR_OWVAR 43
2434: PUSH
2435: LD_INT 5
2437: ST_TO_ADDR
// bc_type = b_depot ;
2438: LD_ADDR_OWVAR 42
2442: PUSH
2443: LD_INT 0
2445: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( 50 , 22 , 0 ) ;
2446: LD_INT 50
2448: PPUSH
2449: LD_INT 22
2451: PPUSH
2452: LD_INT 0
2454: PPUSH
2455: CALL_OW 47
// bc_type = b_bunker ;
2459: LD_ADDR_OWVAR 42
2463: PUSH
2464: LD_INT 32
2466: ST_TO_ADDR
// building = CreateAndPlaceBuildingXYD ( 68 , 24 , 4 ) ;
2467: LD_ADDR_VAR 0 4
2471: PUSH
2472: LD_INT 68
2474: PPUSH
2475: LD_INT 24
2477: PPUSH
2478: LD_INT 4
2480: PPUSH
2481: CALL_OW 47
2485: ST_TO_ADDR
// PlaceWeaponTurret ( building , [ 4 , 11 ] [ Rand ( 1 , 2 ) ] ) ;
2486: LD_VAR 0 4
2490: PPUSH
2491: LD_INT 4
2493: PUSH
2494: LD_INT 11
2496: PUSH
2497: EMPTY
2498: LIST
2499: LIST
2500: PUSH
2501: LD_INT 1
2503: PPUSH
2504: LD_INT 2
2506: PPUSH
2507: CALL_OW 12
2511: ARRAY
2512: PPUSH
2513: CALL_OW 431
// building = CreateAndPlaceBuildingXYD ( 71 , 34 , 4 ) ;
2517: LD_ADDR_VAR 0 4
2521: PUSH
2522: LD_INT 71
2524: PPUSH
2525: LD_INT 34
2527: PPUSH
2528: LD_INT 4
2530: PPUSH
2531: CALL_OW 47
2535: ST_TO_ADDR
// PlaceWeaponTurret ( building , [ 4 , 11 ] [ Rand ( 1 , 2 ) ] ) ;
2536: LD_VAR 0 4
2540: PPUSH
2541: LD_INT 4
2543: PUSH
2544: LD_INT 11
2546: PUSH
2547: EMPTY
2548: LIST
2549: LIST
2550: PUSH
2551: LD_INT 1
2553: PPUSH
2554: LD_INT 2
2556: PPUSH
2557: CALL_OW 12
2561: ARRAY
2562: PPUSH
2563: CALL_OW 431
// bc_type = 31 ;
2567: LD_ADDR_OWVAR 42
2571: PUSH
2572: LD_INT 31
2574: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( 51 , 7 , 3 ) ;
2575: LD_INT 51
2577: PPUSH
2578: LD_INT 7
2580: PPUSH
2581: LD_INT 3
2583: PPUSH
2584: CALL_OW 47
// bc_type = b_oil_mine ;
2588: LD_ADDR_OWVAR 42
2592: PUSH
2593: LD_INT 29
2595: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( 68 , 40 , 1 ) ;
2596: LD_INT 68
2598: PPUSH
2599: LD_INT 40
2601: PPUSH
2602: LD_INT 1
2604: PPUSH
2605: CALL_OW 47
// bc_type = b_workshop ;
2609: LD_ADDR_OWVAR 42
2613: PUSH
2614: LD_INT 2
2616: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( 38 , 20 , 2 ) ;
2617: LD_INT 38
2619: PPUSH
2620: LD_INT 20
2622: PPUSH
2623: LD_INT 2
2625: PPUSH
2626: CALL_OW 47
// bc_type = b_armoury ;
2630: LD_ADDR_OWVAR 42
2634: PUSH
2635: LD_INT 4
2637: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( 38 , 20 , 2 ) ;
2638: LD_INT 38
2640: PPUSH
2641: LD_INT 20
2643: PPUSH
2644: LD_INT 2
2646: PPUSH
2647: CALL_OW 47
// bc_type = b_solar_power ;
2651: LD_ADDR_OWVAR 42
2655: PUSH
2656: LD_INT 27
2658: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( 46 , 12 , 1 ) ;
2659: LD_INT 46
2661: PPUSH
2662: LD_INT 12
2664: PPUSH
2665: LD_INT 1
2667: PPUSH
2668: CALL_OW 47
// CreateAndPlaceBuildingXYD ( 48 , 11 , 2 ) ;
2672: LD_INT 48
2674: PPUSH
2675: LD_INT 11
2677: PPUSH
2678: LD_INT 2
2680: PPUSH
2681: CALL_OW 47
// CreateAndPlaceBuildingXYD ( 49 , 11 , 3 ) ;
2685: LD_INT 49
2687: PPUSH
2688: LD_INT 11
2690: PPUSH
2691: LD_INT 3
2693: PPUSH
2694: CALL_OW 47
// bc_type = b_lab_half ;
2698: LD_ADDR_OWVAR 42
2702: PUSH
2703: LD_INT 7
2705: ST_TO_ADDR
// bc_kind1 = b_lab_opto ;
2706: LD_ADDR_OWVAR 44
2710: PUSH
2711: LD_INT 15
2713: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
2714: LD_ADDR_OWVAR 45
2718: PUSH
2719: LD_INT 9
2721: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( 42 , 15 , 2 ) ;
2722: LD_INT 42
2724: PPUSH
2725: LD_INT 15
2727: PPUSH
2728: LD_INT 2
2730: PPUSH
2731: CALL_OW 47
// end ; end ; end_of_file
2735: LD_VAR 0 1
2739: RET
// every 1 do var i , j , lab , tmp ;
2740: GO 2742
2742: DISABLE
2743: LD_INT 0
2745: PPUSH
2746: PPUSH
2747: PPUSH
2748: PPUSH
// begin lab = FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_lab ] , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) ;
2749: LD_ADDR_VAR 0 3
2753: PUSH
2754: LD_INT 22
2756: PUSH
2757: LD_INT 1
2759: PUSH
2760: EMPTY
2761: LIST
2762: LIST
2763: PUSH
2764: LD_INT 2
2766: PUSH
2767: LD_INT 30
2769: PUSH
2770: LD_INT 6
2772: PUSH
2773: EMPTY
2774: LIST
2775: LIST
2776: PUSH
2777: LD_INT 30
2779: PUSH
2780: LD_INT 7
2782: PUSH
2783: EMPTY
2784: LIST
2785: LIST
2786: PUSH
2787: LD_INT 30
2789: PUSH
2790: LD_INT 8
2792: PUSH
2793: EMPTY
2794: LIST
2795: LIST
2796: PUSH
2797: EMPTY
2798: LIST
2799: LIST
2800: LIST
2801: LIST
2802: PUSH
2803: EMPTY
2804: LIST
2805: LIST
2806: PPUSH
2807: CALL_OW 69
2811: ST_TO_ADDR
// InGameOn ;
2812: CALL_OW 8
// CenterNowOnUnits ( lab [ 1 ] ) ;
2816: LD_VAR 0 3
2820: PUSH
2821: LD_INT 1
2823: ARRAY
2824: PPUSH
2825: CALL_OW 87
// if IsOK ( Denis ) then
2829: LD_EXP 3
2833: PPUSH
2834: CALL_OW 302
2838: IFFALSE 2866
// begin SetTech ( tech_radar , 1 , state_researched ) ;
2840: LD_INT 6
2842: PPUSH
2843: LD_INT 1
2845: PPUSH
2846: LD_INT 2
2848: PPUSH
2849: CALL_OW 322
// SetRestrict ( b_ext_radar , 1 , true ) ;
2853: LD_INT 20
2855: PPUSH
2856: LD_INT 1
2858: PPUSH
2859: LD_INT 1
2861: PPUSH
2862: CALL_OW 324
// end ; ComEnterUnit ( [ JMM , DeltaDoctor , Denis ] , lab [ 1 ] ) ;
2866: LD_EXP 1
2870: PUSH
2871: LD_EXP 14
2875: PUSH
2876: LD_EXP 3
2880: PUSH
2881: EMPTY
2882: LIST
2883: LIST
2884: LIST
2885: PPUSH
2886: LD_VAR 0 3
2890: PUSH
2891: LD_INT 1
2893: ARRAY
2894: PPUSH
2895: CALL_OW 120
// Say ( JMM , D1-JMM-1 ) ;
2899: LD_EXP 1
2903: PPUSH
2904: LD_STRING D1-JMM-1
2906: PPUSH
2907: CALL_OW 88
// Say ( DeltaDoctor , D1-Sci-1 ) ;
2911: LD_EXP 14
2915: PPUSH
2916: LD_STRING D1-Sci-1
2918: PPUSH
2919: CALL_OW 88
// Say ( JMM , D1-JMM-2 ) ;
2923: LD_EXP 1
2927: PPUSH
2928: LD_STRING D1-JMM-2
2930: PPUSH
2931: CALL_OW 88
// Say ( DeltaDoctor , D1-Sci-2 ) ;
2935: LD_EXP 14
2939: PPUSH
2940: LD_STRING D1-Sci-2
2942: PPUSH
2943: CALL_OW 88
// Say ( JMM , D1-JMM-3 ) ;
2947: LD_EXP 1
2951: PPUSH
2952: LD_STRING D1-JMM-3
2954: PPUSH
2955: CALL_OW 88
// if IsOK ( Denis ) then
2959: LD_EXP 3
2963: PPUSH
2964: CALL_OW 302
2968: IFFALSE 2984
// Say ( DeltaDoctor , D1-Sci-3 ) else
2970: LD_EXP 14
2974: PPUSH
2975: LD_STRING D1-Sci-3
2977: PPUSH
2978: CALL_OW 88
2982: GO 2996
// Say ( DeltaDoctor , D1-Sci-3a ) ;
2984: LD_EXP 14
2988: PPUSH
2989: LD_STRING D1-Sci-3a
2991: PPUSH
2992: CALL_OW 88
// Say ( JMM , D1-JMM-4 ) ;
2996: LD_EXP 1
3000: PPUSH
3001: LD_STRING D1-JMM-4
3003: PPUSH
3004: CALL_OW 88
// tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 4 ] , [ f_not , [ f_inside ] ] ] ) ;
3008: LD_ADDR_VAR 0 4
3012: PUSH
3013: LD_INT 22
3015: PUSH
3016: LD_INT 1
3018: PUSH
3019: EMPTY
3020: LIST
3021: LIST
3022: PUSH
3023: LD_INT 25
3025: PUSH
3026: LD_INT 4
3028: PUSH
3029: EMPTY
3030: LIST
3031: LIST
3032: PUSH
3033: LD_INT 3
3035: PUSH
3036: LD_INT 54
3038: PUSH
3039: EMPTY
3040: LIST
3041: PUSH
3042: EMPTY
3043: LIST
3044: LIST
3045: PUSH
3046: EMPTY
3047: LIST
3048: LIST
3049: LIST
3050: PPUSH
3051: CALL_OW 69
3055: ST_TO_ADDR
// for i in FilterAllUnits ( [ f_side , 0 ] ) do
3056: LD_ADDR_VAR 0 1
3060: PUSH
3061: LD_INT 22
3063: PUSH
3064: LD_INT 0
3066: PUSH
3067: EMPTY
3068: LIST
3069: LIST
3070: PPUSH
3071: CALL_OW 69
3075: PUSH
3076: FOR_IN
3077: IFFALSE 3127
// for j in tmp do
3079: LD_ADDR_VAR 0 2
3083: PUSH
3084: LD_VAR 0 4
3088: PUSH
3089: FOR_IN
3090: IFFALSE 3123
// AddComTameXY ( j , GetX ( i ) , GetY ( i ) ) ;
3092: LD_VAR 0 2
3096: PPUSH
3097: LD_VAR 0 1
3101: PPUSH
3102: CALL_OW 250
3106: PPUSH
3107: LD_VAR 0 1
3111: PPUSH
3112: CALL_OW 251
3116: PPUSH
3117: CALL_OW 191
3121: GO 3089
3123: POP
3124: POP
3125: GO 3076
3127: POP
3128: POP
// Say ( DeltaDoctor , D1-Sci-4 ) ;
3129: LD_EXP 14
3133: PPUSH
3134: LD_STRING D1-Sci-4
3136: PPUSH
3137: CALL_OW 88
// Say ( JMM , D1-JMM-5 ) ;
3141: LD_EXP 1
3145: PPUSH
3146: LD_STRING D1-JMM-5
3148: PPUSH
3149: CALL_OW 88
// Say ( DeltaDoctor , D1-Sci-5 ) ;
3153: LD_EXP 14
3157: PPUSH
3158: LD_STRING D1-Sci-5
3160: PPUSH
3161: CALL_OW 88
// Say ( JMM , D1-JMM-6 ) ;
3165: LD_EXP 1
3169: PPUSH
3170: LD_STRING D1-JMM-6
3172: PPUSH
3173: CALL_OW 88
// SayRadio ( Harisson , D1-Har-6 ) ;
3177: LD_EXP 15
3181: PPUSH
3182: LD_STRING D1-Har-6
3184: PPUSH
3185: CALL_OW 94
// Say ( JMM , D1-JMM-7 ) ;
3189: LD_EXP 1
3193: PPUSH
3194: LD_STRING D1-JMM-7
3196: PPUSH
3197: CALL_OW 88
// SayRadio ( Harisson , D1-Har-7 ) ;
3201: LD_EXP 15
3205: PPUSH
3206: LD_STRING D1-Har-7
3208: PPUSH
3209: CALL_OW 94
// if IsOK ( Denis ) then
3213: LD_EXP 3
3217: PPUSH
3218: CALL_OW 302
3222: IFFALSE 3236
// Say ( JMM , D1-JMM-8 ) ;
3224: LD_EXP 1
3228: PPUSH
3229: LD_STRING D1-JMM-8
3231: PPUSH
3232: CALL_OW 88
// Say ( JMM , D1-JMM-8a ) ;
3236: LD_EXP 1
3240: PPUSH
3241: LD_STRING D1-JMM-8a
3243: PPUSH
3244: CALL_OW 88
// SayRadio ( Harisson , D1-Har-8 ) ;
3248: LD_EXP 15
3252: PPUSH
3253: LD_STRING D1-Har-8
3255: PPUSH
3256: CALL_OW 94
// Say ( JMM , D1-JMM-9 ) ;
3260: LD_EXP 1
3264: PPUSH
3265: LD_STRING D1-JMM-9
3267: PPUSH
3268: CALL_OW 88
// SayRadio ( Harisson , D1-Har-9 ) ;
3272: LD_EXP 15
3276: PPUSH
3277: LD_STRING D1-Har-9
3279: PPUSH
3280: CALL_OW 94
// Say ( JMM , D1-JMM-10 ) ;
3284: LD_EXP 1
3288: PPUSH
3289: LD_STRING D1-JMM-10
3291: PPUSH
3292: CALL_OW 88
// if IsOK ( Denis ) then
3296: LD_EXP 3
3300: PPUSH
3301: CALL_OW 302
3305: IFFALSE 3319
// Say ( JMM , D1-JMM-10a ) ;
3307: LD_EXP 1
3311: PPUSH
3312: LD_STRING D1-JMM-10a
3314: PPUSH
3315: CALL_OW 88
// SelectAndSaveCharacters ;
3319: CALL 3830 0 0
// SetResourceType ( GetBase ( lab [ 1 ] ) , 1 , 250 ) ;
3323: LD_VAR 0 3
3327: PUSH
3328: LD_INT 1
3330: ARRAY
3331: PPUSH
3332: CALL_OW 274
3336: PPUSH
3337: LD_INT 1
3339: PPUSH
3340: LD_INT 250
3342: PPUSH
3343: CALL_OW 277
// if FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , b_oil_mine ] ] ) > 0 then
3347: LD_INT 22
3349: PUSH
3350: LD_INT 1
3352: PUSH
3353: EMPTY
3354: LIST
3355: LIST
3356: PUSH
3357: LD_INT 30
3359: PUSH
3360: LD_INT 29
3362: PUSH
3363: EMPTY
3364: LIST
3365: LIST
3366: PUSH
3367: EMPTY
3368: LIST
3369: LIST
3370: PPUSH
3371: CALL_OW 69
3375: PUSH
3376: LD_INT 0
3378: GREATER
3379: IFFALSE 3405
// SetResourceType ( GetBase ( lab [ 1 ] ) , 2 , 300 ) ;
3381: LD_VAR 0 3
3385: PUSH
3386: LD_INT 1
3388: ARRAY
3389: PPUSH
3390: CALL_OW 274
3394: PPUSH
3395: LD_INT 2
3397: PPUSH
3398: LD_INT 300
3400: PPUSH
3401: CALL_OW 277
// InGameOff ;
3405: CALL_OW 9
// Query ( Q1 ) ;
3409: LD_STRING Q1
3411: PPUSH
3412: CALL_OW 97
// SetAreaMapShow ( ExitArea , 1 ) ;
3416: LD_INT 3
3418: PPUSH
3419: LD_INT 1
3421: PPUSH
3422: CALL_OW 424
// if IsInUnit ( JMM ) then
3426: LD_EXP 1
3430: PPUSH
3431: CALL_OW 310
3435: IFFALSE 3446
// ComExitBuilding ( JMM ) ;
3437: LD_EXP 1
3441: PPUSH
3442: CALL_OW 122
// end ;
3446: PPOPN 4
3448: END
// every 0 0$1 trigger FilterUnitsExceptArea ( ExitArea , [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) = 0 do var i ;
3449: LD_INT 3
3451: PPUSH
3452: LD_INT 22
3454: PUSH
3455: LD_INT 1
3457: PUSH
3458: EMPTY
3459: LIST
3460: LIST
3461: PUSH
3462: LD_INT 21
3464: PUSH
3465: LD_INT 1
3467: PUSH
3468: EMPTY
3469: LIST
3470: LIST
3471: PUSH
3472: EMPTY
3473: LIST
3474: LIST
3475: PPUSH
3476: CALL_OW 71
3480: PUSH
3481: LD_INT 0
3483: EQUAL
3484: IFFALSE 3764
3486: GO 3488
3488: DISABLE
3489: LD_INT 0
3491: PPUSH
// begin if FilterUnitsInArea ( ExitArea , [ [ f_type , unit_vehicle ] ] ) > 0 then
3492: LD_INT 3
3494: PPUSH
3495: LD_INT 21
3497: PUSH
3498: LD_INT 2
3500: PUSH
3501: EMPTY
3502: LIST
3503: LIST
3504: PUSH
3505: EMPTY
3506: LIST
3507: PPUSH
3508: CALL_OW 70
3512: PUSH
3513: LD_INT 0
3515: GREATER
3516: IFFALSE 3754
// begin for i in FilterUnitsInArea ( ExitArea , [ [ f_type , unit_vehicle ] ] ) do
3518: LD_ADDR_VAR 0 1
3522: PUSH
3523: LD_INT 3
3525: PPUSH
3526: LD_INT 21
3528: PUSH
3529: LD_INT 2
3531: PUSH
3532: EMPTY
3533: LIST
3534: LIST
3535: PUSH
3536: EMPTY
3537: LIST
3538: PPUSH
3539: CALL_OW 70
3543: PUSH
3544: FOR_IN
3545: IFFALSE 3740
// begin if GetWeapon ( i ) = us_cargo_bay then
3547: LD_VAR 0 1
3551: PPUSH
3552: CALL_OW 264
3556: PUSH
3557: LD_INT 12
3559: EQUAL
3560: IFFALSE 3667
// begin yourVehicles = yourVehicles ^ [ [ GetNation ( i ) , GetChassis ( i ) , GetEngine ( i ) , GetControl ( i ) , GetWeapon ( i ) , GetCargoType ( i ) , GetCargo ( i , GetCargoType ( i ) ) ] ] ;
3562: LD_ADDR_EXP 13
3566: PUSH
3567: LD_EXP 13
3571: PUSH
3572: LD_VAR 0 1
3576: PPUSH
3577: CALL_OW 248
3581: PUSH
3582: LD_VAR 0 1
3586: PPUSH
3587: CALL_OW 265
3591: PUSH
3592: LD_VAR 0 1
3596: PPUSH
3597: CALL_OW 262
3601: PUSH
3602: LD_VAR 0 1
3606: PPUSH
3607: CALL_OW 263
3611: PUSH
3612: LD_VAR 0 1
3616: PPUSH
3617: CALL_OW 264
3621: PUSH
3622: LD_VAR 0 1
3626: PPUSH
3627: CALL_OW 288
3631: PUSH
3632: LD_VAR 0 1
3636: PPUSH
3637: LD_VAR 0 1
3641: PPUSH
3642: CALL_OW 288
3646: PPUSH
3647: CALL_OW 289
3651: PUSH
3652: EMPTY
3653: LIST
3654: LIST
3655: LIST
3656: LIST
3657: LIST
3658: LIST
3659: LIST
3660: PUSH
3661: EMPTY
3662: LIST
3663: ADD
3664: ST_TO_ADDR
// end else
3665: GO 3738
// begin yourVehicles = yourVehicles ^ [ [ GetNation ( i ) , GetChassis ( i ) , GetEngine ( i ) , GetControl ( i ) , GetWeapon ( i ) ] ] ;
3667: LD_ADDR_EXP 13
3671: PUSH
3672: LD_EXP 13
3676: PUSH
3677: LD_VAR 0 1
3681: PPUSH
3682: CALL_OW 248
3686: PUSH
3687: LD_VAR 0 1
3691: PPUSH
3692: CALL_OW 265
3696: PUSH
3697: LD_VAR 0 1
3701: PPUSH
3702: CALL_OW 262
3706: PUSH
3707: LD_VAR 0 1
3711: PPUSH
3712: CALL_OW 263
3716: PUSH
3717: LD_VAR 0 1
3721: PPUSH
3722: CALL_OW 264
3726: PUSH
3727: EMPTY
3728: LIST
3729: LIST
3730: LIST
3731: LIST
3732: LIST
3733: PUSH
3734: EMPTY
3735: LIST
3736: ADD
3737: ST_TO_ADDR
// end ; end ;
3738: GO 3544
3740: POP
3741: POP
// SaveVariable ( yourVehicles , 06_VehiclesIn06_1 ) ;
3742: LD_EXP 13
3746: PPUSH
3747: LD_STRING 06_VehiclesIn06_1
3749: PPUSH
3750: CALL_OW 39
// end ; ChangeMap ( 6 , %_cont ) ;
3754: LD_INT 6
3756: PPUSH
3757: LD_STRING %_cont
3759: PPUSH
3760: CALL_OW 340
// end ; end_of_file
3764: PPOPN 1
3766: END
// export function PrepareUnit ( ident , exist_mode ) ; var unit ; begin
3767: LD_INT 0
3769: PPUSH
3770: PPUSH
// if exist_mode then
3771: LD_VAR 0 2
3775: IFFALSE 3800
// unit := CreateCharacter ( mission_prefix_prev & ident ) else
3777: LD_ADDR_VAR 0 4
3781: PUSH
3782: LD_EXP 18
3786: PUSH
3787: LD_VAR 0 1
3791: STR
3792: PPUSH
3793: CALL_OW 34
3797: ST_TO_ADDR
3798: GO 3815
// unit := NewCharacter ( ident ) ;
3800: LD_ADDR_VAR 0 4
3804: PUSH
3805: LD_VAR 0 1
3809: PPUSH
3810: CALL_OW 25
3814: ST_TO_ADDR
// result := unit ;
3815: LD_ADDR_VAR 0 3
3819: PUSH
3820: LD_VAR 0 4
3824: ST_TO_ADDR
// end ;
3825: LD_VAR 0 3
3829: RET
// export function SelectAndSaveCharacters ; var i , yourPeople , selectedPeople , test ; begin
3830: LD_INT 0
3832: PPUSH
3833: PPUSH
3834: PPUSH
3835: PPUSH
3836: PPUSH
// yourPeople = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , DeltaDoctor , Denis ] ;
3837: LD_ADDR_VAR 0 3
3841: PUSH
3842: LD_INT 22
3844: PUSH
3845: LD_INT 1
3847: PUSH
3848: EMPTY
3849: LIST
3850: LIST
3851: PUSH
3852: LD_INT 21
3854: PUSH
3855: LD_INT 1
3857: PUSH
3858: EMPTY
3859: LIST
3860: LIST
3861: PUSH
3862: LD_INT 2
3864: PUSH
3865: LD_INT 25
3867: PUSH
3868: LD_INT 1
3870: PUSH
3871: EMPTY
3872: LIST
3873: LIST
3874: PUSH
3875: LD_INT 25
3877: PUSH
3878: LD_INT 2
3880: PUSH
3881: EMPTY
3882: LIST
3883: LIST
3884: PUSH
3885: LD_INT 25
3887: PUSH
3888: LD_INT 3
3890: PUSH
3891: EMPTY
3892: LIST
3893: LIST
3894: PUSH
3895: LD_INT 25
3897: PUSH
3898: LD_INT 4
3900: PUSH
3901: EMPTY
3902: LIST
3903: LIST
3904: PUSH
3905: EMPTY
3906: LIST
3907: LIST
3908: LIST
3909: LIST
3910: LIST
3911: PUSH
3912: EMPTY
3913: LIST
3914: LIST
3915: LIST
3916: PPUSH
3917: CALL_OW 69
3921: PUSH
3922: LD_EXP 1
3926: PUSH
3927: LD_EXP 14
3931: PUSH
3932: LD_EXP 3
3936: PUSH
3937: EMPTY
3938: LIST
3939: LIST
3940: LIST
3941: DIFF
3942: ST_TO_ADDR
// selectedPeople = CharacterSelection ( text , 5 , 5 , [ sel_change_class , JMM , sel_dont_change_class , sel_not_hired , sel_changeable , sel_change_class ] ^ yourPeople ^ [ sel_dont_change_class , sel_not_changeable , Denis , DeltaDoctor ] , [ class_soldier , class_mechanic , [ class_engineer , 1 ] , class_scientistic ] ) ;
3943: LD_ADDR_VAR 0 4
3947: PUSH
3948: LD_STRING text
3950: PPUSH
3951: LD_INT 5
3953: PPUSH
3954: LD_INT 5
3956: PPUSH
3957: LD_INT -5
3959: PUSH
3960: LD_EXP 1
3964: PUSH
3965: LD_INT -6
3967: PUSH
3968: LD_INT -2
3970: PUSH
3971: LD_INT -3
3973: PUSH
3974: LD_INT -5
3976: PUSH
3977: EMPTY
3978: LIST
3979: LIST
3980: LIST
3981: LIST
3982: LIST
3983: LIST
3984: PUSH
3985: LD_VAR 0 3
3989: ADD
3990: PUSH
3991: LD_INT -6
3993: PUSH
3994: LD_INT -4
3996: PUSH
3997: LD_EXP 3
4001: PUSH
4002: LD_EXP 14
4006: PUSH
4007: EMPTY
4008: LIST
4009: LIST
4010: LIST
4011: LIST
4012: ADD
4013: PPUSH
4014: LD_INT 1
4016: PUSH
4017: LD_INT 3
4019: PUSH
4020: LD_INT 2
4022: PUSH
4023: LD_INT 1
4025: PUSH
4026: EMPTY
4027: LIST
4028: LIST
4029: PUSH
4030: LD_INT 4
4032: PUSH
4033: EMPTY
4034: LIST
4035: LIST
4036: LIST
4037: LIST
4038: PPUSH
4039: CALL_OW 42
4043: ST_TO_ADDR
// SaveCharacters ( JMM , mission_prefix & JMM ) ;
4044: LD_EXP 1
4048: PPUSH
4049: LD_EXP 17
4053: PUSH
4054: LD_STRING JMM
4056: STR
4057: PPUSH
4058: CALL_OW 38
// SaveCharacters ( DeltaDoctor , DeltaDoctor ) ;
4062: LD_EXP 14
4066: PPUSH
4067: LD_STRING DeltaDoctor
4069: PPUSH
4070: CALL_OW 38
// SaveCharacters ( Denis , mission_prefix & Denis ) ;
4074: LD_EXP 3
4078: PPUSH
4079: LD_EXP 17
4083: PUSH
4084: LD_STRING Denis
4086: STR
4087: PPUSH
4088: CALL_OW 38
// if Lisa in selectedPeople then
4092: LD_EXP 4
4096: PUSH
4097: LD_VAR 0 4
4101: IN
4102: IFFALSE 4132
// begin SaveCharacters ( Lisa , mission_prefix & Lisa ) ;
4104: LD_EXP 4
4108: PPUSH
4109: LD_EXP 17
4113: PUSH
4114: LD_STRING Lisa
4116: STR
4117: PPUSH
4118: CALL_OW 38
// SaveVariable ( 1 , LisaIn06 ) ;
4122: LD_INT 1
4124: PPUSH
4125: LD_STRING LisaIn06
4127: PPUSH
4128: CALL_OW 39
// end ; if Bobby in selectedPeople then
4132: LD_EXP 6
4136: PUSH
4137: LD_VAR 0 4
4141: IN
4142: IFFALSE 4172
// begin SaveCharacters ( Bobby , mission_prefix & Bobby ) ;
4144: LD_EXP 6
4148: PPUSH
4149: LD_EXP 17
4153: PUSH
4154: LD_STRING Bobby
4156: STR
4157: PPUSH
4158: CALL_OW 38
// SaveVariable ( 1 , BobbyIn06 ) ;
4162: LD_INT 1
4164: PPUSH
4165: LD_STRING BobbyIn06
4167: PPUSH
4168: CALL_OW 39
// end ; if Cyrus in selectedPeople then
4172: LD_EXP 7
4176: PUSH
4177: LD_VAR 0 4
4181: IN
4182: IFFALSE 4212
// begin SaveCharacters ( Cyrus , mission_prefix & Cyrus ) ;
4184: LD_EXP 7
4188: PPUSH
4189: LD_EXP 17
4193: PUSH
4194: LD_STRING Cyrus
4196: STR
4197: PPUSH
4198: CALL_OW 38
// SaveVariable ( 1 , CyrusIn06 ) ;
4202: LD_INT 1
4204: PPUSH
4205: LD_STRING CyrusIn06
4207: PPUSH
4208: CALL_OW 39
// end ; if Frank in selectedPeople then
4212: LD_EXP 5
4216: PUSH
4217: LD_VAR 0 4
4221: IN
4222: IFFALSE 4252
// begin SaveCharacters ( Frank , mission_prefix & Frank ) ;
4224: LD_EXP 5
4228: PPUSH
4229: LD_EXP 17
4233: PUSH
4234: LD_STRING Frank
4236: STR
4237: PPUSH
4238: CALL_OW 38
// SaveVariable ( 1 , FrankIn06 ) ;
4242: LD_INT 1
4244: PPUSH
4245: LD_STRING FrankIn06
4247: PPUSH
4248: CALL_OW 39
// end ; if Brown in selectedPeople then
4252: LD_EXP 8
4256: PUSH
4257: LD_VAR 0 4
4261: IN
4262: IFFALSE 4292
// begin SaveCharacters ( Brown , mission_prefix & Brown ) ;
4264: LD_EXP 8
4268: PPUSH
4269: LD_EXP 17
4273: PUSH
4274: LD_STRING Brown
4276: STR
4277: PPUSH
4278: CALL_OW 38
// SaveVariable ( 1 , BrownIn06 ) ;
4282: LD_INT 1
4284: PPUSH
4285: LD_STRING BrownIn06
4287: PPUSH
4288: CALL_OW 39
// end ; if Donaldson in selectedPeople then
4292: LD_EXP 9
4296: PUSH
4297: LD_VAR 0 4
4301: IN
4302: IFFALSE 4332
// begin SaveCharacters ( Donaldson , mission_prefix & Donaldson ) ;
4304: LD_EXP 9
4308: PPUSH
4309: LD_EXP 17
4313: PUSH
4314: LD_STRING Donaldson
4316: STR
4317: PPUSH
4318: CALL_OW 38
// SaveVariable ( 1 , DonaldsonIn06 ) ;
4322: LD_INT 1
4324: PPUSH
4325: LD_STRING DonaldsonIn06
4327: PPUSH
4328: CALL_OW 39
// end ; if Gladstone in selectedPeople then
4332: LD_EXP 2
4336: PUSH
4337: LD_VAR 0 4
4341: IN
4342: IFFALSE 4372
// begin SaveCharacters ( Gladstone , mission_prefix & Gladstone ) ;
4344: LD_EXP 2
4348: PPUSH
4349: LD_EXP 17
4353: PUSH
4354: LD_STRING Gladstone
4356: STR
4357: PPUSH
4358: CALL_OW 38
// SaveVariable ( 1 , GladstoneIn06 ) ;
4362: LD_INT 1
4364: PPUSH
4365: LD_STRING GladstoneIn06
4367: PPUSH
4368: CALL_OW 39
// end ; SetSide ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) , 4 ) ;
4372: LD_INT 22
4374: PUSH
4375: LD_INT 1
4377: PUSH
4378: EMPTY
4379: LIST
4380: LIST
4381: PUSH
4382: LD_INT 21
4384: PUSH
4385: LD_INT 1
4387: PUSH
4388: EMPTY
4389: LIST
4390: LIST
4391: PUSH
4392: EMPTY
4393: LIST
4394: LIST
4395: PPUSH
4396: CALL_OW 69
4400: PPUSH
4401: LD_INT 4
4403: PPUSH
4404: CALL_OW 235
// for i in selectedPeople do
4408: LD_ADDR_VAR 0 2
4412: PUSH
4413: LD_VAR 0 4
4417: PUSH
4418: FOR_IN
4419: IFFALSE 4435
// SetSide ( i , 1 ) ;
4421: LD_VAR 0 2
4425: PPUSH
4426: LD_INT 1
4428: PPUSH
4429: CALL_OW 235
4433: GO 4418
4435: POP
4436: POP
// for i in yourApemans do
4437: LD_ADDR_VAR 0 2
4441: PUSH
4442: LD_EXP 12
4446: PUSH
4447: FOR_IN
4448: IFFALSE 4464
// SetSide ( i , 1 ) ;
4450: LD_VAR 0 2
4454: PPUSH
4455: LD_INT 1
4457: PPUSH
4458: CALL_OW 235
4462: GO 4447
4464: POP
4465: POP
// SetSide ( JMM , 1 ) ;
4466: LD_EXP 1
4470: PPUSH
4471: LD_INT 1
4473: PPUSH
4474: CALL_OW 235
// SetSkill ( yourApemans , 2 , 5 ) ;
4478: LD_EXP 12
4482: PPUSH
4483: LD_INT 2
4485: PPUSH
4486: LD_INT 5
4488: PPUSH
4489: CALL_OW 237
// SaveCharacters ( yourApemans , ApeIn06 ) ;
4493: LD_EXP 12
4497: PPUSH
4498: LD_STRING ApeIn06
4500: PPUSH
4501: CALL_OW 38
// SaveCharacters ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Lisa , Bobby , Cyrus , Frank , Brown , Donaldson , Gladstone ] , OthersIn06 ) ;
4505: LD_INT 22
4507: PUSH
4508: LD_INT 1
4510: PUSH
4511: EMPTY
4512: LIST
4513: LIST
4514: PUSH
4515: LD_INT 21
4517: PUSH
4518: LD_INT 1
4520: PUSH
4521: EMPTY
4522: LIST
4523: LIST
4524: PUSH
4525: LD_INT 2
4527: PUSH
4528: LD_INT 25
4530: PUSH
4531: LD_INT 1
4533: PUSH
4534: EMPTY
4535: LIST
4536: LIST
4537: PUSH
4538: LD_INT 25
4540: PUSH
4541: LD_INT 2
4543: PUSH
4544: EMPTY
4545: LIST
4546: LIST
4547: PUSH
4548: LD_INT 25
4550: PUSH
4551: LD_INT 3
4553: PUSH
4554: EMPTY
4555: LIST
4556: LIST
4557: PUSH
4558: LD_INT 25
4560: PUSH
4561: LD_INT 4
4563: PUSH
4564: EMPTY
4565: LIST
4566: LIST
4567: PUSH
4568: EMPTY
4569: LIST
4570: LIST
4571: LIST
4572: LIST
4573: LIST
4574: PUSH
4575: EMPTY
4576: LIST
4577: LIST
4578: LIST
4579: PPUSH
4580: CALL_OW 69
4584: PUSH
4585: LD_EXP 1
4589: PUSH
4590: LD_EXP 4
4594: PUSH
4595: LD_EXP 6
4599: PUSH
4600: LD_EXP 7
4604: PUSH
4605: LD_EXP 5
4609: PUSH
4610: LD_EXP 8
4614: PUSH
4615: LD_EXP 9
4619: PUSH
4620: LD_EXP 2
4624: PUSH
4625: EMPTY
4626: LIST
4627: LIST
4628: LIST
4629: LIST
4630: LIST
4631: LIST
4632: LIST
4633: LIST
4634: DIFF
4635: PPUSH
4636: LD_STRING OthersIn06
4638: PPUSH
4639: CALL_OW 38
// SaveCharacters ( FilterAllUnits ( [ [ f_side , 4 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ DeltaDoctor ] , OthersStayInDelta ) ;
4643: LD_INT 22
4645: PUSH
4646: LD_INT 4
4648: PUSH
4649: EMPTY
4650: LIST
4651: LIST
4652: PUSH
4653: LD_INT 2
4655: PUSH
4656: LD_INT 25
4658: PUSH
4659: LD_INT 1
4661: PUSH
4662: EMPTY
4663: LIST
4664: LIST
4665: PUSH
4666: LD_INT 25
4668: PUSH
4669: LD_INT 2
4671: PUSH
4672: EMPTY
4673: LIST
4674: LIST
4675: PUSH
4676: LD_INT 25
4678: PUSH
4679: LD_INT 3
4681: PUSH
4682: EMPTY
4683: LIST
4684: LIST
4685: PUSH
4686: LD_INT 25
4688: PUSH
4689: LD_INT 4
4691: PUSH
4692: EMPTY
4693: LIST
4694: LIST
4695: PUSH
4696: EMPTY
4697: LIST
4698: LIST
4699: LIST
4700: LIST
4701: LIST
4702: PUSH
4703: EMPTY
4704: LIST
4705: LIST
4706: PPUSH
4707: CALL_OW 69
4711: PUSH
4712: LD_EXP 14
4716: PUSH
4717: EMPTY
4718: LIST
4719: DIFF
4720: PPUSH
4721: LD_STRING OthersStayInDelta
4723: PPUSH
4724: CALL_OW 38
// end ; end_of_file
4728: LD_VAR 0 1
4732: RET
// on Command ( comandid ) do var i ;
4733: LD_INT 0
4735: PPUSH
// begin if comandid = 65 then
4736: LD_VAR 0 1
4740: PUSH
4741: LD_INT 65
4743: EQUAL
4744: IFFALSE 4785
// for i in FilterAllUnits ( [ [ f_side , 1 ] ] ) do
4746: LD_ADDR_VAR 0 2
4750: PUSH
4751: LD_INT 22
4753: PUSH
4754: LD_INT 1
4756: PUSH
4757: EMPTY
4758: LIST
4759: LIST
4760: PUSH
4761: EMPTY
4762: LIST
4763: PPUSH
4764: CALL_OW 69
4768: PUSH
4769: FOR_IN
4770: IFFALSE 4783
// ComStop ( i ) ;
4772: LD_VAR 0 2
4776: PPUSH
4777: CALL_OW 141
4781: GO 4769
4783: POP
4784: POP
// end ;
4785: PPOPN 2
4787: END
// on ApemanTamed ( apeman , human ) do var tmp ;
4788: LD_INT 0
4790: PPUSH
// begin tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_btype , b_depot ] ] ) ;
4791: LD_ADDR_VAR 0 3
4795: PUSH
4796: LD_INT 22
4798: PUSH
4799: LD_INT 1
4801: PUSH
4802: EMPTY
4803: LIST
4804: LIST
4805: PUSH
4806: LD_INT 21
4808: PUSH
4809: LD_INT 3
4811: PUSH
4812: EMPTY
4813: LIST
4814: LIST
4815: PUSH
4816: LD_INT 30
4818: PUSH
4819: LD_INT 0
4821: PUSH
4822: EMPTY
4823: LIST
4824: LIST
4825: PUSH
4826: EMPTY
4827: LIST
4828: LIST
4829: LIST
4830: PPUSH
4831: CALL_OW 69
4835: ST_TO_ADDR
// ComEnterUnit ( apeman , tmp [ 1 ] ) ;
4836: LD_VAR 0 1
4840: PPUSH
4841: LD_VAR 0 3
4845: PUSH
4846: LD_INT 1
4848: ARRAY
4849: PPUSH
4850: CALL_OW 120
// SetSide ( apeman , 4 ) ;
4854: LD_VAR 0 1
4858: PPUSH
4859: LD_INT 4
4861: PPUSH
4862: CALL_OW 235
// end ;
4866: PPOPN 3
4868: END
