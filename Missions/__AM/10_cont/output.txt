// export JMM , Brown , Donaldson , Bobby , Cyrus , Lisa , Frank , Kikuchi , Houten , Gary ; export Simms , Denis , Joan , Khatam , Gladstone , Steve , DeltaDoctor , AmScout ; export Cornell ; export JMMSquad ; export others10 , others09 , ape09 ; export Powell ; export Tsaritsyn ; export Dietrich ; export playerVehs ; export joinEpsilon ; export ruDepot , ruLab1 , ruLab2 , ruArm1 , ruArm2 , ruFab ; export ruSolMinLevel , ruSolMaxLevel ; export ruBaseReady , russianAI ; export activateRUAI ; export ruPossition ; export ruDestroyedBuildings ; export arDepot , arLab , arArm ; export arabianAttackersAI ; export arabianEscape ; export arabianDefeated ; export arabianTrait ; export KhatamStatus ; export mission_prefix , mission_prefix_prev ; export cratesSpawned ; export ru_vehs_counter , ru_sold_counter ; export telep_ru_dialog ; export fastEnd ; export eventVar1 , eventVar2 ; export debugMode ; starting begin Resetfog ;
   0: CALL_OW 335
// RandomizeAll ;
   4: CALL_OW 11
// playerVehs = [ ] ;
   8: LD_ADDR_EXP 27
  12: PUSH
  13: EMPTY
  14: ST_TO_ADDR
// JMMSquad = [ ] ;
  15: LD_ADDR_EXP 20
  19: PUSH
  20: EMPTY
  21: ST_TO_ADDR
// joinEpsilon = 0 ;
  22: LD_ADDR_EXP 28
  26: PUSH
  27: LD_INT 0
  29: ST_TO_ADDR
// ruBaseReady = 0 ;
  30: LD_ADDR_EXP 37
  34: PUSH
  35: LD_INT 0
  37: ST_TO_ADDR
// russianAI = 0 ;
  38: LD_ADDR_EXP 38
  42: PUSH
  43: LD_INT 0
  45: ST_TO_ADDR
// activateRUAI = 0 ;
  46: LD_ADDR_EXP 39
  50: PUSH
  51: LD_INT 0
  53: ST_TO_ADDR
// ruPossition = 0 ;
  54: LD_ADDR_EXP 40
  58: PUSH
  59: LD_INT 0
  61: ST_TO_ADDR
// ruDestroyedBuildings = [ ] ;
  62: LD_ADDR_EXP 41
  66: PUSH
  67: EMPTY
  68: ST_TO_ADDR
// arabianEscape = 0 ;
  69: LD_ADDR_EXP 46
  73: PUSH
  74: LD_INT 0
  76: ST_TO_ADDR
// arabianAttackersAI = 0 ;
  77: LD_ADDR_EXP 45
  81: PUSH
  82: LD_INT 0
  84: ST_TO_ADDR
// arabianDefeated = 0 ;
  85: LD_ADDR_EXP 47
  89: PUSH
  90: LD_INT 0
  92: ST_TO_ADDR
// arabianTrait = 0 ;
  93: LD_ADDR_EXP 48
  97: PUSH
  98: LD_INT 0
 100: ST_TO_ADDR
// telep_ru_dialog := false ;
 101: LD_ADDR_EXP 55
 105: PUSH
 106: LD_INT 0
 108: ST_TO_ADDR
// eventVar1 = 0 ;
 109: LD_ADDR_EXP 57
 113: PUSH
 114: LD_INT 0
 116: ST_TO_ADDR
// eventVar2 = 0 ;
 117: LD_ADDR_EXP 58
 121: PUSH
 122: LD_INT 0
 124: ST_TO_ADDR
// fastEnd = 0 ;
 125: LD_ADDR_EXP 56
 129: PUSH
 130: LD_INT 0
 132: ST_TO_ADDR
// KhatamStatus = 0 ;
 133: LD_ADDR_EXP 49
 137: PUSH
 138: LD_INT 0
 140: ST_TO_ADDR
// cratesSpawned = 0 ;
 141: LD_ADDR_EXP 52
 145: PUSH
 146: LD_INT 0
 148: ST_TO_ADDR
// ru_vehs_counter := [ 2 , 3 , 4 ] [ Difficulty ] ;
 149: LD_ADDR_EXP 53
 153: PUSH
 154: LD_INT 2
 156: PUSH
 157: LD_INT 3
 159: PUSH
 160: LD_INT 4
 162: PUSH
 163: EMPTY
 164: LIST
 165: LIST
 166: LIST
 167: PUSH
 168: LD_OWVAR 67
 172: ARRAY
 173: ST_TO_ADDR
// ru_sold_counter := [ 3 , 4 , 5 ] [ Difficulty ] ;
 174: LD_ADDR_EXP 54
 178: PUSH
 179: LD_INT 3
 181: PUSH
 182: LD_INT 4
 184: PUSH
 185: LD_INT 5
 187: PUSH
 188: EMPTY
 189: LIST
 190: LIST
 191: LIST
 192: PUSH
 193: LD_OWVAR 67
 197: ARRAY
 198: ST_TO_ADDR
// mission_prefix := 10_ ;
 199: LD_ADDR_EXP 50
 203: PUSH
 204: LD_STRING 10_
 206: ST_TO_ADDR
// mission_prefix_prev := 09_ ;
 207: LD_ADDR_EXP 51
 211: PUSH
 212: LD_STRING 09_
 214: ST_TO_ADDR
// debugMode = 0 ;
 215: LD_ADDR_EXP 59
 219: PUSH
 220: LD_INT 0
 222: ST_TO_ADDR
// PrepareDifficulty ;
 223: CALL 7614 0 0
// PrepareJMMTeam ;
 227: CALL 573 0 0
// PrepareCathyTeam ;
 231: CALL 1648 0 0
// PrepareArabianCommander ;
 235: CALL 3006 0 0
// PrepareArabian ;
 239: CALL 3058 0 0
// BuildArabianBase ;
 243: CALL 10397 0 0
// PrepareNature ;
 247: CALL 20921 0 0
// TameApemans ;
 251: CALL 15871 0 0
// end ;
 255: END
// every 0 0$1 trigger debugMode = 1 do var i ;
 256: LD_EXP 59
 260: PUSH
 261: LD_INT 1
 263: EQUAL
 264: IFFALSE 570
 266: GO 268
 268: DISABLE
 269: LD_INT 0
 271: PPUSH
// begin enable ;
 272: ENABLE
// fogoff ( true ) ;
 273: LD_INT 1
 275: PPUSH
 276: CALL_OW 344
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) do
 280: LD_ADDR_VAR 0 1
 284: PUSH
 285: LD_INT 22
 287: PUSH
 288: LD_INT 1
 290: PUSH
 291: EMPTY
 292: LIST
 293: LIST
 294: PUSH
 295: LD_INT 21
 297: PUSH
 298: LD_INT 1
 300: PUSH
 301: EMPTY
 302: LIST
 303: LIST
 304: PUSH
 305: EMPTY
 306: LIST
 307: LIST
 308: PPUSH
 309: CALL_OW 69
 313: PUSH
 314: FOR_IN
 315: IFFALSE 331
// SetLives ( i , 1000 ) ;
 317: LD_VAR 0 1
 321: PPUSH
 322: LD_INT 1000
 324: PPUSH
 325: CALL_OW 234
 329: GO 314
 331: POP
 332: POP
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , 0 ] , [ f_btype , 1 ] ] ] ) do
 333: LD_ADDR_VAR 0 1
 337: PUSH
 338: LD_INT 22
 340: PUSH
 341: LD_INT 1
 343: PUSH
 344: EMPTY
 345: LIST
 346: LIST
 347: PUSH
 348: LD_INT 2
 350: PUSH
 351: LD_INT 30
 353: PUSH
 354: LD_INT 0
 356: PUSH
 357: EMPTY
 358: LIST
 359: LIST
 360: PUSH
 361: LD_INT 30
 363: PUSH
 364: LD_INT 1
 366: PUSH
 367: EMPTY
 368: LIST
 369: LIST
 370: PUSH
 371: EMPTY
 372: LIST
 373: LIST
 374: LIST
 375: PUSH
 376: EMPTY
 377: LIST
 378: LIST
 379: PPUSH
 380: CALL_OW 69
 384: PUSH
 385: FOR_IN
 386: IFFALSE 410
// SetResourceType ( GetBase ( i ) , 1 , 9999 ) ;
 388: LD_VAR 0 1
 392: PPUSH
 393: CALL_OW 274
 397: PPUSH
 398: LD_INT 1
 400: PPUSH
 401: LD_INT 9999
 403: PPUSH
 404: CALL_OW 277
 408: GO 385
 410: POP
 411: POP
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , 0 ] , [ f_btype , 1 ] ] ] ) do
 412: LD_ADDR_VAR 0 1
 416: PUSH
 417: LD_INT 22
 419: PUSH
 420: LD_INT 1
 422: PUSH
 423: EMPTY
 424: LIST
 425: LIST
 426: PUSH
 427: LD_INT 2
 429: PUSH
 430: LD_INT 30
 432: PUSH
 433: LD_INT 0
 435: PUSH
 436: EMPTY
 437: LIST
 438: LIST
 439: PUSH
 440: LD_INT 30
 442: PUSH
 443: LD_INT 1
 445: PUSH
 446: EMPTY
 447: LIST
 448: LIST
 449: PUSH
 450: EMPTY
 451: LIST
 452: LIST
 453: LIST
 454: PUSH
 455: EMPTY
 456: LIST
 457: LIST
 458: PPUSH
 459: CALL_OW 69
 463: PUSH
 464: FOR_IN
 465: IFFALSE 489
// SetResourceType ( GetBase ( i ) , 2 , 9999 ) ;
 467: LD_VAR 0 1
 471: PPUSH
 472: CALL_OW 274
 476: PPUSH
 477: LD_INT 2
 479: PPUSH
 480: LD_INT 9999
 482: PPUSH
 483: CALL_OW 277
 487: GO 464
 489: POP
 490: POP
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , 0 ] , [ f_btype , 1 ] ] ] ) do
 491: LD_ADDR_VAR 0 1
 495: PUSH
 496: LD_INT 22
 498: PUSH
 499: LD_INT 1
 501: PUSH
 502: EMPTY
 503: LIST
 504: LIST
 505: PUSH
 506: LD_INT 2
 508: PUSH
 509: LD_INT 30
 511: PUSH
 512: LD_INT 0
 514: PUSH
 515: EMPTY
 516: LIST
 517: LIST
 518: PUSH
 519: LD_INT 30
 521: PUSH
 522: LD_INT 1
 524: PUSH
 525: EMPTY
 526: LIST
 527: LIST
 528: PUSH
 529: EMPTY
 530: LIST
 531: LIST
 532: LIST
 533: PUSH
 534: EMPTY
 535: LIST
 536: LIST
 537: PPUSH
 538: CALL_OW 69
 542: PUSH
 543: FOR_IN
 544: IFFALSE 568
// SetResourceType ( GetBase ( i ) , 3 , 9999 ) ;
 546: LD_VAR 0 1
 550: PPUSH
 551: CALL_OW 274
 555: PPUSH
 556: LD_INT 3
 558: PPUSH
 559: LD_INT 9999
 561: PPUSH
 562: CALL_OW 277
 566: GO 543
 568: POP
 569: POP
// end ; end_of_file
 570: PPOPN 1
 572: END
// export function PrepareJMMTeam ; var i , j , veh , rnd , count ; begin
 573: LD_INT 0
 575: PPUSH
 576: PPUSH
 577: PPUSH
 578: PPUSH
 579: PPUSH
 580: PPUSH
// uc_side = 1 ;
 581: LD_ADDR_OWVAR 20
 585: PUSH
 586: LD_INT 1
 588: ST_TO_ADDR
// uc_nation = 1 ;
 589: LD_ADDR_OWVAR 21
 593: PUSH
 594: LD_INT 1
 596: ST_TO_ADDR
// count = 0 ;
 597: LD_ADDR_VAR 0 6
 601: PUSH
 602: LD_INT 0
 604: ST_TO_ADDR
// JMM = PrepareUnit ( 10_JMM , true ) ;
 605: LD_ADDR_EXP 1
 609: PUSH
 610: LD_STRING 10_JMM
 612: PPUSH
 613: LD_INT 1
 615: PPUSH
 616: CALL 7350 0 2
 620: ST_TO_ADDR
// JMMSquad = JMMSquad ^ JMM ;
 621: LD_ADDR_EXP 20
 625: PUSH
 626: LD_EXP 20
 630: PUSH
 631: LD_EXP 1
 635: ADD
 636: ST_TO_ADDR
// Gary = PrepareUnit ( 10_Gary , true ) ;
 637: LD_ADDR_EXP 10
 641: PUSH
 642: LD_STRING 10_Gary
 644: PPUSH
 645: LD_INT 1
 647: PPUSH
 648: CALL 7350 0 2
 652: ST_TO_ADDR
// if Gary then
 653: LD_EXP 10
 657: IFFALSE 675
// JMMSquad = JMMSquad ^ Gary ;
 659: LD_ADDR_EXP 20
 663: PUSH
 664: LD_EXP 20
 668: PUSH
 669: LD_EXP 10
 673: ADD
 674: ST_TO_ADDR
// Cyrus = PrepareUnit ( 10_Cyrus , true ) ;
 675: LD_ADDR_EXP 5
 679: PUSH
 680: LD_STRING 10_Cyrus
 682: PPUSH
 683: LD_INT 1
 685: PPUSH
 686: CALL 7350 0 2
 690: ST_TO_ADDR
// if Cyrus then
 691: LD_EXP 5
 695: IFFALSE 713
// JMMSquad = JMMSquad ^ Cyrus ;
 697: LD_ADDR_EXP 20
 701: PUSH
 702: LD_EXP 20
 706: PUSH
 707: LD_EXP 5
 711: ADD
 712: ST_TO_ADDR
// Bobby = PrepareUnit ( 10_Bobby , true ) ;
 713: LD_ADDR_EXP 4
 717: PUSH
 718: LD_STRING 10_Bobby
 720: PPUSH
 721: LD_INT 1
 723: PPUSH
 724: CALL 7350 0 2
 728: ST_TO_ADDR
// if Bobby then
 729: LD_EXP 4
 733: IFFALSE 751
// JMMSquad = JMMSquad ^ Bobby ;
 735: LD_ADDR_EXP 20
 739: PUSH
 740: LD_EXP 20
 744: PUSH
 745: LD_EXP 4
 749: ADD
 750: ST_TO_ADDR
// Lisa = PrepareUnit ( 10_Lisa , true ) ;
 751: LD_ADDR_EXP 6
 755: PUSH
 756: LD_STRING 10_Lisa
 758: PPUSH
 759: LD_INT 1
 761: PPUSH
 762: CALL 7350 0 2
 766: ST_TO_ADDR
// if Lisa then
 767: LD_EXP 6
 771: IFFALSE 789
// JMMSquad = JMMSquad ^ Lisa ;
 773: LD_ADDR_EXP 20
 777: PUSH
 778: LD_EXP 20
 782: PUSH
 783: LD_EXP 6
 787: ADD
 788: ST_TO_ADDR
// Brown = PrepareUnit ( 10_Brown , true ) ;
 789: LD_ADDR_EXP 2
 793: PUSH
 794: LD_STRING 10_Brown
 796: PPUSH
 797: LD_INT 1
 799: PPUSH
 800: CALL 7350 0 2
 804: ST_TO_ADDR
// if Brown then
 805: LD_EXP 2
 809: IFFALSE 827
// JMMSquad = JMMSquad ^ Brown ;
 811: LD_ADDR_EXP 20
 815: PUSH
 816: LD_EXP 20
 820: PUSH
 821: LD_EXP 2
 825: ADD
 826: ST_TO_ADDR
// Donaldson = PrepareUnit ( 10_Donaldson , true ) ;
 827: LD_ADDR_EXP 3
 831: PUSH
 832: LD_STRING 10_Donaldson
 834: PPUSH
 835: LD_INT 1
 837: PPUSH
 838: CALL 7350 0 2
 842: ST_TO_ADDR
// if Donaldson then
 843: LD_EXP 3
 847: IFFALSE 865
// JMMSquad = JMMSquad ^ Donaldson ;
 849: LD_ADDR_EXP 20
 853: PUSH
 854: LD_EXP 20
 858: PUSH
 859: LD_EXP 3
 863: ADD
 864: ST_TO_ADDR
// Frank = PrepareUnit ( 10_Frank , true ) ;
 865: LD_ADDR_EXP 7
 869: PUSH
 870: LD_STRING 10_Frank
 872: PPUSH
 873: LD_INT 1
 875: PPUSH
 876: CALL 7350 0 2
 880: ST_TO_ADDR
// if Frank then
 881: LD_EXP 7
 885: IFFALSE 903
// JMMSquad = JMMSquad ^ Frank ;
 887: LD_ADDR_EXP 20
 891: PUSH
 892: LD_EXP 20
 896: PUSH
 897: LD_EXP 7
 901: ADD
 902: ST_TO_ADDR
// Houten = PrepareUnit ( 10_Houten , true ) ;
 903: LD_ADDR_EXP 9
 907: PUSH
 908: LD_STRING 10_Houten
 910: PPUSH
 911: LD_INT 1
 913: PPUSH
 914: CALL 7350 0 2
 918: ST_TO_ADDR
// if Houten then
 919: LD_EXP 9
 923: IFFALSE 941
// JMMSquad = JMMSquad ^ Houten ;
 925: LD_ADDR_EXP 20
 929: PUSH
 930: LD_EXP 20
 934: PUSH
 935: LD_EXP 9
 939: ADD
 940: ST_TO_ADDR
// others10 = CreateCharacterSet ( OthersIn10 ) ;
 941: LD_ADDR_EXP 21
 945: PUSH
 946: LD_STRING OthersIn10
 948: PPUSH
 949: CALL_OW 31
 953: ST_TO_ADDR
// Powell = PrepareUnit ( Powell , false ) ;
 954: LD_ADDR_EXP 24
 958: PUSH
 959: LD_STRING Powell
 961: PPUSH
 962: LD_INT 0
 964: PPUSH
 965: CALL 7350 0 2
 969: ST_TO_ADDR
// for i in JMMSquad do
 970: LD_ADDR_VAR 0 2
 974: PUSH
 975: LD_EXP 20
 979: PUSH
 980: FOR_IN
 981: IFFALSE 1240
// begin if count < 3 then
 983: LD_VAR 0 6
 987: PUSH
 988: LD_INT 3
 990: LESS
 991: IFFALSE 1108
// begin vc_engine = 1 ;
 993: LD_ADDR_OWVAR 39
 997: PUSH
 998: LD_INT 1
1000: ST_TO_ADDR
// vc_control = 1 ;
1001: LD_ADDR_OWVAR 38
1005: PUSH
1006: LD_INT 1
1008: ST_TO_ADDR
// vc_weapon = 12 ;
1009: LD_ADDR_OWVAR 40
1013: PUSH
1014: LD_INT 12
1016: ST_TO_ADDR
// vc_chassis = 3 ;
1017: LD_ADDR_OWVAR 37
1021: PUSH
1022: LD_INT 3
1024: ST_TO_ADDR
// veh = CreateVehicle ;
1025: LD_ADDR_VAR 0 4
1029: PUSH
1030: CALL_OW 45
1034: ST_TO_ADDR
// SetDir ( veh , 1 ) ;
1035: LD_VAR 0 4
1039: PPUSH
1040: LD_INT 1
1042: PPUSH
1043: CALL_OW 233
// PlaceUnitArea ( veh , PlayerSpawn , false ) ;
1047: LD_VAR 0 4
1051: PPUSH
1052: LD_INT 2
1054: PPUSH
1055: LD_INT 0
1057: PPUSH
1058: CALL_OW 49
// if count mod 2 = 0 then
1062: LD_VAR 0 6
1066: PUSH
1067: LD_INT 2
1069: MOD
1070: PUSH
1071: LD_INT 0
1073: EQUAL
1074: IFFALSE 1093
// AddCargo ( veh , 1 , 100 ) else
1076: LD_VAR 0 4
1080: PPUSH
1081: LD_INT 1
1083: PPUSH
1084: LD_INT 100
1086: PPUSH
1087: CALL_OW 291
1091: GO 1108
// AddCargo ( veh , 3 , 100 ) end ;
1093: LD_VAR 0 4
1097: PPUSH
1098: LD_INT 3
1100: PPUSH
1101: LD_INT 100
1103: PPUSH
1104: CALL_OW 291
// if count >= 3 then
1108: LD_VAR 0 6
1112: PUSH
1113: LD_INT 3
1115: GREATEREQUAL
1116: IFFALSE 1210
// begin vc_engine = 1 ;
1118: LD_ADDR_OWVAR 39
1122: PUSH
1123: LD_INT 1
1125: ST_TO_ADDR
// vc_control = 1 ;
1126: LD_ADDR_OWVAR 38
1130: PUSH
1131: LD_INT 1
1133: ST_TO_ADDR
// vc_weapon = [ 3 , 4 , 5 ] [ Rand ( 1 , 3 ) ] ;
1134: LD_ADDR_OWVAR 40
1138: PUSH
1139: LD_INT 3
1141: PUSH
1142: LD_INT 4
1144: PUSH
1145: LD_INT 5
1147: PUSH
1148: EMPTY
1149: LIST
1150: LIST
1151: LIST
1152: PUSH
1153: LD_INT 1
1155: PPUSH
1156: LD_INT 3
1158: PPUSH
1159: CALL_OW 12
1163: ARRAY
1164: ST_TO_ADDR
// vc_chassis = 3 ;
1165: LD_ADDR_OWVAR 37
1169: PUSH
1170: LD_INT 3
1172: ST_TO_ADDR
// veh = CreateVehicle ;
1173: LD_ADDR_VAR 0 4
1177: PUSH
1178: CALL_OW 45
1182: ST_TO_ADDR
// SetDir ( veh , 1 ) ;
1183: LD_VAR 0 4
1187: PPUSH
1188: LD_INT 1
1190: PPUSH
1191: CALL_OW 233
// PlaceUnitArea ( veh , PlayerSpawn , false ) ;
1195: LD_VAR 0 4
1199: PPUSH
1200: LD_INT 2
1202: PPUSH
1203: LD_INT 0
1205: PPUSH
1206: CALL_OW 49
// end ; count = count + 1 ;
1210: LD_ADDR_VAR 0 6
1214: PUSH
1215: LD_VAR 0 6
1219: PUSH
1220: LD_INT 1
1222: PLUS
1223: ST_TO_ADDR
// PlaceHumanInUnit ( i , veh ) ;
1224: LD_VAR 0 2
1228: PPUSH
1229: LD_VAR 0 4
1233: PPUSH
1234: CALL_OW 52
// end ;
1238: GO 980
1240: POP
1241: POP
// for i in others10 do
1242: LD_ADDR_VAR 0 2
1246: PUSH
1247: LD_EXP 21
1251: PUSH
1252: FOR_IN
1253: IFFALSE 1379
// begin vc_engine = 1 ;
1255: LD_ADDR_OWVAR 39
1259: PUSH
1260: LD_INT 1
1262: ST_TO_ADDR
// vc_control = 1 ;
1263: LD_ADDR_OWVAR 38
1267: PUSH
1268: LD_INT 1
1270: ST_TO_ADDR
// vc_weapon = [ 3 , 4 , 5 ] [ Rand ( 1 , 3 ) ] ;
1271: LD_ADDR_OWVAR 40
1275: PUSH
1276: LD_INT 3
1278: PUSH
1279: LD_INT 4
1281: PUSH
1282: LD_INT 5
1284: PUSH
1285: EMPTY
1286: LIST
1287: LIST
1288: LIST
1289: PUSH
1290: LD_INT 1
1292: PPUSH
1293: LD_INT 3
1295: PPUSH
1296: CALL_OW 12
1300: ARRAY
1301: ST_TO_ADDR
// vc_chassis = 3 ;
1302: LD_ADDR_OWVAR 37
1306: PUSH
1307: LD_INT 3
1309: ST_TO_ADDR
// veh = CreateVehicle ;
1310: LD_ADDR_VAR 0 4
1314: PUSH
1315: CALL_OW 45
1319: ST_TO_ADDR
// SetDir ( veh , 1 ) ;
1320: LD_VAR 0 4
1324: PPUSH
1325: LD_INT 1
1327: PPUSH
1328: CALL_OW 233
// PlaceUnitArea ( veh , PlayerSpawn , false ) ;
1332: LD_VAR 0 4
1336: PPUSH
1337: LD_INT 2
1339: PPUSH
1340: LD_INT 0
1342: PPUSH
1343: CALL_OW 49
// playerVehs = playerVehs ^ veh ;
1347: LD_ADDR_EXP 27
1351: PUSH
1352: LD_EXP 27
1356: PUSH
1357: LD_VAR 0 4
1361: ADD
1362: ST_TO_ADDR
// PlaceHumanInUnit ( i , veh ) ;
1363: LD_VAR 0 2
1367: PPUSH
1368: LD_VAR 0 4
1372: PPUSH
1373: CALL_OW 52
// end ;
1377: GO 1252
1379: POP
1380: POP
// SetClass ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) , 1 ) ;
1381: LD_INT 22
1383: PUSH
1384: LD_INT 1
1386: PUSH
1387: EMPTY
1388: LIST
1389: LIST
1390: PUSH
1391: LD_INT 21
1393: PUSH
1394: LD_INT 1
1396: PUSH
1397: EMPTY
1398: LIST
1399: LIST
1400: PUSH
1401: EMPTY
1402: LIST
1403: LIST
1404: PPUSH
1405: CALL_OW 69
1409: PPUSH
1410: LD_INT 1
1412: PPUSH
1413: CALL_OW 336
// end ;
1417: LD_VAR 0 1
1421: RET
// export function PrepareVehicles ; var i , veh , rnd , cargoAmmount ; begin
1422: LD_INT 0
1424: PPUSH
1425: PPUSH
1426: PPUSH
1427: PPUSH
1428: PPUSH
// uc_side = 1 ;
1429: LD_ADDR_OWVAR 20
1433: PUSH
1434: LD_INT 1
1436: ST_TO_ADDR
// uc_nation = 1 ;
1437: LD_ADDR_OWVAR 21
1441: PUSH
1442: LD_INT 1
1444: ST_TO_ADDR
// for i := 1 to 10 do
1445: LD_ADDR_VAR 0 2
1449: PUSH
1450: DOUBLE
1451: LD_INT 1
1453: DEC
1454: ST_TO_ADDR
1455: LD_INT 10
1457: PUSH
1458: FOR_TO
1459: IFFALSE 1641
// begin vc_engine = 1 ;
1461: LD_ADDR_OWVAR 39
1465: PUSH
1466: LD_INT 1
1468: ST_TO_ADDR
// vc_control = 1 ;
1469: LD_ADDR_OWVAR 38
1473: PUSH
1474: LD_INT 1
1476: ST_TO_ADDR
// vc_weapon = [ 3 , 4 , 5 , 12 ] [ Rand ( 1 , 4 ) ] ;
1477: LD_ADDR_OWVAR 40
1481: PUSH
1482: LD_INT 3
1484: PUSH
1485: LD_INT 4
1487: PUSH
1488: LD_INT 5
1490: PUSH
1491: LD_INT 12
1493: PUSH
1494: EMPTY
1495: LIST
1496: LIST
1497: LIST
1498: LIST
1499: PUSH
1500: LD_INT 1
1502: PPUSH
1503: LD_INT 4
1505: PPUSH
1506: CALL_OW 12
1510: ARRAY
1511: ST_TO_ADDR
// vc_chassis = 3 ;
1512: LD_ADDR_OWVAR 37
1516: PUSH
1517: LD_INT 3
1519: ST_TO_ADDR
// veh = CreateVehicle ;
1520: LD_ADDR_VAR 0 3
1524: PUSH
1525: CALL_OW 45
1529: ST_TO_ADDR
// SetDir ( veh , 1 ) ;
1530: LD_VAR 0 3
1534: PPUSH
1535: LD_INT 1
1537: PPUSH
1538: CALL_OW 233
// PlaceUnitArea ( veh , PlayerSpawn , false ) ;
1542: LD_VAR 0 3
1546: PPUSH
1547: LD_INT 2
1549: PPUSH
1550: LD_INT 0
1552: PPUSH
1553: CALL_OW 49
// playerVehs = playerVehs ^ veh ;
1557: LD_ADDR_EXP 27
1561: PUSH
1562: LD_EXP 27
1566: PUSH
1567: LD_VAR 0 3
1571: ADD
1572: ST_TO_ADDR
// if vc_weapon = 12 then
1573: LD_OWVAR 40
1577: PUSH
1578: LD_INT 12
1580: EQUAL
1581: IFFALSE 1639
// begin rnd = Rand ( 5 , 10 ) * 10 ;
1583: LD_ADDR_VAR 0 4
1587: PUSH
1588: LD_INT 5
1590: PPUSH
1591: LD_INT 10
1593: PPUSH
1594: CALL_OW 12
1598: PUSH
1599: LD_INT 10
1601: MUL
1602: ST_TO_ADDR
// AddCargo ( veh , [ 1 , 3 ] [ Rand ( 1 , 2 ) ] , rnd ) ;
1603: LD_VAR 0 3
1607: PPUSH
1608: LD_INT 1
1610: PUSH
1611: LD_INT 3
1613: PUSH
1614: EMPTY
1615: LIST
1616: LIST
1617: PUSH
1618: LD_INT 1
1620: PPUSH
1621: LD_INT 2
1623: PPUSH
1624: CALL_OW 12
1628: ARRAY
1629: PPUSH
1630: LD_VAR 0 4
1634: PPUSH
1635: CALL_OW 291
// end ; end ;
1639: GO 1458
1641: POP
1642: POP
// end ;
1643: LD_VAR 0 1
1647: RET
// export function PrepareCathyTeam ; var i , tmp ; begin
1648: LD_INT 0
1650: PPUSH
1651: PPUSH
1652: PPUSH
// uc_side = 4 ;
1653: LD_ADDR_OWVAR 20
1657: PUSH
1658: LD_INT 4
1660: ST_TO_ADDR
// uc_nation = 1 ;
1661: LD_ADDR_OWVAR 21
1665: PUSH
1666: LD_INT 1
1668: ST_TO_ADDR
// Simms = PrepareUnit ( Simms , false ) ;
1669: LD_ADDR_EXP 11
1673: PUSH
1674: LD_STRING Simms
1676: PPUSH
1677: LD_INT 0
1679: PPUSH
1680: CALL 7350 0 2
1684: ST_TO_ADDR
// Denis = PrepareUnit ( 08_Denis , true ) ;
1685: LD_ADDR_EXP 12
1689: PUSH
1690: LD_STRING 08_Denis
1692: PPUSH
1693: LD_INT 1
1695: PPUSH
1696: CALL 7350 0 2
1700: ST_TO_ADDR
// Joan = PrepareUnit ( 08_Joan , true ) ;
1701: LD_ADDR_EXP 13
1705: PUSH
1706: LD_STRING 08_Joan
1708: PPUSH
1709: LD_INT 1
1711: PPUSH
1712: CALL 7350 0 2
1716: ST_TO_ADDR
// Khatam = PrepareUnit ( Khatam , true ) ;
1717: LD_ADDR_EXP 14
1721: PUSH
1722: LD_STRING Khatam
1724: PPUSH
1725: LD_INT 1
1727: PPUSH
1728: CALL 7350 0 2
1732: ST_TO_ADDR
// Gladstone = PrepareUnit ( Gladstone , true ) ;
1733: LD_ADDR_EXP 15
1737: PUSH
1738: LD_STRING Gladstone
1740: PPUSH
1741: LD_INT 1
1743: PPUSH
1744: CALL 7350 0 2
1748: ST_TO_ADDR
// DeltaDoctor = PrepareUnit ( DeltaDoctor , true ) ;
1749: LD_ADDR_EXP 17
1753: PUSH
1754: LD_STRING DeltaDoctor
1756: PPUSH
1757: LD_INT 1
1759: PPUSH
1760: CALL 7350 0 2
1764: ST_TO_ADDR
// if TestCharacters ( 08_Frank ) = 1 then
1765: LD_STRING 08_Frank
1767: PPUSH
1768: CALL_OW 28
1772: PUSH
1773: LD_INT 1
1775: EQUAL
1776: IFFALSE 1794
// Kikuchi = PrepareUnit ( Yamoko , true ) ;
1778: LD_ADDR_EXP 8
1782: PUSH
1783: LD_STRING Yamoko
1785: PPUSH
1786: LD_INT 1
1788: PPUSH
1789: CALL 7350 0 2
1793: ST_TO_ADDR
// others09 = CreateCharacterSet ( 09_others ) ;
1794: LD_ADDR_EXP 22
1798: PUSH
1799: LD_STRING 09_others
1801: PPUSH
1802: CALL_OW 31
1806: ST_TO_ADDR
// ape09 = CreateCharacterSet ( 09_apes ) ;
1807: LD_ADDR_EXP 23
1811: PUSH
1812: LD_STRING 09_apes
1814: PPUSH
1815: CALL_OW 31
1819: ST_TO_ADDR
// PlaceUnitArea ( Simms , CathyTeamSpawn , false ) ;
1820: LD_EXP 11
1824: PPUSH
1825: LD_INT 1
1827: PPUSH
1828: LD_INT 0
1830: PPUSH
1831: CALL_OW 49
// PlaceUnitArea ( Denis , CathyTeamSpawn , false ) ;
1835: LD_EXP 12
1839: PPUSH
1840: LD_INT 1
1842: PPUSH
1843: LD_INT 0
1845: PPUSH
1846: CALL_OW 49
// PlaceUnitArea ( Joan , CathyTeamSpawn , false ) ;
1850: LD_EXP 13
1854: PPUSH
1855: LD_INT 1
1857: PPUSH
1858: LD_INT 0
1860: PPUSH
1861: CALL_OW 49
// PlaceUnitArea ( Khatam , CathyTeamSpawn , false ) ;
1865: LD_EXP 14
1869: PPUSH
1870: LD_INT 1
1872: PPUSH
1873: LD_INT 0
1875: PPUSH
1876: CALL_OW 49
// PlaceUnitArea ( Gladstone , CathyTeamSpawn , false ) ;
1880: LD_EXP 15
1884: PPUSH
1885: LD_INT 1
1887: PPUSH
1888: LD_INT 0
1890: PPUSH
1891: CALL_OW 49
// PlaceUnitArea ( DeltaDoctor , CathyTeamSpawn , false ) ;
1895: LD_EXP 17
1899: PPUSH
1900: LD_INT 1
1902: PPUSH
1903: LD_INT 0
1905: PPUSH
1906: CALL_OW 49
// PlaceUnitArea ( Kikuchi , CathyTeamSpawn , false ) ;
1910: LD_EXP 8
1914: PPUSH
1915: LD_INT 1
1917: PPUSH
1918: LD_INT 0
1920: PPUSH
1921: CALL_OW 49
// SetClass ( [ Simms , Khatam , Denis , Gladstone , DeltaDoctor , Joan ] , 4 ) ;
1925: LD_EXP 11
1929: PUSH
1930: LD_EXP 14
1934: PUSH
1935: LD_EXP 12
1939: PUSH
1940: LD_EXP 15
1944: PUSH
1945: LD_EXP 17
1949: PUSH
1950: LD_EXP 13
1954: PUSH
1955: EMPTY
1956: LIST
1957: LIST
1958: LIST
1959: LIST
1960: LIST
1961: LIST
1962: PPUSH
1963: LD_INT 4
1965: PPUSH
1966: CALL_OW 336
// if others09 > 2 then
1970: LD_EXP 22
1974: PUSH
1975: LD_INT 2
1977: GREATER
1978: IFFALSE 2023
// begin for i := 1 to 3 do
1980: LD_ADDR_VAR 0 2
1984: PUSH
1985: DOUBLE
1986: LD_INT 1
1988: DEC
1989: ST_TO_ADDR
1990: LD_INT 3
1992: PUSH
1993: FOR_TO
1994: IFFALSE 2019
// PlaceUnitArea ( others09 [ i ] , CathyTeamSpawn , false ) ;
1996: LD_EXP 22
2000: PUSH
2001: LD_VAR 0 2
2005: ARRAY
2006: PPUSH
2007: LD_INT 1
2009: PPUSH
2010: LD_INT 0
2012: PPUSH
2013: CALL_OW 49
2017: GO 1993
2019: POP
2020: POP
// end else
2021: GO 2055
// begin for i in others09 do
2023: LD_ADDR_VAR 0 2
2027: PUSH
2028: LD_EXP 22
2032: PUSH
2033: FOR_IN
2034: IFFALSE 2053
// PlaceUnitArea ( i , CathyTeamSpawn , false ) ;
2036: LD_VAR 0 2
2040: PPUSH
2041: LD_INT 1
2043: PPUSH
2044: LD_INT 0
2046: PPUSH
2047: CALL_OW 49
2051: GO 2033
2053: POP
2054: POP
// end ; if FilterAllUnits ( [ [ f_side , 4 ] , [ f_type , unit_human ] , [ f_class , 2 ] ] ) diff [ Simms , Khatam , Denis , Gladstone , DeltaDoctor , Joan ] = 0 then
2055: LD_INT 22
2057: PUSH
2058: LD_INT 4
2060: PUSH
2061: EMPTY
2062: LIST
2063: LIST
2064: PUSH
2065: LD_INT 21
2067: PUSH
2068: LD_INT 1
2070: PUSH
2071: EMPTY
2072: LIST
2073: LIST
2074: PUSH
2075: LD_INT 25
2077: PUSH
2078: LD_INT 2
2080: PUSH
2081: EMPTY
2082: LIST
2083: LIST
2084: PUSH
2085: EMPTY
2086: LIST
2087: LIST
2088: LIST
2089: PPUSH
2090: CALL_OW 69
2094: PUSH
2095: LD_EXP 11
2099: PUSH
2100: LD_EXP 14
2104: PUSH
2105: LD_EXP 12
2109: PUSH
2110: LD_EXP 15
2114: PUSH
2115: LD_EXP 17
2119: PUSH
2120: LD_EXP 13
2124: PUSH
2125: EMPTY
2126: LIST
2127: LIST
2128: LIST
2129: LIST
2130: LIST
2131: LIST
2132: PUSH
2133: LD_INT 0
2135: EQUAL
2136: DIFF
2137: IFFALSE 2239
// begin tmp = FilterAllUnits ( [ [ f_side , 4 ] , [ f_type , unit_human ] , [ f_class , 2 ] ] ) diff [ Simms , Khatam , Denis , Gladstone , DeltaDoctor , Joan ] ;
2139: LD_ADDR_VAR 0 3
2143: PUSH
2144: LD_INT 22
2146: PUSH
2147: LD_INT 4
2149: PUSH
2150: EMPTY
2151: LIST
2152: LIST
2153: PUSH
2154: LD_INT 21
2156: PUSH
2157: LD_INT 1
2159: PUSH
2160: EMPTY
2161: LIST
2162: LIST
2163: PUSH
2164: LD_INT 25
2166: PUSH
2167: LD_INT 2
2169: PUSH
2170: EMPTY
2171: LIST
2172: LIST
2173: PUSH
2174: EMPTY
2175: LIST
2176: LIST
2177: LIST
2178: PPUSH
2179: CALL_OW 69
2183: PUSH
2184: LD_EXP 11
2188: PUSH
2189: LD_EXP 14
2193: PUSH
2194: LD_EXP 12
2198: PUSH
2199: LD_EXP 15
2203: PUSH
2204: LD_EXP 17
2208: PUSH
2209: LD_EXP 13
2213: PUSH
2214: EMPTY
2215: LIST
2216: LIST
2217: LIST
2218: LIST
2219: LIST
2220: LIST
2221: DIFF
2222: ST_TO_ADDR
// SetClass ( tmp [ 1 ] , 2 ) ;
2223: LD_VAR 0 3
2227: PUSH
2228: LD_INT 1
2230: ARRAY
2231: PPUSH
2232: LD_INT 2
2234: PPUSH
2235: CALL_OW 336
// end ; for i in ape09 do
2239: LD_ADDR_VAR 0 2
2243: PUSH
2244: LD_EXP 23
2248: PUSH
2249: FOR_IN
2250: IFFALSE 2269
// PlaceUnitArea ( i , CathyTeamSpawn , false ) ;
2252: LD_VAR 0 2
2256: PPUSH
2257: LD_INT 1
2259: PPUSH
2260: LD_INT 0
2262: PPUSH
2263: CALL_OW 49
2267: GO 2249
2269: POP
2270: POP
// AddComBuild ( FilterAllUnits ( [ [ f_side , 4 ] , [ f_type , unit_human ] , [ f_class , 2 ] ] ) , b_depot , 101 , 30 , 2 ) ;
2271: LD_INT 22
2273: PUSH
2274: LD_INT 4
2276: PUSH
2277: EMPTY
2278: LIST
2279: LIST
2280: PUSH
2281: LD_INT 21
2283: PUSH
2284: LD_INT 1
2286: PUSH
2287: EMPTY
2288: LIST
2289: LIST
2290: PUSH
2291: LD_INT 25
2293: PUSH
2294: LD_INT 2
2296: PUSH
2297: EMPTY
2298: LIST
2299: LIST
2300: PUSH
2301: EMPTY
2302: LIST
2303: LIST
2304: LIST
2305: PPUSH
2306: CALL_OW 69
2310: PPUSH
2311: LD_INT 0
2313: PPUSH
2314: LD_INT 101
2316: PPUSH
2317: LD_INT 30
2319: PPUSH
2320: LD_INT 2
2322: PPUSH
2323: CALL_OW 205
// uc_side = 1 ;
2327: LD_ADDR_OWVAR 20
2331: PUSH
2332: LD_INT 1
2334: ST_TO_ADDR
// hc_class := 1 ;
2335: LD_ADDR_OWVAR 28
2339: PUSH
2340: LD_INT 1
2342: ST_TO_ADDR
// hc_sex := sex_female ;
2343: LD_ADDR_OWVAR 27
2347: PUSH
2348: LD_INT 2
2350: ST_TO_ADDR
// hc_gallery :=  ;
2351: LD_ADDR_OWVAR 33
2355: PUSH
2356: LD_STRING 
2358: ST_TO_ADDR
// hc_name :=  ;
2359: LD_ADDR_OWVAR 26
2363: PUSH
2364: LD_STRING 
2366: ST_TO_ADDR
// hc_skills := [ 1 , 7 , 1 , 0 ] ;
2367: LD_ADDR_OWVAR 31
2371: PUSH
2372: LD_INT 1
2374: PUSH
2375: LD_INT 7
2377: PUSH
2378: LD_INT 1
2380: PUSH
2381: LD_INT 0
2383: PUSH
2384: EMPTY
2385: LIST
2386: LIST
2387: LIST
2388: LIST
2389: ST_TO_ADDR
// AmScout = CreateHuman ;
2390: LD_ADDR_EXP 18
2394: PUSH
2395: CALL_OW 44
2399: ST_TO_ADDR
// end ;
2400: LD_VAR 0 1
2404: RET
// export function PrepareCornell ; begin
2405: LD_INT 0
2407: PPUSH
// uc_side = 4 ;
2408: LD_ADDR_OWVAR 20
2412: PUSH
2413: LD_INT 4
2415: ST_TO_ADDR
// uc_nation = 1 ;
2416: LD_ADDR_OWVAR 21
2420: PUSH
2421: LD_INT 1
2423: ST_TO_ADDR
// Cornell = PrepareUnit ( 03_Cornel , true ) ;
2424: LD_ADDR_EXP 19
2428: PUSH
2429: LD_STRING 03_Cornel
2431: PPUSH
2432: LD_INT 1
2434: PPUSH
2435: CALL 7350 0 2
2439: ST_TO_ADDR
// PlaceUnitArea ( Cornell , CornellSpawn , false ) ;
2440: LD_EXP 19
2444: PPUSH
2445: LD_INT 8
2447: PPUSH
2448: LD_INT 0
2450: PPUSH
2451: CALL_OW 49
// if IsInUnit ( JMM ) then
2455: LD_EXP 1
2459: PPUSH
2460: CALL_OW 310
2464: IFFALSE 2507
// ComMoveXY ( Cornell , GetX ( IsInUnit ( JMM ) ) , GetY ( IsInUnit ( JMM ) ) ) else
2466: LD_EXP 19
2470: PPUSH
2471: LD_EXP 1
2475: PPUSH
2476: CALL_OW 310
2480: PPUSH
2481: CALL_OW 250
2485: PPUSH
2486: LD_EXP 1
2490: PPUSH
2491: CALL_OW 310
2495: PPUSH
2496: CALL_OW 251
2500: PPUSH
2501: CALL_OW 111
2505: GO 2536
// ComMoveXY ( Cornell , GetX ( JMM ) , GetY ( JMM ) ) ;
2507: LD_EXP 19
2511: PPUSH
2512: LD_EXP 1
2516: PPUSH
2517: CALL_OW 250
2521: PPUSH
2522: LD_EXP 1
2526: PPUSH
2527: CALL_OW 251
2531: PPUSH
2532: CALL_OW 111
// end ; end_of_file
2536: LD_VAR 0 1
2540: RET
// export function PrepareRussians ; var i , un ; begin
2541: LD_INT 0
2543: PPUSH
2544: PPUSH
2545: PPUSH
// uc_side = 3 ;
2546: LD_ADDR_OWVAR 20
2550: PUSH
2551: LD_INT 3
2553: ST_TO_ADDR
// uc_nation = 3 ;
2554: LD_ADDR_OWVAR 21
2558: PUSH
2559: LD_INT 3
2561: ST_TO_ADDR
// Tsaritsyn = PrepareUnit ( Tsaritsyn , false ) ;
2562: LD_ADDR_EXP 25
2566: PUSH
2567: LD_STRING Tsaritsyn
2569: PPUSH
2570: LD_INT 0
2572: PPUSH
2573: CALL 7350 0 2
2577: ST_TO_ADDR
// PlaceUnitArea ( Tsaritsyn , RussianSpawn , false ) ;
2578: LD_EXP 25
2582: PPUSH
2583: LD_INT 3
2585: PPUSH
2586: LD_INT 0
2588: PPUSH
2589: CALL_OW 49
// for i = 1 to 14 do
2593: LD_ADDR_VAR 0 2
2597: PUSH
2598: DOUBLE
2599: LD_INT 1
2601: DEC
2602: ST_TO_ADDR
2603: LD_INT 14
2605: PUSH
2606: FOR_TO
2607: IFFALSE 2693
// begin uc_side = 3 ;
2609: LD_ADDR_OWVAR 20
2613: PUSH
2614: LD_INT 3
2616: ST_TO_ADDR
// uc_nation = 3 ;
2617: LD_ADDR_OWVAR 21
2621: PUSH
2622: LD_INT 3
2624: ST_TO_ADDR
// hc_gallery =  ;
2625: LD_ADDR_OWVAR 33
2629: PUSH
2630: LD_STRING 
2632: ST_TO_ADDR
// hc_name =  ;
2633: LD_ADDR_OWVAR 26
2637: PUSH
2638: LD_STRING 
2640: ST_TO_ADDR
// PrepareHuman ( false , 1 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
2641: LD_INT 0
2643: PPUSH
2644: LD_INT 1
2646: PPUSH
2647: LD_EXP 35
2651: PPUSH
2652: LD_EXP 36
2656: PPUSH
2657: CALL_OW 12
2661: PPUSH
2662: CALL_OW 380
// un = CreateHuman ;
2666: LD_ADDR_VAR 0 3
2670: PUSH
2671: CALL_OW 44
2675: ST_TO_ADDR
// PlaceUnitArea ( un , RussianSpawn , false ) ;
2676: LD_VAR 0 3
2680: PPUSH
2681: LD_INT 3
2683: PPUSH
2684: LD_INT 0
2686: PPUSH
2687: CALL_OW 49
// end ;
2691: GO 2606
2693: POP
2694: POP
// for i = 1 to 6 do
2695: LD_ADDR_VAR 0 2
2699: PUSH
2700: DOUBLE
2701: LD_INT 1
2703: DEC
2704: ST_TO_ADDR
2705: LD_INT 6
2707: PUSH
2708: FOR_TO
2709: IFFALSE 2795
// begin uc_side = 3 ;
2711: LD_ADDR_OWVAR 20
2715: PUSH
2716: LD_INT 3
2718: ST_TO_ADDR
// uc_nation = 3 ;
2719: LD_ADDR_OWVAR 21
2723: PUSH
2724: LD_INT 3
2726: ST_TO_ADDR
// hc_gallery =  ;
2727: LD_ADDR_OWVAR 33
2731: PUSH
2732: LD_STRING 
2734: ST_TO_ADDR
// hc_name =  ;
2735: LD_ADDR_OWVAR 26
2739: PUSH
2740: LD_STRING 
2742: ST_TO_ADDR
// PrepareHuman ( false , 2 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
2743: LD_INT 0
2745: PPUSH
2746: LD_INT 2
2748: PPUSH
2749: LD_EXP 35
2753: PPUSH
2754: LD_EXP 36
2758: PPUSH
2759: CALL_OW 12
2763: PPUSH
2764: CALL_OW 380
// un = CreateHuman ;
2768: LD_ADDR_VAR 0 3
2772: PUSH
2773: CALL_OW 44
2777: ST_TO_ADDR
// PlaceUnitArea ( un , RussianSpawn , false ) ;
2778: LD_VAR 0 3
2782: PPUSH
2783: LD_INT 3
2785: PPUSH
2786: LD_INT 0
2788: PPUSH
2789: CALL_OW 49
// end ;
2793: GO 2708
2795: POP
2796: POP
// for i = 1 to 6 do
2797: LD_ADDR_VAR 0 2
2801: PUSH
2802: DOUBLE
2803: LD_INT 1
2805: DEC
2806: ST_TO_ADDR
2807: LD_INT 6
2809: PUSH
2810: FOR_TO
2811: IFFALSE 2897
// begin uc_side = 3 ;
2813: LD_ADDR_OWVAR 20
2817: PUSH
2818: LD_INT 3
2820: ST_TO_ADDR
// uc_nation = 3 ;
2821: LD_ADDR_OWVAR 21
2825: PUSH
2826: LD_INT 3
2828: ST_TO_ADDR
// hc_gallery =  ;
2829: LD_ADDR_OWVAR 33
2833: PUSH
2834: LD_STRING 
2836: ST_TO_ADDR
// hc_name =  ;
2837: LD_ADDR_OWVAR 26
2841: PUSH
2842: LD_STRING 
2844: ST_TO_ADDR
// PrepareHuman ( false , 3 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
2845: LD_INT 0
2847: PPUSH
2848: LD_INT 3
2850: PPUSH
2851: LD_EXP 35
2855: PPUSH
2856: LD_EXP 36
2860: PPUSH
2861: CALL_OW 12
2865: PPUSH
2866: CALL_OW 380
// un = CreateHuman ;
2870: LD_ADDR_VAR 0 3
2874: PUSH
2875: CALL_OW 44
2879: ST_TO_ADDR
// PlaceUnitArea ( un , RussianSpawn , false ) ;
2880: LD_VAR 0 3
2884: PPUSH
2885: LD_INT 3
2887: PPUSH
2888: LD_INT 0
2890: PPUSH
2891: CALL_OW 49
// end ;
2895: GO 2810
2897: POP
2898: POP
// for i = 1 to 4 do
2899: LD_ADDR_VAR 0 2
2903: PUSH
2904: DOUBLE
2905: LD_INT 1
2907: DEC
2908: ST_TO_ADDR
2909: LD_INT 4
2911: PUSH
2912: FOR_TO
2913: IFFALSE 2999
// begin uc_side = 3 ;
2915: LD_ADDR_OWVAR 20
2919: PUSH
2920: LD_INT 3
2922: ST_TO_ADDR
// uc_nation = 3 ;
2923: LD_ADDR_OWVAR 21
2927: PUSH
2928: LD_INT 3
2930: ST_TO_ADDR
// hc_gallery =  ;
2931: LD_ADDR_OWVAR 33
2935: PUSH
2936: LD_STRING 
2938: ST_TO_ADDR
// hc_name =  ;
2939: LD_ADDR_OWVAR 26
2943: PUSH
2944: LD_STRING 
2946: ST_TO_ADDR
// PrepareHuman ( false , 4 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
2947: LD_INT 0
2949: PPUSH
2950: LD_INT 4
2952: PPUSH
2953: LD_EXP 35
2957: PPUSH
2958: LD_EXP 36
2962: PPUSH
2963: CALL_OW 12
2967: PPUSH
2968: CALL_OW 380
// un = CreateHuman ;
2972: LD_ADDR_VAR 0 3
2976: PUSH
2977: CALL_OW 44
2981: ST_TO_ADDR
// PlaceUnitArea ( un , RussianSpawn , false ) ;
2982: LD_VAR 0 3
2986: PPUSH
2987: LD_INT 3
2989: PPUSH
2990: LD_INT 0
2992: PPUSH
2993: CALL_OW 49
// end ;
2997: GO 2912
2999: POP
3000: POP
// end ; end_of_file
3001: LD_VAR 0 1
3005: RET
// export function PrepareArabianCommander ; begin
3006: LD_INT 0
3008: PPUSH
// uc_side = 2 ;
3009: LD_ADDR_OWVAR 20
3013: PUSH
3014: LD_INT 2
3016: ST_TO_ADDR
// uc_nation = 2 ;
3017: LD_ADDR_OWVAR 21
3021: PUSH
3022: LD_INT 2
3024: ST_TO_ADDR
// Dietrich = NewCharacter ( Dietrich ) ;
3025: LD_ADDR_EXP 26
3029: PUSH
3030: LD_STRING Dietrich
3032: PPUSH
3033: CALL_OW 25
3037: ST_TO_ADDR
// PlaceUnitArea ( Dietrich , ArabianSpawn , false ) ;
3038: LD_EXP 26
3042: PPUSH
3043: LD_INT 4
3045: PPUSH
3046: LD_INT 0
3048: PPUSH
3049: CALL_OW 49
// end ;
3053: LD_VAR 0 1
3057: RET
// export function PrepareArabian ; var i , un , veh ; begin
3058: LD_INT 0
3060: PPUSH
3061: PPUSH
3062: PPUSH
3063: PPUSH
// for i = 1 to 3 do
3064: LD_ADDR_VAR 0 2
3068: PUSH
3069: DOUBLE
3070: LD_INT 1
3072: DEC
3073: ST_TO_ADDR
3074: LD_INT 3
3076: PUSH
3077: FOR_TO
3078: IFFALSE 3164
// begin uc_side = 2 ;
3080: LD_ADDR_OWVAR 20
3084: PUSH
3085: LD_INT 2
3087: ST_TO_ADDR
// uc_nation = 2 ;
3088: LD_ADDR_OWVAR 21
3092: PUSH
3093: LD_INT 2
3095: ST_TO_ADDR
// hc_gallery =  ;
3096: LD_ADDR_OWVAR 33
3100: PUSH
3101: LD_STRING 
3103: ST_TO_ADDR
// hc_name =  ;
3104: LD_ADDR_OWVAR 26
3108: PUSH
3109: LD_STRING 
3111: ST_TO_ADDR
// PrepareHuman ( false , 1 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
3112: LD_INT 0
3114: PPUSH
3115: LD_INT 1
3117: PPUSH
3118: LD_EXP 35
3122: PPUSH
3123: LD_EXP 36
3127: PPUSH
3128: CALL_OW 12
3132: PPUSH
3133: CALL_OW 380
// un = CreateHuman ;
3137: LD_ADDR_VAR 0 3
3141: PUSH
3142: CALL_OW 44
3146: ST_TO_ADDR
// PlaceUnitArea ( un , ArabianSpawn , false ) ;
3147: LD_VAR 0 3
3151: PPUSH
3152: LD_INT 4
3154: PPUSH
3155: LD_INT 0
3157: PPUSH
3158: CALL_OW 49
// end ;
3162: GO 3077
3164: POP
3165: POP
// for i = 1 to 6 do
3166: LD_ADDR_VAR 0 2
3170: PUSH
3171: DOUBLE
3172: LD_INT 1
3174: DEC
3175: ST_TO_ADDR
3176: LD_INT 6
3178: PUSH
3179: FOR_TO
3180: IFFALSE 3266
// begin uc_side = 2 ;
3182: LD_ADDR_OWVAR 20
3186: PUSH
3187: LD_INT 2
3189: ST_TO_ADDR
// uc_nation = 2 ;
3190: LD_ADDR_OWVAR 21
3194: PUSH
3195: LD_INT 2
3197: ST_TO_ADDR
// hc_gallery =  ;
3198: LD_ADDR_OWVAR 33
3202: PUSH
3203: LD_STRING 
3205: ST_TO_ADDR
// hc_name =  ;
3206: LD_ADDR_OWVAR 26
3210: PUSH
3211: LD_STRING 
3213: ST_TO_ADDR
// PrepareHuman ( false , 2 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
3214: LD_INT 0
3216: PPUSH
3217: LD_INT 2
3219: PPUSH
3220: LD_EXP 35
3224: PPUSH
3225: LD_EXP 36
3229: PPUSH
3230: CALL_OW 12
3234: PPUSH
3235: CALL_OW 380
// un = CreateHuman ;
3239: LD_ADDR_VAR 0 3
3243: PUSH
3244: CALL_OW 44
3248: ST_TO_ADDR
// PlaceUnitArea ( un , ArabianSpawn , false ) ;
3249: LD_VAR 0 3
3253: PPUSH
3254: LD_INT 4
3256: PPUSH
3257: LD_INT 0
3259: PPUSH
3260: CALL_OW 49
// end ;
3264: GO 3179
3266: POP
3267: POP
// for i = 1 to 6 do
3268: LD_ADDR_VAR 0 2
3272: PUSH
3273: DOUBLE
3274: LD_INT 1
3276: DEC
3277: ST_TO_ADDR
3278: LD_INT 6
3280: PUSH
3281: FOR_TO
3282: IFFALSE 3368
// begin uc_side = 2 ;
3284: LD_ADDR_OWVAR 20
3288: PUSH
3289: LD_INT 2
3291: ST_TO_ADDR
// uc_nation = 2 ;
3292: LD_ADDR_OWVAR 21
3296: PUSH
3297: LD_INT 2
3299: ST_TO_ADDR
// hc_gallery =  ;
3300: LD_ADDR_OWVAR 33
3304: PUSH
3305: LD_STRING 
3307: ST_TO_ADDR
// hc_name =  ;
3308: LD_ADDR_OWVAR 26
3312: PUSH
3313: LD_STRING 
3315: ST_TO_ADDR
// PrepareHuman ( false , 1 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
3316: LD_INT 0
3318: PPUSH
3319: LD_INT 1
3321: PPUSH
3322: LD_EXP 35
3326: PPUSH
3327: LD_EXP 36
3331: PPUSH
3332: CALL_OW 12
3336: PPUSH
3337: CALL_OW 380
// un = CreateHuman ;
3341: LD_ADDR_VAR 0 3
3345: PUSH
3346: CALL_OW 44
3350: ST_TO_ADDR
// PlaceUnitArea ( un , ArabianSpawn , false ) ;
3351: LD_VAR 0 3
3355: PPUSH
3356: LD_INT 4
3358: PPUSH
3359: LD_INT 0
3361: PPUSH
3362: CALL_OW 49
// end ;
3366: GO 3281
3368: POP
3369: POP
// for i = 1 to 4 do
3370: LD_ADDR_VAR 0 2
3374: PUSH
3375: DOUBLE
3376: LD_INT 1
3378: DEC
3379: ST_TO_ADDR
3380: LD_INT 4
3382: PUSH
3383: FOR_TO
3384: IFFALSE 3470
// begin uc_side = 2 ;
3386: LD_ADDR_OWVAR 20
3390: PUSH
3391: LD_INT 2
3393: ST_TO_ADDR
// uc_nation = 2 ;
3394: LD_ADDR_OWVAR 21
3398: PUSH
3399: LD_INT 2
3401: ST_TO_ADDR
// hc_gallery =  ;
3402: LD_ADDR_OWVAR 33
3406: PUSH
3407: LD_STRING 
3409: ST_TO_ADDR
// hc_name =  ;
3410: LD_ADDR_OWVAR 26
3414: PUSH
3415: LD_STRING 
3417: ST_TO_ADDR
// PrepareHuman ( false , 4 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
3418: LD_INT 0
3420: PPUSH
3421: LD_INT 4
3423: PPUSH
3424: LD_EXP 35
3428: PPUSH
3429: LD_EXP 36
3433: PPUSH
3434: CALL_OW 12
3438: PPUSH
3439: CALL_OW 380
// un = CreateHuman ;
3443: LD_ADDR_VAR 0 3
3447: PUSH
3448: CALL_OW 44
3452: ST_TO_ADDR
// PlaceUnitArea ( un , ArabianSpawn , false ) ;
3453: LD_VAR 0 3
3457: PPUSH
3458: LD_INT 4
3460: PPUSH
3461: LD_INT 0
3463: PPUSH
3464: CALL_OW 49
// end ;
3468: GO 3383
3470: POP
3471: POP
// for i = 1 to 2 do
3472: LD_ADDR_VAR 0 2
3476: PUSH
3477: DOUBLE
3478: LD_INT 1
3480: DEC
3481: ST_TO_ADDR
3482: LD_INT 2
3484: PUSH
3485: FOR_TO
3486: IFFALSE 3616
// begin veh = FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
3488: LD_ADDR_VAR 0 4
3492: PUSH
3493: LD_INT 22
3495: PUSH
3496: LD_INT 2
3498: PUSH
3499: EMPTY
3500: LIST
3501: LIST
3502: PUSH
3503: LD_INT 21
3505: PUSH
3506: LD_INT 2
3508: PUSH
3509: EMPTY
3510: LIST
3511: LIST
3512: PUSH
3513: LD_INT 58
3515: PUSH
3516: EMPTY
3517: LIST
3518: PUSH
3519: EMPTY
3520: LIST
3521: LIST
3522: LIST
3523: PPUSH
3524: CALL_OW 69
3528: ST_TO_ADDR
// uc_side = 2 ;
3529: LD_ADDR_OWVAR 20
3533: PUSH
3534: LD_INT 2
3536: ST_TO_ADDR
// uc_nation = 2 ;
3537: LD_ADDR_OWVAR 21
3541: PUSH
3542: LD_INT 2
3544: ST_TO_ADDR
// hc_gallery =  ;
3545: LD_ADDR_OWVAR 33
3549: PUSH
3550: LD_STRING 
3552: ST_TO_ADDR
// hc_name =  ;
3553: LD_ADDR_OWVAR 26
3557: PUSH
3558: LD_STRING 
3560: ST_TO_ADDR
// PrepareHuman ( false , 3 , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
3561: LD_INT 0
3563: PPUSH
3564: LD_INT 3
3566: PPUSH
3567: LD_EXP 35
3571: PPUSH
3572: LD_EXP 36
3576: PPUSH
3577: CALL_OW 12
3581: PPUSH
3582: CALL_OW 380
// un = CreateHuman ;
3586: LD_ADDR_VAR 0 3
3590: PUSH
3591: CALL_OW 44
3595: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh [ 1 ] ) ;
3596: LD_VAR 0 3
3600: PPUSH
3601: LD_VAR 0 4
3605: PUSH
3606: LD_INT 1
3608: ARRAY
3609: PPUSH
3610: CALL_OW 52
// end ;
3614: GO 3485
3616: POP
3617: POP
// end ; end_of_file
3618: LD_VAR 0 1
3622: RET
// every 1 do
3623: GO 3625
3625: DISABLE
// begin RevealFogArea ( 1 , EpsilonTerrain ) ;
3626: LD_INT 1
3628: PPUSH
3629: LD_INT 19
3631: PPUSH
3632: CALL_OW 332
// CenterNowOnUnits ( IsInUnit ( JMM ) ) ;
3636: LD_EXP 1
3640: PPUSH
3641: CALL_OW 310
3645: PPUSH
3646: CALL_OW 87
// if IsOk ( Gary ) then
3650: LD_EXP 10
3654: PPUSH
3655: CALL_OW 302
3659: IFFALSE 3705
// begin DialogueOn ;
3661: CALL_OW 6
// Say ( Gary , D2-Gary-1 ) ;
3665: LD_EXP 10
3669: PPUSH
3670: LD_STRING D2-Gary-1
3672: PPUSH
3673: CALL_OW 88
// Say ( JMM , D2-JMM-1 ) ;
3677: LD_EXP 1
3681: PPUSH
3682: LD_STRING D2-JMM-1
3684: PPUSH
3685: CALL_OW 88
// Say ( Gary , D2-Gary-2 ) ;
3689: LD_EXP 10
3693: PPUSH
3694: LD_STRING D2-Gary-2
3696: PPUSH
3697: CALL_OW 88
// DialogueOff ;
3701: CALL_OW 7
// end ; ChangeMissionObjectives ( M1 ) ;
3705: LD_STRING M1
3707: PPUSH
3708: CALL_OW 337
// AddCargo ( cargo1 , 1 , 100 ) ;
3712: LD_INT 38
3714: PPUSH
3715: LD_INT 1
3717: PPUSH
3718: LD_INT 100
3720: PPUSH
3721: CALL_OW 291
// AddCargo ( cargo2 , 1 , 50 ) ;
3725: LD_INT 47
3727: PPUSH
3728: LD_INT 1
3730: PPUSH
3731: LD_INT 50
3733: PPUSH
3734: CALL_OW 291
// AddCargo ( cargo2 , 3 , 50 ) ;
3738: LD_INT 47
3740: PPUSH
3741: LD_INT 3
3743: PPUSH
3744: LD_INT 50
3746: PPUSH
3747: CALL_OW 291
// SaveForQuickRestart ;
3751: CALL_OW 22
// end ;
3755: END
// every 0 0$1 trigger GetDistUnits ( JMM , Simms ) < 15 do
3756: LD_EXP 1
3760: PPUSH
3761: LD_EXP 11
3765: PPUSH
3766: CALL_OW 296
3770: PUSH
3771: LD_INT 15
3773: LESS
3774: IFFALSE 4219
3776: GO 3778
3778: DISABLE
// begin InGameOn ;
3779: CALL_OW 8
// ComExitVehicle ( JMM ) ;
3783: LD_EXP 1
3787: PPUSH
3788: CALL_OW 121
// CenterNowOnUnits ( JMM ) ;
3792: LD_EXP 1
3796: PPUSH
3797: CALL_OW 87
// wait ( 0 0$1 ) ;
3801: LD_INT 35
3803: PPUSH
3804: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
3808: LD_INT 35
3810: PPUSH
3811: CALL_OW 67
// ComMoveUnit ( [ Simms , Joan , Denis , Khatam , Kikuchi ] , JMM ) ;
3815: LD_EXP 11
3819: PUSH
3820: LD_EXP 13
3824: PUSH
3825: LD_EXP 12
3829: PUSH
3830: LD_EXP 14
3834: PUSH
3835: LD_EXP 8
3839: PUSH
3840: EMPTY
3841: LIST
3842: LIST
3843: LIST
3844: LIST
3845: LIST
3846: PPUSH
3847: LD_EXP 1
3851: PPUSH
3852: CALL_OW 112
// until GetDistUnits ( JMM , Simms ) < 5 ;
3856: LD_EXP 1
3860: PPUSH
3861: LD_EXP 11
3865: PPUSH
3866: CALL_OW 296
3870: PUSH
3871: LD_INT 5
3873: LESS
3874: IFFALSE 3808
// ComTurnUnit ( JMM , Simms ) ;
3876: LD_EXP 1
3880: PPUSH
3881: LD_EXP 11
3885: PPUSH
3886: CALL_OW 119
// ComTurnUnit ( [ Simms , Joan , Denis , Khatam ] , JMM ) ;
3890: LD_EXP 11
3894: PUSH
3895: LD_EXP 13
3899: PUSH
3900: LD_EXP 12
3904: PUSH
3905: LD_EXP 14
3909: PUSH
3910: EMPTY
3911: LIST
3912: LIST
3913: LIST
3914: LIST
3915: PPUSH
3916: LD_EXP 1
3920: PPUSH
3921: CALL_OW 119
// CenterNowOnUnits ( [ JMM , Simms ] ) ;
3925: LD_EXP 1
3929: PUSH
3930: LD_EXP 11
3934: PUSH
3935: EMPTY
3936: LIST
3937: LIST
3938: PPUSH
3939: CALL_OW 87
// Say ( Simms , D2a-Sim-1 ) ;
3943: LD_EXP 11
3947: PPUSH
3948: LD_STRING D2a-Sim-1
3950: PPUSH
3951: CALL_OW 88
// Say ( JMM , D2a-JMM-1 ) ;
3955: LD_EXP 1
3959: PPUSH
3960: LD_STRING D2a-JMM-1
3962: PPUSH
3963: CALL_OW 88
// if IsOk ( Joan ) then
3967: LD_EXP 13
3971: PPUSH
3972: CALL_OW 302
3976: IFFALSE 4028
// begin ComTurnUnit ( JMM , Joan ) ;
3978: LD_EXP 1
3982: PPUSH
3983: LD_EXP 13
3987: PPUSH
3988: CALL_OW 119
// Say ( Joan , D2b-Joan-1 ) ;
3992: LD_EXP 13
3996: PPUSH
3997: LD_STRING D2b-Joan-1
3999: PPUSH
4000: CALL_OW 88
// Say ( JMM , D2b-JMM-1 ) ;
4004: LD_EXP 1
4008: PPUSH
4009: LD_STRING D2b-JMM-1
4011: PPUSH
4012: CALL_OW 88
// Say ( Joan , D2b-Joan-2 ) ;
4016: LD_EXP 13
4020: PPUSH
4021: LD_STRING D2b-Joan-2
4023: PPUSH
4024: CALL_OW 88
// end ; if IsOk ( Denis ) then
4028: LD_EXP 12
4032: PPUSH
4033: CALL_OW 302
4037: IFFALSE 4065
// begin ComTurnUnit ( JMM , Denis ) ;
4039: LD_EXP 1
4043: PPUSH
4044: LD_EXP 12
4048: PPUSH
4049: CALL_OW 119
// Say ( Denis , D2c-Den-1 ) ;
4053: LD_EXP 12
4057: PPUSH
4058: LD_STRING D2c-Den-1
4060: PPUSH
4061: CALL_OW 88
// end ; if IsOk ( Khatam ) then
4065: LD_EXP 14
4069: PPUSH
4070: CALL_OW 302
4074: IFFALSE 4114
// begin ComTurnUnit ( JMM , Khatam ) ;
4076: LD_EXP 1
4080: PPUSH
4081: LD_EXP 14
4085: PPUSH
4086: CALL_OW 119
// Say ( JMM , D2c-JMM-1 ) ;
4090: LD_EXP 1
4094: PPUSH
4095: LD_STRING D2c-JMM-1
4097: PPUSH
4098: CALL_OW 88
// Say ( Khatam , D2c-Khat-1 ) ;
4102: LD_EXP 14
4106: PPUSH
4107: LD_STRING D2c-Khat-1
4109: PPUSH
4110: CALL_OW 88
// end ; if IsOK ( Kikuchi ) then
4114: LD_EXP 8
4118: PPUSH
4119: CALL_OW 302
4123: IFFALSE 4178
// begin repeat wait ( 0 0$1 ) ;
4125: LD_INT 35
4127: PPUSH
4128: CALL_OW 67
// ComMoveUnit ( Kikuchi , JMM ) ;
4132: LD_EXP 8
4136: PPUSH
4137: LD_EXP 1
4141: PPUSH
4142: CALL_OW 112
// until GetDistUnits ( JMM , Kikuchi ) < 5 ;
4146: LD_EXP 1
4150: PPUSH
4151: LD_EXP 8
4155: PPUSH
4156: CALL_OW 296
4160: PUSH
4161: LD_INT 5
4163: LESS
4164: IFFALSE 4125
// Say ( Kikuchi , D3b-Yam-1 ) ;
4166: LD_EXP 8
4170: PPUSH
4171: LD_STRING D3b-Yam-1
4173: PPUSH
4174: CALL_OW 88
// end ; InGameOff ;
4178: CALL_OW 9
// SetSide ( FilterAllUnits ( [ f_side , 4 ] ) , 1 ) ;
4182: LD_INT 22
4184: PUSH
4185: LD_INT 4
4187: PUSH
4188: EMPTY
4189: LIST
4190: LIST
4191: PPUSH
4192: CALL_OW 69
4196: PPUSH
4197: LD_INT 1
4199: PPUSH
4200: CALL_OW 235
// ChangeMissionObjectives ( M1a ) ;
4204: LD_STRING M1a
4206: PPUSH
4207: CALL_OW 337
// joinEpsilon = 1 ;
4211: LD_ADDR_EXP 28
4215: PUSH
4216: LD_INT 1
4218: ST_TO_ADDR
// end ;
4219: END
// every 0 0$1 trigger eventVar1 = 1 do var tmp1 , tmp2 ;
4220: LD_EXP 57
4224: PUSH
4225: LD_INT 1
4227: EQUAL
4228: IFFALSE 4834
4230: GO 4232
4232: DISABLE
4233: LD_INT 0
4235: PPUSH
4236: PPUSH
// begin tmp1 = FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 4 ] , [ f_sex , 1 ] ] ) [ 1 ] ;
4237: LD_ADDR_VAR 0 1
4241: PUSH
4242: LD_INT 22
4244: PUSH
4245: LD_INT 1
4247: PUSH
4248: EMPTY
4249: LIST
4250: LIST
4251: PUSH
4252: LD_INT 25
4254: PUSH
4255: LD_INT 4
4257: PUSH
4258: EMPTY
4259: LIST
4260: LIST
4261: PUSH
4262: LD_INT 26
4264: PUSH
4265: LD_INT 1
4267: PUSH
4268: EMPTY
4269: LIST
4270: LIST
4271: PUSH
4272: EMPTY
4273: LIST
4274: LIST
4275: LIST
4276: PPUSH
4277: CALL_OW 69
4281: PUSH
4282: LD_INT 1
4284: ARRAY
4285: ST_TO_ADDR
// tmp2 = FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] ] ] ) [ 1 ] ;
4286: LD_ADDR_VAR 0 2
4290: PUSH
4291: LD_INT 22
4293: PUSH
4294: LD_INT 1
4296: PUSH
4297: EMPTY
4298: LIST
4299: LIST
4300: PUSH
4301: LD_INT 26
4303: PUSH
4304: LD_INT 1
4306: PUSH
4307: EMPTY
4308: LIST
4309: LIST
4310: PUSH
4311: LD_INT 2
4313: PUSH
4314: LD_INT 25
4316: PUSH
4317: LD_INT 1
4319: PUSH
4320: EMPTY
4321: LIST
4322: LIST
4323: PUSH
4324: LD_INT 25
4326: PUSH
4327: LD_INT 2
4329: PUSH
4330: EMPTY
4331: LIST
4332: LIST
4333: PUSH
4334: LD_INT 25
4336: PUSH
4337: LD_INT 3
4339: PUSH
4340: EMPTY
4341: LIST
4342: LIST
4343: PUSH
4344: EMPTY
4345: LIST
4346: LIST
4347: LIST
4348: LIST
4349: PUSH
4350: EMPTY
4351: LIST
4352: LIST
4353: LIST
4354: PPUSH
4355: CALL_OW 69
4359: PUSH
4360: LD_INT 1
4362: ARRAY
4363: ST_TO_ADDR
// DialogueOn ;
4364: CALL_OW 6
// if IsOk ( DeltaDoctor ) then
4368: LD_EXP 17
4372: PPUSH
4373: CALL_OW 302
4377: IFFALSE 4393
// Say ( DeltaDoctor , D3-Sci1-1 ) else
4379: LD_EXP 17
4383: PPUSH
4384: LD_STRING D3-Sci1-1
4386: PPUSH
4387: CALL_OW 88
4391: GO 4405
// Say ( tmp1 , D3-Sci1-1 ) ;
4393: LD_VAR 0 1
4397: PPUSH
4398: LD_STRING D3-Sci1-1
4400: PPUSH
4401: CALL_OW 88
// if IsOk ( Gary ) then
4405: LD_EXP 10
4409: PPUSH
4410: CALL_OW 302
4414: IFFALSE 4430
// Say ( Gary , D3-Gary-1 ) else
4416: LD_EXP 10
4420: PPUSH
4421: LD_STRING D3-Gary-1
4423: PPUSH
4424: CALL_OW 88
4428: GO 4442
// Say ( tmp2 , D3-Gary-1 ) ;
4430: LD_VAR 0 2
4434: PPUSH
4435: LD_STRING D3-Gary-1
4437: PPUSH
4438: CALL_OW 88
// if IsOk ( DeltaDoctor ) then
4442: LD_EXP 17
4446: PPUSH
4447: CALL_OW 302
4451: IFFALSE 4467
// Say ( DeltaDoctor , D3-Sci1-2 ) else
4453: LD_EXP 17
4457: PPUSH
4458: LD_STRING D3-Sci1-2
4460: PPUSH
4461: CALL_OW 88
4465: GO 4479
// Say ( tmp1 , D3-Sci1-2 ) ;
4467: LD_VAR 0 1
4471: PPUSH
4472: LD_STRING D3-Sci1-2
4474: PPUSH
4475: CALL_OW 88
// Say ( JMM , D3-JMM-2 ) ;
4479: LD_EXP 1
4483: PPUSH
4484: LD_STRING D3-JMM-2
4486: PPUSH
4487: CALL_OW 88
// if IsOk ( DeltaDoctor ) then
4491: LD_EXP 17
4495: PPUSH
4496: CALL_OW 302
4500: IFFALSE 4516
// Say ( DeltaDoctor , D3-Sci1-3 ) else
4502: LD_EXP 17
4506: PPUSH
4507: LD_STRING D3-Sci1-3
4509: PPUSH
4510: CALL_OW 88
4514: GO 4528
// Say ( tmp1 , D3-Sci1-3 ) ;
4516: LD_VAR 0 1
4520: PPUSH
4521: LD_STRING D3-Sci1-3
4523: PPUSH
4524: CALL_OW 88
// Say ( JMM , D3-JMM-3 ) ;
4528: LD_EXP 1
4532: PPUSH
4533: LD_STRING D3-JMM-3
4535: PPUSH
4536: CALL_OW 88
// if IsOk ( DeltaDoctor ) then
4540: LD_EXP 17
4544: PPUSH
4545: CALL_OW 302
4549: IFFALSE 4565
// Say ( DeltaDoctor , D3-Sci1-4 ) else
4551: LD_EXP 17
4555: PPUSH
4556: LD_STRING D3-Sci1-4
4558: PPUSH
4559: CALL_OW 88
4563: GO 4577
// Say ( tmp1 , D3-Sci1-4 ) ;
4565: LD_VAR 0 1
4569: PPUSH
4570: LD_STRING D3-Sci1-4
4572: PPUSH
4573: CALL_OW 88
// DialogueOff ;
4577: CALL_OW 7
// SetTech ( 12 , 1 , state_enabled ) ;
4581: LD_INT 12
4583: PPUSH
4584: LD_INT 1
4586: PPUSH
4587: LD_INT 1
4589: PPUSH
4590: CALL_OW 322
// SetTech ( 32 , 1 , state_enabled ) ;
4594: LD_INT 32
4596: PPUSH
4597: LD_INT 1
4599: PPUSH
4600: LD_INT 1
4602: PPUSH
4603: CALL_OW 322
// SetRestrict ( 12 , 1 , true ) ;
4607: LD_INT 12
4609: PPUSH
4610: LD_INT 1
4612: PPUSH
4613: LD_INT 1
4615: PPUSH
4616: CALL_OW 324
// SetRestrict ( 33 , 1 , true ) ;
4620: LD_INT 33
4622: PPUSH
4623: LD_INT 1
4625: PPUSH
4626: LD_INT 1
4628: PPUSH
4629: CALL_OW 324
// ChangeMissionObjectives ( M2 ) ;
4633: LD_STRING M2
4635: PPUSH
4636: CALL_OW 337
// wait ( 5 5$0 ) ;
4640: LD_INT 10500
4642: PPUSH
4643: CALL_OW 67
// if IsOK ( Simms ) and IsOk ( Denis ) then
4647: LD_EXP 11
4651: PPUSH
4652: CALL_OW 302
4656: PUSH
4657: LD_EXP 12
4661: PPUSH
4662: CALL_OW 302
4666: AND
4667: IFFALSE 4834
// begin DialogueOn ;
4669: CALL_OW 6
// Say ( Simms , D3a-Sim-1 ) ;
4673: LD_EXP 11
4677: PPUSH
4678: LD_STRING D3a-Sim-1
4680: PPUSH
4681: CALL_OW 88
// Say ( Denis , D3a-Sci1-1 ) ;
4685: LD_EXP 12
4689: PPUSH
4690: LD_STRING D3a-Sci1-1
4692: PPUSH
4693: CALL_OW 88
// Say ( Simms , D3a-Sim-2 ) ;
4697: LD_EXP 11
4701: PPUSH
4702: LD_STRING D3a-Sim-2
4704: PPUSH
4705: CALL_OW 88
// Say ( Denis , D3a-Sci1-2 ) ;
4709: LD_EXP 12
4713: PPUSH
4714: LD_STRING D3a-Sci1-2
4716: PPUSH
4717: CALL_OW 88
// Say ( Simms , D3a-Sim-3 ) ;
4721: LD_EXP 11
4725: PPUSH
4726: LD_STRING D3a-Sim-3
4728: PPUSH
4729: CALL_OW 88
// Say ( Denis , D3a-Sci1-3 ) ;
4733: LD_EXP 12
4737: PPUSH
4738: LD_STRING D3a-Sci1-3
4740: PPUSH
4741: CALL_OW 88
// if IsOK ( Joan ) then
4745: LD_EXP 13
4749: PPUSH
4750: CALL_OW 302
4754: IFFALSE 4770
// Say ( Simms , D3a-Sim-4 ) else
4756: LD_EXP 11
4760: PPUSH
4761: LD_STRING D3a-Sim-4
4763: PPUSH
4764: CALL_OW 88
4768: GO 4782
// Say ( Simms , D3a-Sim-4a ) ;
4770: LD_EXP 11
4774: PPUSH
4775: LD_STRING D3a-Sim-4a
4777: PPUSH
4778: CALL_OW 88
// Say ( Denis , D3a-Sci1-4 ) ;
4782: LD_EXP 12
4786: PPUSH
4787: LD_STRING D3a-Sci1-4
4789: PPUSH
4790: CALL_OW 88
// Say ( Simms , D3a-Sim-5 ) ;
4794: LD_EXP 11
4798: PPUSH
4799: LD_STRING D3a-Sim-5
4801: PPUSH
4802: CALL_OW 88
// Say ( Denis , D3a-Sci1-5 ) ;
4806: LD_EXP 12
4810: PPUSH
4811: LD_STRING D3a-Sci1-5
4813: PPUSH
4814: CALL_OW 88
// Say ( Simms , D3a-Sim-6 ) ;
4818: LD_EXP 11
4822: PPUSH
4823: LD_STRING D3a-Sim-6
4825: PPUSH
4826: CALL_OW 88
// DialogueOff ;
4830: CALL_OW 7
// end ; end ;
4834: PPOPN 2
4836: END
// every 2 2$1 trigger joinEpsilon = 1 do var rnd ;
4837: LD_EXP 28
4841: PUSH
4842: LD_INT 1
4844: EQUAL
4845: IFFALSE 5165
4847: GO 4849
4849: DISABLE
4850: LD_INT 0
4852: PPUSH
// begin SayRadio ( AmScout , D4-FSol1-1 ) ;
4853: LD_EXP 18
4857: PPUSH
4858: LD_STRING D4-FSol1-1
4860: PPUSH
4861: CALL_OW 94
// ChangeMissionObjectives ( M3 ) ;
4865: LD_STRING M3
4867: PPUSH
4868: CALL_OW 337
// PrepareRussians ;
4872: CALL 2541 0 0
// rnd = Rand ( 1 , 100 ) ;
4876: LD_ADDR_VAR 0 1
4880: PUSH
4881: LD_INT 1
4883: PPUSH
4884: LD_INT 100
4886: PPUSH
4887: CALL_OW 12
4891: ST_TO_ADDR
// if difficulty = 1 then
4892: LD_OWVAR 67
4896: PUSH
4897: LD_INT 1
4899: EQUAL
4900: IFFALSE 4983
// begin if rnd > 0 and rnd < 51 then
4902: LD_VAR 0 1
4906: PUSH
4907: LD_INT 0
4909: GREATER
4910: PUSH
4911: LD_VAR 0 1
4915: PUSH
4916: LD_INT 51
4918: LESS
4919: AND
4920: IFFALSE 4929
// BuildRussianBase ( 2 ) ;
4922: LD_INT 2
4924: PPUSH
4925: CALL 7934 0 1
// if rnd > 50 and rnd < 81 then
4929: LD_VAR 0 1
4933: PUSH
4934: LD_INT 50
4936: GREATER
4937: PUSH
4938: LD_VAR 0 1
4942: PUSH
4943: LD_INT 81
4945: LESS
4946: AND
4947: IFFALSE 4956
// BuildRussianBase ( 1 ) ;
4949: LD_INT 1
4951: PPUSH
4952: CALL 7934 0 1
// if rnd > 80 and rnd < 101 then
4956: LD_VAR 0 1
4960: PUSH
4961: LD_INT 80
4963: GREATER
4964: PUSH
4965: LD_VAR 0 1
4969: PUSH
4970: LD_INT 101
4972: LESS
4973: AND
4974: IFFALSE 4983
// BuildRussianBase ( 3 ) ;
4976: LD_INT 3
4978: PPUSH
4979: CALL 7934 0 1
// end ; if difficulty = 2 then
4983: LD_OWVAR 67
4987: PUSH
4988: LD_INT 2
4990: EQUAL
4991: IFFALSE 5074
// begin if rnd > 0 and rnd < 61 then
4993: LD_VAR 0 1
4997: PUSH
4998: LD_INT 0
5000: GREATER
5001: PUSH
5002: LD_VAR 0 1
5006: PUSH
5007: LD_INT 61
5009: LESS
5010: AND
5011: IFFALSE 5020
// BuildRussianBase ( 2 ) ;
5013: LD_INT 2
5015: PPUSH
5016: CALL 7934 0 1
// if rnd > 60 and rnd < 81 then
5020: LD_VAR 0 1
5024: PUSH
5025: LD_INT 60
5027: GREATER
5028: PUSH
5029: LD_VAR 0 1
5033: PUSH
5034: LD_INT 81
5036: LESS
5037: AND
5038: IFFALSE 5047
// BuildRussianBase ( 1 ) ;
5040: LD_INT 1
5042: PPUSH
5043: CALL 7934 0 1
// if rnd > 80 and rnd < 101 then
5047: LD_VAR 0 1
5051: PUSH
5052: LD_INT 80
5054: GREATER
5055: PUSH
5056: LD_VAR 0 1
5060: PUSH
5061: LD_INT 101
5063: LESS
5064: AND
5065: IFFALSE 5074
// BuildRussianBase ( 3 ) ;
5067: LD_INT 3
5069: PPUSH
5070: CALL 7934 0 1
// end ; if difficulty = 3 then
5074: LD_OWVAR 67
5078: PUSH
5079: LD_INT 3
5081: EQUAL
5082: IFFALSE 5165
// begin if rnd > 0 and rnd < 71 then
5084: LD_VAR 0 1
5088: PUSH
5089: LD_INT 0
5091: GREATER
5092: PUSH
5093: LD_VAR 0 1
5097: PUSH
5098: LD_INT 71
5100: LESS
5101: AND
5102: IFFALSE 5111
// BuildRussianBase ( 3 ) ;
5104: LD_INT 3
5106: PPUSH
5107: CALL 7934 0 1
// if rnd > 70 and rnd < 81 then
5111: LD_VAR 0 1
5115: PUSH
5116: LD_INT 70
5118: GREATER
5119: PUSH
5120: LD_VAR 0 1
5124: PUSH
5125: LD_INT 81
5127: LESS
5128: AND
5129: IFFALSE 5138
// BuildRussianBase ( 2 ) ;
5131: LD_INT 2
5133: PPUSH
5134: CALL 7934 0 1
// if rnd > 80 and rnd < 101 then
5138: LD_VAR 0 1
5142: PUSH
5143: LD_INT 80
5145: GREATER
5146: PUSH
5147: LD_VAR 0 1
5151: PUSH
5152: LD_INT 101
5154: LESS
5155: AND
5156: IFFALSE 5165
// BuildRussianBase ( 1 ) ;
5158: LD_INT 1
5160: PPUSH
5161: CALL 7934 0 1
// end ; end ;
5165: PPOPN 1
5167: END
// every 0 0$30 trigger GetTech ( 54 , 1 ) = state_researched or GetTech ( 21 , 1 ) = state_researched or GetTech ( 22 , 1 ) = state_researched do var i , tmp ;
5168: LD_INT 54
5170: PPUSH
5171: LD_INT 1
5173: PPUSH
5174: CALL_OW 321
5178: PUSH
5179: LD_INT 2
5181: EQUAL
5182: PUSH
5183: LD_INT 21
5185: PPUSH
5186: LD_INT 1
5188: PPUSH
5189: CALL_OW 321
5193: PUSH
5194: LD_INT 2
5196: EQUAL
5197: OR
5198: PUSH
5199: LD_INT 22
5201: PPUSH
5202: LD_INT 1
5204: PPUSH
5205: CALL_OW 321
5209: PUSH
5210: LD_INT 2
5212: EQUAL
5213: OR
5214: IFFALSE 5531
5216: GO 5218
5218: DISABLE
5219: LD_INT 0
5221: PPUSH
5222: PPUSH
// begin if IsOk ( Denis ) then
5223: LD_EXP 12
5227: PPUSH
5228: CALL_OW 302
5232: IFFALSE 5326
// begin DialogueOn ;
5234: CALL_OW 6
// Say ( JMM , D6-JMM-1 ) ;
5238: LD_EXP 1
5242: PPUSH
5243: LD_STRING D6-JMM-1
5245: PPUSH
5246: CALL_OW 88
// Say ( Denis , D6-Sci1-1 ) ;
5250: LD_EXP 12
5254: PPUSH
5255: LD_STRING D6-Sci1-1
5257: PPUSH
5258: CALL_OW 88
// Say ( JMM , D6-JMM-2 ) ;
5262: LD_EXP 1
5266: PPUSH
5267: LD_STRING D6-JMM-2
5269: PPUSH
5270: CALL_OW 88
// Say ( Denis , D6-Sci1-2 ) ;
5274: LD_EXP 12
5278: PPUSH
5279: LD_STRING D6-Sci1-2
5281: PPUSH
5282: CALL_OW 88
// Say ( JMM , D6-JMM-3 ) ;
5286: LD_EXP 1
5290: PPUSH
5291: LD_STRING D6-JMM-3
5293: PPUSH
5294: CALL_OW 88
// Say ( Denis , D6-Sci1-3 ) ;
5298: LD_EXP 12
5302: PPUSH
5303: LD_STRING D6-Sci1-3
5305: PPUSH
5306: CALL_OW 88
// Say ( JMM , D6-JMM-4 ) ;
5310: LD_EXP 1
5314: PPUSH
5315: LD_STRING D6-JMM-4
5317: PPUSH
5318: CALL_OW 88
// DialogueOff ;
5322: CALL_OW 7
// end ; wait ( 0 0$30 ) ;
5326: LD_INT 1050
5328: PPUSH
5329: CALL_OW 67
// if arabianTrait = 0 then
5333: LD_EXP 48
5337: PUSH
5338: LD_INT 0
5340: EQUAL
5341: IFFALSE 5475
// begin DialogueOn ;
5343: CALL_OW 6
// DialogRandom ( FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 4 ] , [ f_sex , 1 ] ] ) , D5-Ar1-1 , D5-Ar1-1 ) ;
5347: LD_INT 22
5349: PUSH
5350: LD_INT 2
5352: PUSH
5353: EMPTY
5354: LIST
5355: LIST
5356: PUSH
5357: LD_INT 25
5359: PUSH
5360: LD_INT 4
5362: PUSH
5363: EMPTY
5364: LIST
5365: LIST
5366: PUSH
5367: LD_INT 26
5369: PUSH
5370: LD_INT 1
5372: PUSH
5373: EMPTY
5374: LIST
5375: LIST
5376: PUSH
5377: EMPTY
5378: LIST
5379: LIST
5380: LIST
5381: PPUSH
5382: CALL_OW 69
5386: PPUSH
5387: LD_STRING D5-Ar1-1
5389: PPUSH
5390: LD_STRING D5-Ar1-1
5392: PPUSH
5393: CALL 7407 0 3
// Say ( Dietrich , D5-Diet-1 ) ;
5397: LD_EXP 26
5401: PPUSH
5402: LD_STRING D5-Diet-1
5404: PPUSH
5405: CALL_OW 88
// DialogRandom ( FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 4 ] , [ f_sex , 1 ] ] ) , D5-Ar1-2 , D5-Ar1-2 ) ;
5409: LD_INT 22
5411: PUSH
5412: LD_INT 2
5414: PUSH
5415: EMPTY
5416: LIST
5417: LIST
5418: PUSH
5419: LD_INT 25
5421: PUSH
5422: LD_INT 4
5424: PUSH
5425: EMPTY
5426: LIST
5427: LIST
5428: PUSH
5429: LD_INT 26
5431: PUSH
5432: LD_INT 1
5434: PUSH
5435: EMPTY
5436: LIST
5437: LIST
5438: PUSH
5439: EMPTY
5440: LIST
5441: LIST
5442: LIST
5443: PPUSH
5444: CALL_OW 69
5448: PPUSH
5449: LD_STRING D5-Ar1-2
5451: PPUSH
5452: LD_STRING D5-Ar1-2
5454: PPUSH
5455: CALL 7407 0 3
// Say ( Dietrich , D5-Diet-2 ) ;
5459: LD_EXP 26
5463: PPUSH
5464: LD_STRING D5-Diet-2
5466: PPUSH
5467: CALL_OW 88
// DialogueOff ;
5471: CALL_OW 7
// end ; wait ( [ 1 1$0 , 1 1$30 , 2 2$0 , 2 2$30 ] [ Rand ( 1 , 4 ) ] ) ;
5475: LD_INT 2100
5477: PUSH
5478: LD_INT 3150
5480: PUSH
5481: LD_INT 4200
5483: PUSH
5484: LD_INT 5250
5486: PUSH
5487: EMPTY
5488: LIST
5489: LIST
5490: LIST
5491: LIST
5492: PUSH
5493: LD_INT 1
5495: PPUSH
5496: LD_INT 4
5498: PPUSH
5499: CALL_OW 12
5503: ARRAY
5504: PPUSH
5505: CALL_OW 67
// if arabianTrait = 0 then
5509: LD_EXP 48
5513: PUSH
5514: LD_INT 0
5516: EQUAL
5517: IFFALSE 5523
// PrepareArabianTrait ;
5519: CALL 5534 0 0
// arabianTrait = 1 ;
5523: LD_ADDR_EXP 48
5527: PUSH
5528: LD_INT 1
5530: ST_TO_ADDR
// end ;
5531: PPOPN 2
5533: END
// export function PrepareArabianTrait ; var i , tmp ; begin
5534: LD_INT 0
5536: PPUSH
5537: PPUSH
5538: PPUSH
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 4 ] ] ) do
5539: LD_ADDR_VAR 0 2
5543: PUSH
5544: LD_INT 22
5546: PUSH
5547: LD_INT 2
5549: PUSH
5550: EMPTY
5551: LIST
5552: LIST
5553: PUSH
5554: LD_INT 25
5556: PUSH
5557: LD_INT 4
5559: PUSH
5560: EMPTY
5561: LIST
5562: LIST
5563: PUSH
5564: EMPTY
5565: LIST
5566: LIST
5567: PPUSH
5568: CALL_OW 69
5572: PUSH
5573: FOR_IN
5574: IFFALSE 5587
// ComExitBuilding ( i ) ;
5576: LD_VAR 0 2
5580: PPUSH
5581: CALL_OW 122
5585: GO 5573
5587: POP
5588: POP
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 3 ] ] ) do
5589: LD_ADDR_VAR 0 2
5593: PUSH
5594: LD_INT 22
5596: PUSH
5597: LD_INT 2
5599: PUSH
5600: EMPTY
5601: LIST
5602: LIST
5603: PUSH
5604: LD_INT 25
5606: PUSH
5607: LD_INT 3
5609: PUSH
5610: EMPTY
5611: LIST
5612: LIST
5613: PUSH
5614: EMPTY
5615: LIST
5616: LIST
5617: PPUSH
5618: CALL_OW 69
5622: PUSH
5623: FOR_IN
5624: IFFALSE 5637
// ComExitVehicle ( i ) ;
5626: LD_VAR 0 2
5630: PPUSH
5631: CALL_OW 121
5635: GO 5623
5637: POP
5638: POP
// wait ( 0 0$3 ) ;
5639: LD_INT 105
5641: PPUSH
5642: CALL_OW 67
// CenterOnXY ( 76 , 19 ) ;
5646: LD_INT 76
5648: PPUSH
5649: LD_INT 19
5651: PPUSH
5652: CALL_OW 84
// DialogueOn ;
5656: CALL_OW 6
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , 1 ] ] diff [ JMM ] ) , D8-Sol1-1 , D8-Sol1-1 ) ;
5660: LD_INT 22
5662: PUSH
5663: LD_INT 1
5665: PUSH
5666: EMPTY
5667: LIST
5668: LIST
5669: PUSH
5670: LD_INT 26
5672: PUSH
5673: LD_INT 1
5675: PUSH
5676: EMPTY
5677: LIST
5678: LIST
5679: PUSH
5680: EMPTY
5681: LIST
5682: LIST
5683: PUSH
5684: LD_EXP 1
5688: PUSH
5689: EMPTY
5690: LIST
5691: DIFF
5692: PPUSH
5693: CALL_OW 69
5697: PPUSH
5698: LD_STRING D8-Sol1-1
5700: PPUSH
5701: LD_STRING D8-Sol1-1
5703: PPUSH
5704: CALL 7407 0 3
// if IsOK ( DeltaDoctor ) then
5708: LD_EXP 17
5712: PPUSH
5713: CALL_OW 302
5717: IFFALSE 5733
// Say ( DeltaDoctor , D8-Sci1-1 ) else
5719: LD_EXP 17
5723: PPUSH
5724: LD_STRING D8-Sci1-1
5726: PPUSH
5727: CALL_OW 88
5731: GO 5832
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] diff [ JMM ] ) , D8-Sol1-1 , D8-Sol1-1 ) ;
5733: LD_INT 22
5735: PUSH
5736: LD_INT 1
5738: PUSH
5739: EMPTY
5740: LIST
5741: LIST
5742: PUSH
5743: LD_INT 26
5745: PUSH
5746: LD_INT 1
5748: PUSH
5749: EMPTY
5750: LIST
5751: LIST
5752: PUSH
5753: LD_INT 2
5755: PUSH
5756: LD_INT 25
5758: PUSH
5759: LD_INT 1
5761: PUSH
5762: EMPTY
5763: LIST
5764: LIST
5765: PUSH
5766: LD_INT 25
5768: PUSH
5769: LD_INT 2
5771: PUSH
5772: EMPTY
5773: LIST
5774: LIST
5775: PUSH
5776: LD_INT 25
5778: PUSH
5779: LD_INT 3
5781: PUSH
5782: EMPTY
5783: LIST
5784: LIST
5785: PUSH
5786: LD_INT 25
5788: PUSH
5789: LD_INT 4
5791: PUSH
5792: EMPTY
5793: LIST
5794: LIST
5795: PUSH
5796: EMPTY
5797: LIST
5798: LIST
5799: LIST
5800: LIST
5801: LIST
5802: PUSH
5803: EMPTY
5804: LIST
5805: LIST
5806: LIST
5807: PUSH
5808: LD_EXP 1
5812: PUSH
5813: EMPTY
5814: LIST
5815: DIFF
5816: PPUSH
5817: CALL_OW 69
5821: PPUSH
5822: LD_STRING D8-Sol1-1
5824: PPUSH
5825: LD_STRING D8-Sol1-1
5827: PPUSH
5828: CALL 7407 0 3
// Say ( JMM , D8-JMM-1 ) ;
5832: LD_EXP 1
5836: PPUSH
5837: LD_STRING D8-JMM-1
5839: PPUSH
5840: CALL_OW 88
// DialogueOff ;
5844: CALL_OW 7
// ChangeSideFog ( 2 , 2 ) ;
5848: LD_INT 2
5850: PPUSH
5851: LD_INT 2
5853: PPUSH
5854: CALL_OW 343
// SetAttitude ( 1 , 2 , att_enemy , true ) ;
5858: LD_INT 1
5860: PPUSH
5861: LD_INT 2
5863: PPUSH
5864: LD_INT 2
5866: PPUSH
5867: LD_INT 1
5869: PPUSH
5870: CALL_OW 80
// SetAttitude ( 3 , 2 , att_friend , true ) ;
5874: LD_INT 3
5876: PPUSH
5877: LD_INT 2
5879: PPUSH
5880: LD_INT 1
5882: PPUSH
5883: LD_INT 1
5885: PPUSH
5886: CALL_OW 80
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_human ] ] ) do
5890: LD_ADDR_VAR 0 2
5894: PUSH
5895: LD_INT 22
5897: PUSH
5898: LD_INT 2
5900: PUSH
5901: EMPTY
5902: LIST
5903: LIST
5904: PUSH
5905: LD_INT 21
5907: PUSH
5908: LD_INT 1
5910: PUSH
5911: EMPTY
5912: LIST
5913: LIST
5914: PUSH
5915: EMPTY
5916: LIST
5917: LIST
5918: PPUSH
5919: CALL_OW 69
5923: PUSH
5924: FOR_IN
5925: IFFALSE 6065
// begin ComExitBuilding ( i ) ;
5927: LD_VAR 0 2
5931: PPUSH
5932: CALL_OW 122
// wait ( 0 0$1 ) ;
5936: LD_INT 35
5938: PPUSH
5939: CALL_OW 67
// AddComAgressiveMove ( i , 77 , 10 ) ;
5943: LD_VAR 0 2
5947: PPUSH
5948: LD_INT 77
5950: PPUSH
5951: LD_INT 10
5953: PPUSH
5954: CALL_OW 174
// AddComAgressiveMove ( i , 82 , 5 ) ;
5958: LD_VAR 0 2
5962: PPUSH
5963: LD_INT 82
5965: PPUSH
5966: LD_INT 5
5968: PPUSH
5969: CALL_OW 174
// AddComAgressiveMove ( i , 95 , 12 ) ;
5973: LD_VAR 0 2
5977: PPUSH
5978: LD_INT 95
5980: PPUSH
5981: LD_INT 12
5983: PPUSH
5984: CALL_OW 174
// AddComAgressiveMove ( i , 102 , 11 ) ;
5988: LD_VAR 0 2
5992: PPUSH
5993: LD_INT 102
5995: PPUSH
5996: LD_INT 11
5998: PPUSH
5999: CALL_OW 174
// AddComAgressiveMove ( i , 116 , 15 ) ;
6003: LD_VAR 0 2
6007: PPUSH
6008: LD_INT 116
6010: PPUSH
6011: LD_INT 15
6013: PPUSH
6014: CALL_OW 174
// AddComAgressiveMove ( i , 140 , 25 ) ;
6018: LD_VAR 0 2
6022: PPUSH
6023: LD_INT 140
6025: PPUSH
6026: LD_INT 25
6028: PPUSH
6029: CALL_OW 174
// AddComAgressiveMove ( i , 160 , 56 ) ;
6033: LD_VAR 0 2
6037: PPUSH
6038: LD_INT 160
6040: PPUSH
6041: LD_INT 56
6043: PPUSH
6044: CALL_OW 174
// AddComAgressiveMove ( i , 189 , 79 ) ;
6048: LD_VAR 0 2
6052: PPUSH
6053: LD_INT 189
6055: PPUSH
6056: LD_INT 79
6058: PPUSH
6059: CALL_OW 174
// end ;
6063: GO 5924
6065: POP
6066: POP
// arabianAttackersAI = 1 ;
6067: LD_ADDR_EXP 45
6071: PUSH
6072: LD_INT 1
6074: ST_TO_ADDR
// wait ( 0 0$30 ) ;
6075: LD_INT 1050
6077: PPUSH
6078: CALL_OW 67
// if IsOk ( Gary ) then
6082: LD_EXP 10
6086: PPUSH
6087: CALL_OW 302
6091: IFFALSE 6105
// Say ( Gary , D8a-Gary-1 ) ;
6093: LD_EXP 10
6097: PPUSH
6098: LD_STRING D8a-Gary-1
6100: PPUSH
6101: CALL_OW 88
// wait ( 0 0$5 ) ;
6105: LD_INT 175
6107: PPUSH
6108: CALL_OW 67
// if IsOK ( Khatam ) then
6112: LD_EXP 14
6116: PPUSH
6117: CALL_OW 302
6121: IFFALSE 6393
// begin tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Khatam , Joan ] [ 1 ] ;
6123: LD_ADDR_VAR 0 3
6127: PUSH
6128: LD_INT 22
6130: PUSH
6131: LD_INT 1
6133: PUSH
6134: EMPTY
6135: LIST
6136: LIST
6137: PUSH
6138: LD_INT 26
6140: PUSH
6141: LD_INT 1
6143: PUSH
6144: EMPTY
6145: LIST
6146: LIST
6147: PUSH
6148: LD_INT 2
6150: PUSH
6151: LD_INT 25
6153: PUSH
6154: LD_INT 1
6156: PUSH
6157: EMPTY
6158: LIST
6159: LIST
6160: PUSH
6161: LD_INT 25
6163: PUSH
6164: LD_INT 2
6166: PUSH
6167: EMPTY
6168: LIST
6169: LIST
6170: PUSH
6171: LD_INT 25
6173: PUSH
6174: LD_INT 3
6176: PUSH
6177: EMPTY
6178: LIST
6179: LIST
6180: PUSH
6181: LD_INT 25
6183: PUSH
6184: LD_INT 4
6186: PUSH
6187: EMPTY
6188: LIST
6189: LIST
6190: PUSH
6191: EMPTY
6192: LIST
6193: LIST
6194: LIST
6195: LIST
6196: LIST
6197: PUSH
6198: EMPTY
6199: LIST
6200: LIST
6201: LIST
6202: PPUSH
6203: CALL_OW 69
6207: PUSH
6208: LD_EXP 1
6212: PUSH
6213: LD_EXP 14
6217: PUSH
6218: LD_EXP 13
6222: PUSH
6223: EMPTY
6224: LIST
6225: LIST
6226: LIST
6227: PUSH
6228: LD_INT 1
6230: ARRAY
6231: DIFF
6232: ST_TO_ADDR
// SetSide ( Khatam , 8 ) ;
6233: LD_EXP 14
6237: PPUSH
6238: LD_INT 8
6240: PPUSH
6241: CALL_OW 235
// ComExitBuilding ( Khatam ) ;
6245: LD_EXP 14
6249: PPUSH
6250: CALL_OW 122
// wait ( 0 0$1 ) ;
6254: LD_INT 35
6256: PPUSH
6257: CALL_OW 67
// ComExitVehicle ( Khatam ) ;
6261: LD_EXP 14
6265: PPUSH
6266: CALL_OW 121
// wait ( 0 0$1 ) ;
6270: LD_INT 35
6272: PPUSH
6273: CALL_OW 67
// ComMoveToArea ( Khatam , ArabianSpawn2 ) ;
6277: LD_EXP 14
6281: PPUSH
6282: LD_INT 7
6284: PPUSH
6285: CALL_OW 113
// DialogueOn ;
6289: CALL_OW 6
// DialogRandom ( tmp , D8b-Sol1-1 , D8b-FSol1-1 ) ;
6293: LD_VAR 0 3
6297: PPUSH
6298: LD_STRING D8b-Sol1-1
6300: PPUSH
6301: LD_STRING D8b-FSol1-1
6303: PPUSH
6304: CALL 7407 0 3
// Say ( Khatam , D8b-Khat-1 ) ;
6308: LD_EXP 14
6312: PPUSH
6313: LD_STRING D8b-Khat-1
6315: PPUSH
6316: CALL_OW 88
// DialogRandom ( tmp , D8b-Sol1-2 , D8b-FSol1-2 ) ;
6320: LD_VAR 0 3
6324: PPUSH
6325: LD_STRING D8b-Sol1-2
6327: PPUSH
6328: LD_STRING D8b-FSol1-2
6330: PPUSH
6331: CALL 7407 0 3
// Say ( Khatam , D8b-Khat-2 ) ;
6335: LD_EXP 14
6339: PPUSH
6340: LD_STRING D8b-Khat-2
6342: PPUSH
6343: CALL_OW 88
// DialogRandom ( tmp , D8b-Sol1-3 , D8b-FSol1-3 ) ;
6347: LD_VAR 0 3
6351: PPUSH
6352: LD_STRING D8b-Sol1-3
6354: PPUSH
6355: LD_STRING D8b-FSol1-3
6357: PPUSH
6358: CALL 7407 0 3
// Say ( Khatam , D8b-Khat-3 ) ;
6362: LD_EXP 14
6366: PPUSH
6367: LD_STRING D8b-Khat-3
6369: PPUSH
6370: CALL_OW 88
// DialogRandom ( tmp , D8b-Sol1-4 , D8b-FSol1-4 ) ;
6374: LD_VAR 0 3
6378: PPUSH
6379: LD_STRING D8b-Sol1-4
6381: PPUSH
6382: LD_STRING D8b-FSol1-4
6384: PPUSH
6385: CALL 7407 0 3
// DialogueOff ;
6389: CALL_OW 7
// end ; end ;
6393: LD_VAR 0 1
6397: RET
// every 0 0$1 do var i ;
6398: GO 6400
6400: DISABLE
6401: LD_INT 0
6403: PPUSH
// begin enable ;
6404: ENABLE
// for i in FilterUnitsInArea ( ArabianSpawn2 , [ f_side , 2 ] ) do
6405: LD_ADDR_VAR 0 1
6409: PUSH
6410: LD_INT 7
6412: PPUSH
6413: LD_INT 22
6415: PUSH
6416: LD_INT 2
6418: PUSH
6419: EMPTY
6420: LIST
6421: LIST
6422: PPUSH
6423: CALL_OW 70
6427: PUSH
6428: FOR_IN
6429: IFFALSE 6497
// begin if GetClass ( i ) = 4 then
6431: LD_VAR 0 1
6435: PPUSH
6436: CALL_OW 257
6440: PUSH
6441: LD_INT 4
6443: EQUAL
6444: IFFALSE 6456
// SaveVariable ( 1 , 10_ScientistsEscape_1 ) ;
6446: LD_INT 1
6448: PPUSH
6449: LD_STRING 10_ScientistsEscape_1
6451: PPUSH
6452: CALL_OW 39
// if i = Dietrich then
6456: LD_VAR 0 1
6460: PUSH
6461: LD_EXP 26
6465: EQUAL
6466: IFFALSE 6478
// SaveVariable ( 1 , 10_GensherEscape_1 ) ;
6468: LD_INT 1
6470: PPUSH
6471: LD_STRING 10_GensherEscape_1
6473: PPUSH
6474: CALL_OW 39
// arabianEscape = 1 ;
6478: LD_ADDR_EXP 46
6482: PUSH
6483: LD_INT 1
6485: ST_TO_ADDR
// RemoveUnit ( i ) ;
6486: LD_VAR 0 1
6490: PPUSH
6491: CALL_OW 64
// end ;
6495: GO 6428
6497: POP
6498: POP
// if IsInArea ( Khatam , ArabianSpawn2 ) then
6499: LD_EXP 14
6503: PPUSH
6504: LD_INT 7
6506: PPUSH
6507: CALL_OW 308
6511: IFFALSE 6530
// begin KhatamStatus = 1 ;
6513: LD_ADDR_EXP 49
6517: PUSH
6518: LD_INT 1
6520: ST_TO_ADDR
// RemoveUnit ( Khatam ) ;
6521: LD_EXP 14
6525: PPUSH
6526: CALL_OW 64
// end ; end ;
6530: PPOPN 1
6532: END
// every 0 0$1 trigger IsDead ( Khatam ) do
6533: LD_EXP 14
6537: PPUSH
6538: CALL_OW 301
6542: IFFALSE 6555
6544: GO 6546
6546: DISABLE
// KhatamStatus = 0 ;
6547: LD_ADDR_EXP 49
6551: PUSH
6552: LD_INT 0
6554: ST_TO_ADDR
6555: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_human ] ] ) = 0 and FilterAllUnits ( [ [ f_side , 4 ] , [ f_type , unit_human ] ] ) = 0 do
6556: LD_INT 22
6558: PUSH
6559: LD_INT 2
6561: PUSH
6562: EMPTY
6563: LIST
6564: LIST
6565: PUSH
6566: LD_INT 21
6568: PUSH
6569: LD_INT 1
6571: PUSH
6572: EMPTY
6573: LIST
6574: LIST
6575: PUSH
6576: EMPTY
6577: LIST
6578: LIST
6579: PPUSH
6580: CALL_OW 69
6584: PUSH
6585: LD_INT 0
6587: EQUAL
6588: PUSH
6589: LD_INT 22
6591: PUSH
6592: LD_INT 4
6594: PUSH
6595: EMPTY
6596: LIST
6597: LIST
6598: PUSH
6599: LD_INT 21
6601: PUSH
6602: LD_INT 1
6604: PUSH
6605: EMPTY
6606: LIST
6607: LIST
6608: PUSH
6609: EMPTY
6610: LIST
6611: LIST
6612: PPUSH
6613: CALL_OW 69
6617: PUSH
6618: LD_INT 0
6620: EQUAL
6621: AND
6622: IFFALSE 6635
6624: GO 6626
6626: DISABLE
// arabianDefeated = 1 ;
6627: LD_ADDR_EXP 47
6631: PUSH
6632: LD_INT 1
6634: ST_TO_ADDR
6635: END
// every 0 0$1 trigger GetTech ( 54 , 1 ) = state_researched and GetTech ( 55 , 1 ) = state_researched and GetTech ( 21 , 1 ) = state_researched and GetTech ( 22 , 1 ) = state_researched and GetTech ( tech_LasSight , 1 ) = state_researched and GetTech ( tech_AI , 1 ) = state_researched and fastEnd = 0 and arabianTrait = 0 do
6636: LD_INT 54
6638: PPUSH
6639: LD_INT 1
6641: PPUSH
6642: CALL_OW 321
6646: PUSH
6647: LD_INT 2
6649: EQUAL
6650: PUSH
6651: LD_INT 55
6653: PPUSH
6654: LD_INT 1
6656: PPUSH
6657: CALL_OW 321
6661: PUSH
6662: LD_INT 2
6664: EQUAL
6665: AND
6666: PUSH
6667: LD_INT 21
6669: PPUSH
6670: LD_INT 1
6672: PPUSH
6673: CALL_OW 321
6677: PUSH
6678: LD_INT 2
6680: EQUAL
6681: AND
6682: PUSH
6683: LD_INT 22
6685: PPUSH
6686: LD_INT 1
6688: PPUSH
6689: CALL_OW 321
6693: PUSH
6694: LD_INT 2
6696: EQUAL
6697: AND
6698: PUSH
6699: LD_INT 12
6701: PPUSH
6702: LD_INT 1
6704: PPUSH
6705: CALL_OW 321
6709: PUSH
6710: LD_INT 2
6712: EQUAL
6713: AND
6714: PUSH
6715: LD_INT 32
6717: PPUSH
6718: LD_INT 1
6720: PPUSH
6721: CALL_OW 321
6725: PUSH
6726: LD_INT 2
6728: EQUAL
6729: AND
6730: PUSH
6731: LD_EXP 56
6735: PUSH
6736: LD_INT 0
6738: EQUAL
6739: AND
6740: PUSH
6741: LD_EXP 48
6745: PUSH
6746: LD_INT 0
6748: EQUAL
6749: AND
6750: IFFALSE 6767
6752: GO 6754
6754: DISABLE
// begin PrepareArabianTrait ;
6755: CALL 5534 0 0
// arabianTrait = 1 ;
6759: LD_ADDR_EXP 48
6763: PUSH
6764: LD_INT 1
6766: ST_TO_ADDR
// end ;
6767: END
// every 9 9$30 trigger joinEpsilon = 1 and LoadVariable ( 02_mikhailStatus_1 , 0 ) = 1 do
6768: LD_EXP 28
6772: PUSH
6773: LD_INT 1
6775: EQUAL
6776: PUSH
6777: LD_STRING 02_mikhailStatus_1
6779: PPUSH
6780: LD_INT 0
6782: PPUSH
6783: CALL_OW 30
6787: PUSH
6788: LD_INT 1
6790: EQUAL
6791: AND
6792: IFFALSE 6801
6794: GO 6796
6796: DISABLE
// PrepareCornell ;
6797: CALL 2405 0 0
6801: END
// every 0 0$1 trigger See ( 1 , Cornell ) do
6802: LD_INT 1
6804: PPUSH
6805: LD_EXP 19
6809: PPUSH
6810: CALL_OW 292
6814: IFFALSE 7039
6816: GO 6818
6818: DISABLE
// begin InGameOn ;
6819: CALL_OW 8
// CenterNowOnUnits ( Cornell ) ;
6823: LD_EXP 19
6827: PPUSH
6828: CALL_OW 87
// Say ( Cornell , D7-Corn-1 ) ;
6832: LD_EXP 19
6836: PPUSH
6837: LD_STRING D7-Corn-1
6839: PPUSH
6840: CALL_OW 88
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Joan ] , D7-Sol1-1 , D7-FSol1-1 ) ;
6844: LD_INT 22
6846: PUSH
6847: LD_INT 1
6849: PUSH
6850: EMPTY
6851: LIST
6852: LIST
6853: PUSH
6854: LD_INT 2
6856: PUSH
6857: LD_INT 25
6859: PUSH
6860: LD_INT 1
6862: PUSH
6863: EMPTY
6864: LIST
6865: LIST
6866: PUSH
6867: LD_INT 25
6869: PUSH
6870: LD_INT 2
6872: PUSH
6873: EMPTY
6874: LIST
6875: LIST
6876: PUSH
6877: LD_INT 25
6879: PUSH
6880: LD_INT 3
6882: PUSH
6883: EMPTY
6884: LIST
6885: LIST
6886: PUSH
6887: LD_INT 25
6889: PUSH
6890: LD_INT 4
6892: PUSH
6893: EMPTY
6894: LIST
6895: LIST
6896: PUSH
6897: EMPTY
6898: LIST
6899: LIST
6900: LIST
6901: LIST
6902: LIST
6903: PUSH
6904: EMPTY
6905: LIST
6906: LIST
6907: PPUSH
6908: CALL_OW 69
6912: PUSH
6913: LD_EXP 1
6917: PUSH
6918: LD_EXP 13
6922: PUSH
6923: EMPTY
6924: LIST
6925: LIST
6926: DIFF
6927: PPUSH
6928: LD_STRING D7-Sol1-1
6930: PPUSH
6931: LD_STRING D7-FSol1-1
6933: PPUSH
6934: CALL 7407 0 3
// CenterNowOnUnits ( Cornell ) ;
6938: LD_EXP 19
6942: PPUSH
6943: CALL_OW 87
// Say ( Cornell , D7-Corn-2 ) ;
6947: LD_EXP 19
6951: PPUSH
6952: LD_STRING D7-Corn-2
6954: PPUSH
6955: CALL_OW 88
// Say ( JMM , D7-JMM-2 ) ;
6959: LD_EXP 1
6963: PPUSH
6964: LD_STRING D7-JMM-2
6966: PPUSH
6967: CALL_OW 88
// CenterNowOnUnits ( Cornell ) ;
6971: LD_EXP 19
6975: PPUSH
6976: CALL_OW 87
// Say ( Cornell , D7-Corn-3 ) ;
6980: LD_EXP 19
6984: PPUSH
6985: LD_STRING D7-Corn-3
6987: PPUSH
6988: CALL_OW 88
// SetLives ( Cornell , 250 ) ;
6992: LD_EXP 19
6996: PPUSH
6997: LD_INT 250
6999: PPUSH
7000: CALL_OW 234
// SetSide ( Cornell , 1 ) ;
7004: LD_EXP 19
7008: PPUSH
7009: LD_INT 1
7011: PPUSH
7012: CALL_OW 235
// wait ( 0 0$1 ) ;
7016: LD_INT 35
7018: PPUSH
7019: CALL_OW 67
// Say ( JMM , D7-JMM-3 ) ;
7023: LD_EXP 1
7027: PPUSH
7028: LD_STRING D7-JMM-3
7030: PPUSH
7031: CALL_OW 88
// InGameOff ;
7035: CALL_OW 9
// end ;
7039: END
// every 0 0$15 trigger GetSide ( Cornell ) = 1 and GetLives ( Cornell ) > 251 do
7040: LD_EXP 19
7044: PPUSH
7045: CALL_OW 255
7049: PUSH
7050: LD_INT 1
7052: EQUAL
7053: PUSH
7054: LD_EXP 19
7058: PPUSH
7059: CALL_OW 256
7063: PUSH
7064: LD_INT 251
7066: GREATER
7067: AND
7068: IFFALSE 7261
7070: GO 7072
7072: DISABLE
// begin DialogueOn ;
7073: CALL_OW 6
// Say ( JMM , D7a-JMM-1 ) ;
7077: LD_EXP 1
7081: PPUSH
7082: LD_STRING D7a-JMM-1
7084: PPUSH
7085: CALL_OW 88
// Say ( Cornell , D7a-Corn-1 ) ;
7089: LD_EXP 19
7093: PPUSH
7094: LD_STRING D7a-Corn-1
7096: PPUSH
7097: CALL_OW 88
// Say ( JMM , D7a-JMM-2 ) ;
7101: LD_EXP 1
7105: PPUSH
7106: LD_STRING D7a-JMM-2
7108: PPUSH
7109: CALL_OW 88
// Say ( Cornell , D7a-Corn-2 ) ;
7113: LD_EXP 19
7117: PPUSH
7118: LD_STRING D7a-Corn-2
7120: PPUSH
7121: CALL_OW 88
// Say ( JMM , D7a-JMM-3 ) ;
7125: LD_EXP 1
7129: PPUSH
7130: LD_STRING D7a-JMM-3
7132: PPUSH
7133: CALL_OW 88
// Say ( Cornell , D7a-Corn-3 ) ;
7137: LD_EXP 19
7141: PPUSH
7142: LD_STRING D7a-Corn-3
7144: PPUSH
7145: CALL_OW 88
// Say ( JMM , D7a-JMM-4 ) ;
7149: LD_EXP 1
7153: PPUSH
7154: LD_STRING D7a-JMM-4
7156: PPUSH
7157: CALL_OW 88
// Say ( Cornell , D7a-Corn-4 ) ;
7161: LD_EXP 19
7165: PPUSH
7166: LD_STRING D7a-Corn-4
7168: PPUSH
7169: CALL_OW 88
// Say ( JMM , D7a-JMM-5 ) ;
7173: LD_EXP 1
7177: PPUSH
7178: LD_STRING D7a-JMM-5
7180: PPUSH
7181: CALL_OW 88
// Say ( Cornell , D7a-Corn-5 ) ;
7185: LD_EXP 19
7189: PPUSH
7190: LD_STRING D7a-Corn-5
7192: PPUSH
7193: CALL_OW 88
// Say ( JMM , D7a-JMM-6 ) ;
7197: LD_EXP 1
7201: PPUSH
7202: LD_STRING D7a-JMM-6
7204: PPUSH
7205: CALL_OW 88
// Say ( Cornell , D7a-Corn-6 ) ;
7209: LD_EXP 19
7213: PPUSH
7214: LD_STRING D7a-Corn-6
7216: PPUSH
7217: CALL_OW 88
// Say ( JMM , D7a-JMM-7 ) ;
7221: LD_EXP 1
7225: PPUSH
7226: LD_STRING D7a-JMM-7
7228: PPUSH
7229: CALL_OW 88
// Say ( Cornell , D7a-Corn-7 ) ;
7233: LD_EXP 19
7237: PPUSH
7238: LD_STRING D7a-Corn-7
7240: PPUSH
7241: CALL_OW 88
// Say ( JMM , D7a-JMM-8 ) ;
7245: LD_EXP 1
7249: PPUSH
7250: LD_STRING D7a-JMM-8
7252: PPUSH
7253: CALL_OW 88
// DialogueOff ;
7257: CALL_OW 7
// end ;
7261: END
// every 0 0$1 trigger telep_ru_dialog do
7262: LD_EXP 55
7266: IFFALSE 7349
7268: GO 7270
7270: DISABLE
// begin DialogueOn ;
7271: CALL_OW 6
// CenterNowOnXY ( telep_ru_dialog [ 1 ] , telep_ru_dialog [ 2 ] ) ;
7275: LD_EXP 55
7279: PUSH
7280: LD_INT 1
7282: ARRAY
7283: PPUSH
7284: LD_EXP 55
7288: PUSH
7289: LD_INT 2
7291: ARRAY
7292: PPUSH
7293: CALL_OW 86
// if IsOk ( Cyrus ) then
7297: LD_EXP 5
7301: PPUSH
7302: CALL_OW 302
7306: IFFALSE 7322
// Say ( Cyrus , D10-Cyrus-1 ) else
7308: LD_EXP 5
7312: PPUSH
7313: LD_STRING D10-Cyrus-1
7315: PPUSH
7316: CALL_OW 88
7320: GO 7345
// if IsOk ( JMM ) then
7322: LD_EXP 1
7326: PPUSH
7327: CALL_OW 302
7331: IFFALSE 7345
// Say ( JMM , D10-JMM-1 ) ;
7333: LD_EXP 1
7337: PPUSH
7338: LD_STRING D10-JMM-1
7340: PPUSH
7341: CALL_OW 88
// DialogueOff ;
7345: CALL_OW 7
// end ; end_of_file
7349: END
// export function PrepareUnit ( ident , exist_mode ) ; var unit ; begin
7350: LD_INT 0
7352: PPUSH
7353: PPUSH
// if exist_mode then
7354: LD_VAR 0 2
7358: IFFALSE 7377
// unit := CreateCharacter ( ident ) else
7360: LD_ADDR_VAR 0 4
7364: PUSH
7365: LD_VAR 0 1
7369: PPUSH
7370: CALL_OW 34
7374: ST_TO_ADDR
7375: GO 7392
// unit := NewCharacter ( ident ) ;
7377: LD_ADDR_VAR 0 4
7381: PUSH
7382: LD_VAR 0 1
7386: PPUSH
7387: CALL_OW 25
7391: ST_TO_ADDR
// result := unit ;
7392: LD_ADDR_VAR 0 3
7396: PUSH
7397: LD_VAR 0 4
7401: ST_TO_ADDR
// end ;
7402: LD_VAR 0 3
7406: RET
// export function DialogRandom ( characters , dialogMID , dialogFID ) ; var i , rnd ; begin
7407: LD_INT 0
7409: PPUSH
7410: PPUSH
7411: PPUSH
// rnd = rand ( 1 , characters ) ;
7412: LD_ADDR_VAR 0 6
7416: PUSH
7417: LD_INT 1
7419: PPUSH
7420: LD_VAR 0 1
7424: PPUSH
7425: CALL_OW 12
7429: ST_TO_ADDR
// for i = 1 to characters do
7430: LD_ADDR_VAR 0 5
7434: PUSH
7435: DOUBLE
7436: LD_INT 1
7438: DEC
7439: ST_TO_ADDR
7440: LD_VAR 0 1
7444: PUSH
7445: FOR_TO
7446: IFFALSE 7556
// begin if i = rnd and GetSex ( characters [ i ] ) = 1 then
7448: LD_VAR 0 5
7452: PUSH
7453: LD_VAR 0 6
7457: EQUAL
7458: PUSH
7459: LD_VAR 0 1
7463: PUSH
7464: LD_VAR 0 5
7468: ARRAY
7469: PPUSH
7470: CALL_OW 258
7474: PUSH
7475: LD_INT 1
7477: EQUAL
7478: AND
7479: IFFALSE 7501
// Say ( characters [ i ] , dialogMID ) ;
7481: LD_VAR 0 1
7485: PUSH
7486: LD_VAR 0 5
7490: ARRAY
7491: PPUSH
7492: LD_VAR 0 2
7496: PPUSH
7497: CALL_OW 88
// if i = rnd and GetSex ( characters [ i ] ) = 2 then
7501: LD_VAR 0 5
7505: PUSH
7506: LD_VAR 0 6
7510: EQUAL
7511: PUSH
7512: LD_VAR 0 1
7516: PUSH
7517: LD_VAR 0 5
7521: ARRAY
7522: PPUSH
7523: CALL_OW 258
7527: PUSH
7528: LD_INT 2
7530: EQUAL
7531: AND
7532: IFFALSE 7554
// Say ( characters [ i ] , dialogFID ) ;
7534: LD_VAR 0 1
7538: PUSH
7539: LD_VAR 0 5
7543: ARRAY
7544: PPUSH
7545: LD_VAR 0 3
7549: PPUSH
7550: CALL_OW 88
// end ;
7554: GO 7445
7556: POP
7557: POP
// end ;
7558: LD_VAR 0 4
7562: RET
// export function EnchancedSaveCharacters ( charactersList , ident ) ; var i ; begin
7563: LD_INT 0
7565: PPUSH
7566: PPUSH
// for i in charactersList do
7567: LD_ADDR_VAR 0 4
7571: PUSH
7572: LD_VAR 0 1
7576: PUSH
7577: FOR_IN
7578: IFFALSE 7607
// begin if IsOk ( i ) then
7580: LD_VAR 0 4
7584: PPUSH
7585: CALL_OW 302
7589: IFFALSE 7605
// SaveCharacters ( i , ident ) ;
7591: LD_VAR 0 4
7595: PPUSH
7596: LD_VAR 0 2
7600: PPUSH
7601: CALL_OW 38
// end ;
7605: GO 7577
7607: POP
7608: POP
// end ;
7609: LD_VAR 0 3
7613: RET
// export function PrepareDifficulty ; begin
7614: LD_INT 0
7616: PPUSH
// if difficulty = 1 then
7617: LD_OWVAR 67
7621: PUSH
7622: LD_INT 1
7624: EQUAL
7625: IFFALSE 7669
// begin RuSolMinLevel = 4 ;
7627: LD_ADDR_EXP 35
7631: PUSH
7632: LD_INT 4
7634: ST_TO_ADDR
// RuSolMaxLevel = 7 ;
7635: LD_ADDR_EXP 36
7639: PUSH
7640: LD_INT 7
7642: ST_TO_ADDR
// SetTech ( tech_Weap1 , 6 , state_researched ) ;
7643: LD_INT 51
7645: PPUSH
7646: LD_INT 6
7648: PPUSH
7649: LD_INT 2
7651: PPUSH
7652: CALL_OW 322
// SetTech ( tech_Weap1 , 5 , state_researched ) ;
7656: LD_INT 51
7658: PPUSH
7659: LD_INT 5
7661: PPUSH
7662: LD_INT 2
7664: PPUSH
7665: CALL_OW 322
// end ; if difficulty = 2 then
7669: LD_OWVAR 67
7673: PUSH
7674: LD_INT 2
7676: EQUAL
7677: IFFALSE 7773
// begin RuSolMinLevel = 5 ;
7679: LD_ADDR_EXP 35
7683: PUSH
7684: LD_INT 5
7686: ST_TO_ADDR
// RuSolMaxLevel = 7 ;
7687: LD_ADDR_EXP 36
7691: PUSH
7692: LD_INT 7
7694: ST_TO_ADDR
// SetTech ( tech_Weap1 , 6 , state_researched ) ;
7695: LD_INT 51
7697: PPUSH
7698: LD_INT 6
7700: PPUSH
7701: LD_INT 2
7703: PPUSH
7704: CALL_OW 322
// SetTech ( tech_Comp1 , 6 , state_researched ) ;
7708: LD_INT 57
7710: PPUSH
7711: LD_INT 6
7713: PPUSH
7714: LD_INT 2
7716: PPUSH
7717: CALL_OW 322
// SetTech ( tech_ST1 , 6 , state_researched ) ;
7721: LD_INT 63
7723: PPUSH
7724: LD_INT 6
7726: PPUSH
7727: LD_INT 2
7729: PPUSH
7730: CALL_OW 322
// SetTech ( tech_Weap1 , 5 , state_researched ) ;
7734: LD_INT 51
7736: PPUSH
7737: LD_INT 5
7739: PPUSH
7740: LD_INT 2
7742: PPUSH
7743: CALL_OW 322
// SetTech ( tech_StimDrugs , 2 , state_researched ) ;
7747: LD_INT 5
7749: PPUSH
7750: LD_INT 2
7752: PPUSH
7753: LD_INT 2
7755: PPUSH
7756: CALL_OW 322
// SetTech ( tech_StimDrugs , 5 , state_researched ) ;
7760: LD_INT 5
7762: PPUSH
7763: LD_INT 5
7765: PPUSH
7766: LD_INT 2
7768: PPUSH
7769: CALL_OW 322
// end ; if difficulty = 3 then
7773: LD_OWVAR 67
7777: PUSH
7778: LD_INT 3
7780: EQUAL
7781: IFFALSE 7929
// begin RuSolMinLevel = 6 ;
7783: LD_ADDR_EXP 35
7787: PUSH
7788: LD_INT 6
7790: ST_TO_ADDR
// RuSolMaxLevel = 8 ;
7791: LD_ADDR_EXP 36
7795: PUSH
7796: LD_INT 8
7798: ST_TO_ADDR
// SetTech ( tech_Weap1 , 6 , state_researched ) ;
7799: LD_INT 51
7801: PPUSH
7802: LD_INT 6
7804: PPUSH
7805: LD_INT 2
7807: PPUSH
7808: CALL_OW 322
// SetTech ( tech_Comp1 , 6 , state_researched ) ;
7812: LD_INT 57
7814: PPUSH
7815: LD_INT 6
7817: PPUSH
7818: LD_INT 2
7820: PPUSH
7821: CALL_OW 322
// SetTech ( tech_Weap2 , 6 , state_researched ) ;
7825: LD_INT 52
7827: PPUSH
7828: LD_INT 6
7830: PPUSH
7831: LD_INT 2
7833: PPUSH
7834: CALL_OW 322
// SetTech ( tech_Comp2 , 6 , state_researched ) ;
7838: LD_INT 58
7840: PPUSH
7841: LD_INT 6
7843: PPUSH
7844: LD_INT 2
7846: PPUSH
7847: CALL_OW 322
// SetTech ( tech_ST1 , 6 , state_researched ) ;
7851: LD_INT 63
7853: PPUSH
7854: LD_INT 6
7856: PPUSH
7857: LD_INT 2
7859: PPUSH
7860: CALL_OW 322
// SetTech ( tech_ST2 , 6 , state_researched ) ;
7864: LD_INT 64
7866: PPUSH
7867: LD_INT 6
7869: PPUSH
7870: LD_INT 2
7872: PPUSH
7873: CALL_OW 322
// SetTech ( tech_Weap1 , 5 , state_researched ) ;
7877: LD_INT 51
7879: PPUSH
7880: LD_INT 5
7882: PPUSH
7883: LD_INT 2
7885: PPUSH
7886: CALL_OW 322
// SetTech ( tech_Weap2 , 5 , state_researched ) ;
7890: LD_INT 52
7892: PPUSH
7893: LD_INT 5
7895: PPUSH
7896: LD_INT 2
7898: PPUSH
7899: CALL_OW 322
// SetTech ( tech_Bio1 , 2 , state_researched ) ;
7903: LD_INT 66
7905: PPUSH
7906: LD_INT 2
7908: PPUSH
7909: LD_INT 2
7911: PPUSH
7912: CALL_OW 322
// SetTech ( tech_Bio1 , 5 , state_researched ) ;
7916: LD_INT 66
7918: PPUSH
7919: LD_INT 5
7921: PPUSH
7922: LD_INT 2
7924: PPUSH
7925: CALL_OW 322
// end ; end ;
7929: LD_VAR 0 1
7933: RET
// export function BuildRussianBase ( position ) ; var i , engineers , buildingsTab , area ; begin
7934: LD_INT 0
7936: PPUSH
7937: PPUSH
7938: PPUSH
7939: PPUSH
7940: PPUSH
// case position of 1 :
7941: LD_VAR 0 1
7945: PUSH
7946: LD_INT 1
7948: DOUBLE
7949: EQUAL
7950: IFTRUE 7954
7952: GO 7965
7954: POP
// area := westConv ; 2 :
7955: LD_ADDR_VAR 0 6
7959: PUSH
7960: LD_INT 20
7962: ST_TO_ADDR
7963: GO 8004
7965: LD_INT 2
7967: DOUBLE
7968: EQUAL
7969: IFTRUE 7973
7971: GO 7984
7973: POP
// area := midConv ; 3 :
7974: LD_ADDR_VAR 0 6
7978: PUSH
7979: LD_INT 21
7981: ST_TO_ADDR
7982: GO 8004
7984: LD_INT 3
7986: DOUBLE
7987: EQUAL
7988: IFTRUE 7992
7990: GO 8003
7992: POP
// area := eastConv ; end ;
7993: LD_ADDR_VAR 0 6
7997: PUSH
7998: LD_INT 22
8000: ST_TO_ADDR
8001: GO 8004
8003: POP
// area := AreaToList ( area , 0 ) ;
8004: LD_ADDR_VAR 0 6
8008: PUSH
8009: LD_VAR 0 6
8013: PPUSH
8014: LD_INT 0
8016: PPUSH
8017: CALL_OW 517
8021: ST_TO_ADDR
// for i = 1 to area [ 1 ] do
8022: LD_ADDR_VAR 0 3
8026: PUSH
8027: DOUBLE
8028: LD_INT 1
8030: DEC
8031: ST_TO_ADDR
8032: LD_VAR 0 6
8036: PUSH
8037: LD_INT 1
8039: ARRAY
8040: PUSH
8041: FOR_TO
8042: IFFALSE 8123
// begin PlaceSeeing ( area [ 1 ] [ i ] , area [ 2 ] [ i ] , 1 , 1 ) ;
8044: LD_VAR 0 6
8048: PUSH
8049: LD_INT 1
8051: ARRAY
8052: PUSH
8053: LD_VAR 0 3
8057: ARRAY
8058: PPUSH
8059: LD_VAR 0 6
8063: PUSH
8064: LD_INT 2
8066: ARRAY
8067: PUSH
8068: LD_VAR 0 3
8072: ARRAY
8073: PPUSH
8074: LD_INT 1
8076: PPUSH
8077: LD_INT 1
8079: PPUSH
8080: CALL_OW 330
// RemoveSeeing ( area [ 1 ] [ i ] , area [ 2 ] [ i ] , 1 ) ;
8084: LD_VAR 0 6
8088: PUSH
8089: LD_INT 1
8091: ARRAY
8092: PUSH
8093: LD_VAR 0 3
8097: ARRAY
8098: PPUSH
8099: LD_VAR 0 6
8103: PUSH
8104: LD_INT 2
8106: ARRAY
8107: PUSH
8108: LD_VAR 0 3
8112: ARRAY
8113: PPUSH
8114: LD_INT 1
8116: PPUSH
8117: CALL_OW 331
// end ;
8121: GO 8041
8123: POP
8124: POP
// ruPossition = position ;
8125: LD_ADDR_EXP 40
8129: PUSH
8130: LD_VAR 0 1
8134: ST_TO_ADDR
// if position = 1 then
8135: LD_VAR 0 1
8139: PUSH
8140: LD_INT 1
8142: EQUAL
8143: IFFALSE 8919
// begin engineers = FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 2 ] ] ) ;
8145: LD_ADDR_VAR 0 4
8149: PUSH
8150: LD_INT 22
8152: PUSH
8153: LD_INT 3
8155: PUSH
8156: EMPTY
8157: LIST
8158: LIST
8159: PUSH
8160: LD_INT 25
8162: PUSH
8163: LD_INT 2
8165: PUSH
8166: EMPTY
8167: LIST
8168: LIST
8169: PUSH
8170: EMPTY
8171: LIST
8172: LIST
8173: PPUSH
8174: CALL_OW 69
8178: ST_TO_ADDR
// buildingsTab = [ [ b_depot , 49 , 74 , 3 ] , [ b_armoury , 73 , 88 , 5 ] , [ b_armoury , 56 , 62 , 3 ] , [ b_oil_mine , 43 , 68 , 2 ] , [ b_siberite_mine , 43 , 79 , 5 ] , [ b_siberite_power , 60 , 75 , 1 ] , [ b_workshop , 50 , 87 , 1 ] , [ b_siberite_power , 45 , 67 , 2 ] , [ b_ext_gun , 47 , 84 , 2 ] , [ b_ext_rocket , 46 , 87 , 1 ] , [ b_siberite_power , 41 , 64 , 5 ] , [ b_bunker , 75 , 76 , 5 ] , [ b_bunker , 77 , 75 , 5 ] , [ b_bunker , 69 , 68 , 3 ] , [ b_bunker , 59 , 96 , 5 ] , [ b_bunker , 56 , 96 , 0 ] , [ b_bunker , 51 , 61 , 3 ] , [ b_bunker , 42 , 60 , 3 ] , [ b_bunker , 36 , 58 , 3 ] , [ b_bunker , 39 , 59 , 3 ] , [ b_bunker , 61 , 64 , 3 ] , [ b_turret , 63 , 90 , 5 ] , [ b_turret , 64 , 88 , 5 ] , [ b_turret , 72 , 82 , 5 ] , [ b_lab , 42 , 74 , 1 ] , [ b_lab , 56 , 77 , 2 ] , [ b_ext_siberium , 54 , 91 , 5 ] , [ b_ext_track , 50 , 83 , 3 ] , [ b_ext_computer , 50 , 90 , 0 ] ] ;
8179: LD_ADDR_VAR 0 5
8183: PUSH
8184: LD_INT 0
8186: PUSH
8187: LD_INT 49
8189: PUSH
8190: LD_INT 74
8192: PUSH
8193: LD_INT 3
8195: PUSH
8196: EMPTY
8197: LIST
8198: LIST
8199: LIST
8200: LIST
8201: PUSH
8202: LD_INT 4
8204: PUSH
8205: LD_INT 73
8207: PUSH
8208: LD_INT 88
8210: PUSH
8211: LD_INT 5
8213: PUSH
8214: EMPTY
8215: LIST
8216: LIST
8217: LIST
8218: LIST
8219: PUSH
8220: LD_INT 4
8222: PUSH
8223: LD_INT 56
8225: PUSH
8226: LD_INT 62
8228: PUSH
8229: LD_INT 3
8231: PUSH
8232: EMPTY
8233: LIST
8234: LIST
8235: LIST
8236: LIST
8237: PUSH
8238: LD_INT 29
8240: PUSH
8241: LD_INT 43
8243: PUSH
8244: LD_INT 68
8246: PUSH
8247: LD_INT 2
8249: PUSH
8250: EMPTY
8251: LIST
8252: LIST
8253: LIST
8254: LIST
8255: PUSH
8256: LD_INT 30
8258: PUSH
8259: LD_INT 43
8261: PUSH
8262: LD_INT 79
8264: PUSH
8265: LD_INT 5
8267: PUSH
8268: EMPTY
8269: LIST
8270: LIST
8271: LIST
8272: LIST
8273: PUSH
8274: LD_INT 28
8276: PUSH
8277: LD_INT 60
8279: PUSH
8280: LD_INT 75
8282: PUSH
8283: LD_INT 1
8285: PUSH
8286: EMPTY
8287: LIST
8288: LIST
8289: LIST
8290: LIST
8291: PUSH
8292: LD_INT 2
8294: PUSH
8295: LD_INT 50
8297: PUSH
8298: LD_INT 87
8300: PUSH
8301: LD_INT 1
8303: PUSH
8304: EMPTY
8305: LIST
8306: LIST
8307: LIST
8308: LIST
8309: PUSH
8310: LD_INT 28
8312: PUSH
8313: LD_INT 45
8315: PUSH
8316: LD_INT 67
8318: PUSH
8319: LD_INT 2
8321: PUSH
8322: EMPTY
8323: LIST
8324: LIST
8325: LIST
8326: LIST
8327: PUSH
8328: LD_INT 17
8330: PUSH
8331: LD_INT 47
8333: PUSH
8334: LD_INT 84
8336: PUSH
8337: LD_INT 2
8339: PUSH
8340: EMPTY
8341: LIST
8342: LIST
8343: LIST
8344: LIST
8345: PUSH
8346: LD_INT 18
8348: PUSH
8349: LD_INT 46
8351: PUSH
8352: LD_INT 87
8354: PUSH
8355: LD_INT 1
8357: PUSH
8358: EMPTY
8359: LIST
8360: LIST
8361: LIST
8362: LIST
8363: PUSH
8364: LD_INT 28
8366: PUSH
8367: LD_INT 41
8369: PUSH
8370: LD_INT 64
8372: PUSH
8373: LD_INT 5
8375: PUSH
8376: EMPTY
8377: LIST
8378: LIST
8379: LIST
8380: LIST
8381: PUSH
8382: LD_INT 32
8384: PUSH
8385: LD_INT 75
8387: PUSH
8388: LD_INT 76
8390: PUSH
8391: LD_INT 5
8393: PUSH
8394: EMPTY
8395: LIST
8396: LIST
8397: LIST
8398: LIST
8399: PUSH
8400: LD_INT 32
8402: PUSH
8403: LD_INT 77
8405: PUSH
8406: LD_INT 75
8408: PUSH
8409: LD_INT 5
8411: PUSH
8412: EMPTY
8413: LIST
8414: LIST
8415: LIST
8416: LIST
8417: PUSH
8418: LD_INT 32
8420: PUSH
8421: LD_INT 69
8423: PUSH
8424: LD_INT 68
8426: PUSH
8427: LD_INT 3
8429: PUSH
8430: EMPTY
8431: LIST
8432: LIST
8433: LIST
8434: LIST
8435: PUSH
8436: LD_INT 32
8438: PUSH
8439: LD_INT 59
8441: PUSH
8442: LD_INT 96
8444: PUSH
8445: LD_INT 5
8447: PUSH
8448: EMPTY
8449: LIST
8450: LIST
8451: LIST
8452: LIST
8453: PUSH
8454: LD_INT 32
8456: PUSH
8457: LD_INT 56
8459: PUSH
8460: LD_INT 96
8462: PUSH
8463: LD_INT 0
8465: PUSH
8466: EMPTY
8467: LIST
8468: LIST
8469: LIST
8470: LIST
8471: PUSH
8472: LD_INT 32
8474: PUSH
8475: LD_INT 51
8477: PUSH
8478: LD_INT 61
8480: PUSH
8481: LD_INT 3
8483: PUSH
8484: EMPTY
8485: LIST
8486: LIST
8487: LIST
8488: LIST
8489: PUSH
8490: LD_INT 32
8492: PUSH
8493: LD_INT 42
8495: PUSH
8496: LD_INT 60
8498: PUSH
8499: LD_INT 3
8501: PUSH
8502: EMPTY
8503: LIST
8504: LIST
8505: LIST
8506: LIST
8507: PUSH
8508: LD_INT 32
8510: PUSH
8511: LD_INT 36
8513: PUSH
8514: LD_INT 58
8516: PUSH
8517: LD_INT 3
8519: PUSH
8520: EMPTY
8521: LIST
8522: LIST
8523: LIST
8524: LIST
8525: PUSH
8526: LD_INT 32
8528: PUSH
8529: LD_INT 39
8531: PUSH
8532: LD_INT 59
8534: PUSH
8535: LD_INT 3
8537: PUSH
8538: EMPTY
8539: LIST
8540: LIST
8541: LIST
8542: LIST
8543: PUSH
8544: LD_INT 32
8546: PUSH
8547: LD_INT 61
8549: PUSH
8550: LD_INT 64
8552: PUSH
8553: LD_INT 3
8555: PUSH
8556: EMPTY
8557: LIST
8558: LIST
8559: LIST
8560: LIST
8561: PUSH
8562: LD_INT 33
8564: PUSH
8565: LD_INT 63
8567: PUSH
8568: LD_INT 90
8570: PUSH
8571: LD_INT 5
8573: PUSH
8574: EMPTY
8575: LIST
8576: LIST
8577: LIST
8578: LIST
8579: PUSH
8580: LD_INT 33
8582: PUSH
8583: LD_INT 64
8585: PUSH
8586: LD_INT 88
8588: PUSH
8589: LD_INT 5
8591: PUSH
8592: EMPTY
8593: LIST
8594: LIST
8595: LIST
8596: LIST
8597: PUSH
8598: LD_INT 33
8600: PUSH
8601: LD_INT 72
8603: PUSH
8604: LD_INT 82
8606: PUSH
8607: LD_INT 5
8609: PUSH
8610: EMPTY
8611: LIST
8612: LIST
8613: LIST
8614: LIST
8615: PUSH
8616: LD_INT 6
8618: PUSH
8619: LD_INT 42
8621: PUSH
8622: LD_INT 74
8624: PUSH
8625: LD_INT 1
8627: PUSH
8628: EMPTY
8629: LIST
8630: LIST
8631: LIST
8632: LIST
8633: PUSH
8634: LD_INT 6
8636: PUSH
8637: LD_INT 56
8639: PUSH
8640: LD_INT 77
8642: PUSH
8643: LD_INT 2
8645: PUSH
8646: EMPTY
8647: LIST
8648: LIST
8649: LIST
8650: LIST
8651: PUSH
8652: LD_INT 21
8654: PUSH
8655: LD_INT 54
8657: PUSH
8658: LD_INT 91
8660: PUSH
8661: LD_INT 5
8663: PUSH
8664: EMPTY
8665: LIST
8666: LIST
8667: LIST
8668: LIST
8669: PUSH
8670: LD_INT 16
8672: PUSH
8673: LD_INT 50
8675: PUSH
8676: LD_INT 83
8678: PUSH
8679: LD_INT 3
8681: PUSH
8682: EMPTY
8683: LIST
8684: LIST
8685: LIST
8686: LIST
8687: PUSH
8688: LD_INT 24
8690: PUSH
8691: LD_INT 50
8693: PUSH
8694: LD_INT 90
8696: PUSH
8697: LD_INT 0
8699: PUSH
8700: EMPTY
8701: LIST
8702: LIST
8703: LIST
8704: LIST
8705: PUSH
8706: EMPTY
8707: LIST
8708: LIST
8709: LIST
8710: LIST
8711: LIST
8712: LIST
8713: LIST
8714: LIST
8715: LIST
8716: LIST
8717: LIST
8718: LIST
8719: LIST
8720: LIST
8721: LIST
8722: LIST
8723: LIST
8724: LIST
8725: LIST
8726: LIST
8727: LIST
8728: LIST
8729: LIST
8730: LIST
8731: LIST
8732: LIST
8733: LIST
8734: LIST
8735: LIST
8736: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_not , [ f_class , 2 ] ] ] ) do
8737: LD_ADDR_VAR 0 3
8741: PUSH
8742: LD_INT 22
8744: PUSH
8745: LD_INT 3
8747: PUSH
8748: EMPTY
8749: LIST
8750: LIST
8751: PUSH
8752: LD_INT 3
8754: PUSH
8755: LD_INT 25
8757: PUSH
8758: LD_INT 2
8760: PUSH
8761: EMPTY
8762: LIST
8763: LIST
8764: PUSH
8765: EMPTY
8766: LIST
8767: LIST
8768: PUSH
8769: EMPTY
8770: LIST
8771: LIST
8772: PPUSH
8773: CALL_OW 69
8777: PUSH
8778: FOR_IN
8779: IFFALSE 8826
// AddComMoveXY ( i , buildingsTab [ 2 ] [ 2 ] + 3 , buildingsTab [ 2 ] [ 3 ] + 2 ) ;
8781: LD_VAR 0 3
8785: PPUSH
8786: LD_VAR 0 5
8790: PUSH
8791: LD_INT 2
8793: ARRAY
8794: PUSH
8795: LD_INT 2
8797: ARRAY
8798: PUSH
8799: LD_INT 3
8801: PLUS
8802: PPUSH
8803: LD_VAR 0 5
8807: PUSH
8808: LD_INT 2
8810: ARRAY
8811: PUSH
8812: LD_INT 3
8814: ARRAY
8815: PUSH
8816: LD_INT 2
8818: PLUS
8819: PPUSH
8820: CALL_OW 171
8824: GO 8778
8826: POP
8827: POP
// for i := 1 to buildingsTab do
8828: LD_ADDR_VAR 0 3
8832: PUSH
8833: DOUBLE
8834: LD_INT 1
8836: DEC
8837: ST_TO_ADDR
8838: LD_VAR 0 5
8842: PUSH
8843: FOR_TO
8844: IFFALSE 8917
// AddComBuild ( engineers , buildingsTab [ i ] [ 1 ] , buildingsTab [ i ] [ 2 ] , buildingsTab [ i ] [ 3 ] , buildingsTab [ i ] [ 4 ] ) ;
8846: LD_VAR 0 4
8850: PPUSH
8851: LD_VAR 0 5
8855: PUSH
8856: LD_VAR 0 3
8860: ARRAY
8861: PUSH
8862: LD_INT 1
8864: ARRAY
8865: PPUSH
8866: LD_VAR 0 5
8870: PUSH
8871: LD_VAR 0 3
8875: ARRAY
8876: PUSH
8877: LD_INT 2
8879: ARRAY
8880: PPUSH
8881: LD_VAR 0 5
8885: PUSH
8886: LD_VAR 0 3
8890: ARRAY
8891: PUSH
8892: LD_INT 3
8894: ARRAY
8895: PPUSH
8896: LD_VAR 0 5
8900: PUSH
8901: LD_VAR 0 3
8905: ARRAY
8906: PUSH
8907: LD_INT 4
8909: ARRAY
8910: PPUSH
8911: CALL_OW 205
8915: GO 8843
8917: POP
8918: POP
// end ; if position = 2 then
8919: LD_VAR 0 1
8923: PUSH
8924: LD_INT 2
8926: EQUAL
8927: IFFALSE 9570
// begin engineers = FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 2 ] ] ) ;
8929: LD_ADDR_VAR 0 4
8933: PUSH
8934: LD_INT 22
8936: PUSH
8937: LD_INT 3
8939: PUSH
8940: EMPTY
8941: LIST
8942: LIST
8943: PUSH
8944: LD_INT 25
8946: PUSH
8947: LD_INT 2
8949: PUSH
8950: EMPTY
8951: LIST
8952: LIST
8953: PUSH
8954: EMPTY
8955: LIST
8956: LIST
8957: PPUSH
8958: CALL_OW 69
8962: ST_TO_ADDR
// buildingsTab = [ [ b_depot , 104 , 110 , 5 ] , [ b_armoury , 98 , 90 , 3 ] , [ b_oil_mine , 103 , 114 , 2 ] , [ b_siberite_mine , 99 , 114 , 3 ] , [ b_siberite_power , 100 , 112 , 1 ] , [ b_workshop , 92 , 101 , 0 ] , [ b_siberite_power , 97 , 116 , 5 ] , [ b_ext_gun , 96 , 101 , 4 ] , [ b_ext_rocket , 88 , 97 , 2 ] , [ b_siberite_power , 106 , 92 , 2 ] , [ b_bunker , 88 , 89 , 2 ] , [ b_bunker , 86 , 90 , 2 ] , [ b_bunker , 85 , 99 , 2 ] , [ b_bunker , 85 , 107 , 1 ] , [ b_turret , 105 , 99 , 1 ] , [ b_turret , 102 , 92 , 3 ] , [ b_turret , 105 , 92 , 2 ] , [ b_lab , 92 , 110 , 0 ] , [ b_lab , 103 , 103 , 5 ] , [ b_ext_siberium , 89 , 101 , 1 ] , [ b_ext_track , 95 , 104 , 4 ] , [ b_ext_computer , 92 , 105 , 0 ] ] ;
8963: LD_ADDR_VAR 0 5
8967: PUSH
8968: LD_INT 0
8970: PUSH
8971: LD_INT 104
8973: PUSH
8974: LD_INT 110
8976: PUSH
8977: LD_INT 5
8979: PUSH
8980: EMPTY
8981: LIST
8982: LIST
8983: LIST
8984: LIST
8985: PUSH
8986: LD_INT 4
8988: PUSH
8989: LD_INT 98
8991: PUSH
8992: LD_INT 90
8994: PUSH
8995: LD_INT 3
8997: PUSH
8998: EMPTY
8999: LIST
9000: LIST
9001: LIST
9002: LIST
9003: PUSH
9004: LD_INT 29
9006: PUSH
9007: LD_INT 103
9009: PUSH
9010: LD_INT 114
9012: PUSH
9013: LD_INT 2
9015: PUSH
9016: EMPTY
9017: LIST
9018: LIST
9019: LIST
9020: LIST
9021: PUSH
9022: LD_INT 30
9024: PUSH
9025: LD_INT 99
9027: PUSH
9028: LD_INT 114
9030: PUSH
9031: LD_INT 3
9033: PUSH
9034: EMPTY
9035: LIST
9036: LIST
9037: LIST
9038: LIST
9039: PUSH
9040: LD_INT 28
9042: PUSH
9043: LD_INT 100
9045: PUSH
9046: LD_INT 112
9048: PUSH
9049: LD_INT 1
9051: PUSH
9052: EMPTY
9053: LIST
9054: LIST
9055: LIST
9056: LIST
9057: PUSH
9058: LD_INT 2
9060: PUSH
9061: LD_INT 92
9063: PUSH
9064: LD_INT 101
9066: PUSH
9067: LD_INT 0
9069: PUSH
9070: EMPTY
9071: LIST
9072: LIST
9073: LIST
9074: LIST
9075: PUSH
9076: LD_INT 28
9078: PUSH
9079: LD_INT 97
9081: PUSH
9082: LD_INT 116
9084: PUSH
9085: LD_INT 5
9087: PUSH
9088: EMPTY
9089: LIST
9090: LIST
9091: LIST
9092: LIST
9093: PUSH
9094: LD_INT 17
9096: PUSH
9097: LD_INT 96
9099: PUSH
9100: LD_INT 101
9102: PUSH
9103: LD_INT 4
9105: PUSH
9106: EMPTY
9107: LIST
9108: LIST
9109: LIST
9110: LIST
9111: PUSH
9112: LD_INT 18
9114: PUSH
9115: LD_INT 88
9117: PUSH
9118: LD_INT 97
9120: PUSH
9121: LD_INT 2
9123: PUSH
9124: EMPTY
9125: LIST
9126: LIST
9127: LIST
9128: LIST
9129: PUSH
9130: LD_INT 28
9132: PUSH
9133: LD_INT 106
9135: PUSH
9136: LD_INT 92
9138: PUSH
9139: LD_INT 2
9141: PUSH
9142: EMPTY
9143: LIST
9144: LIST
9145: LIST
9146: LIST
9147: PUSH
9148: LD_INT 32
9150: PUSH
9151: LD_INT 88
9153: PUSH
9154: LD_INT 89
9156: PUSH
9157: LD_INT 2
9159: PUSH
9160: EMPTY
9161: LIST
9162: LIST
9163: LIST
9164: LIST
9165: PUSH
9166: LD_INT 32
9168: PUSH
9169: LD_INT 86
9171: PUSH
9172: LD_INT 90
9174: PUSH
9175: LD_INT 2
9177: PUSH
9178: EMPTY
9179: LIST
9180: LIST
9181: LIST
9182: LIST
9183: PUSH
9184: LD_INT 32
9186: PUSH
9187: LD_INT 85
9189: PUSH
9190: LD_INT 99
9192: PUSH
9193: LD_INT 2
9195: PUSH
9196: EMPTY
9197: LIST
9198: LIST
9199: LIST
9200: LIST
9201: PUSH
9202: LD_INT 32
9204: PUSH
9205: LD_INT 85
9207: PUSH
9208: LD_INT 107
9210: PUSH
9211: LD_INT 1
9213: PUSH
9214: EMPTY
9215: LIST
9216: LIST
9217: LIST
9218: LIST
9219: PUSH
9220: LD_INT 33
9222: PUSH
9223: LD_INT 105
9225: PUSH
9226: LD_INT 99
9228: PUSH
9229: LD_INT 1
9231: PUSH
9232: EMPTY
9233: LIST
9234: LIST
9235: LIST
9236: LIST
9237: PUSH
9238: LD_INT 33
9240: PUSH
9241: LD_INT 102
9243: PUSH
9244: LD_INT 92
9246: PUSH
9247: LD_INT 3
9249: PUSH
9250: EMPTY
9251: LIST
9252: LIST
9253: LIST
9254: LIST
9255: PUSH
9256: LD_INT 33
9258: PUSH
9259: LD_INT 105
9261: PUSH
9262: LD_INT 92
9264: PUSH
9265: LD_INT 2
9267: PUSH
9268: EMPTY
9269: LIST
9270: LIST
9271: LIST
9272: LIST
9273: PUSH
9274: LD_INT 6
9276: PUSH
9277: LD_INT 92
9279: PUSH
9280: LD_INT 110
9282: PUSH
9283: LD_INT 0
9285: PUSH
9286: EMPTY
9287: LIST
9288: LIST
9289: LIST
9290: LIST
9291: PUSH
9292: LD_INT 6
9294: PUSH
9295: LD_INT 103
9297: PUSH
9298: LD_INT 103
9300: PUSH
9301: LD_INT 5
9303: PUSH
9304: EMPTY
9305: LIST
9306: LIST
9307: LIST
9308: LIST
9309: PUSH
9310: LD_INT 21
9312: PUSH
9313: LD_INT 89
9315: PUSH
9316: LD_INT 101
9318: PUSH
9319: LD_INT 1
9321: PUSH
9322: EMPTY
9323: LIST
9324: LIST
9325: LIST
9326: LIST
9327: PUSH
9328: LD_INT 16
9330: PUSH
9331: LD_INT 95
9333: PUSH
9334: LD_INT 104
9336: PUSH
9337: LD_INT 4
9339: PUSH
9340: EMPTY
9341: LIST
9342: LIST
9343: LIST
9344: LIST
9345: PUSH
9346: LD_INT 24
9348: PUSH
9349: LD_INT 92
9351: PUSH
9352: LD_INT 105
9354: PUSH
9355: LD_INT 0
9357: PUSH
9358: EMPTY
9359: LIST
9360: LIST
9361: LIST
9362: LIST
9363: PUSH
9364: EMPTY
9365: LIST
9366: LIST
9367: LIST
9368: LIST
9369: LIST
9370: LIST
9371: LIST
9372: LIST
9373: LIST
9374: LIST
9375: LIST
9376: LIST
9377: LIST
9378: LIST
9379: LIST
9380: LIST
9381: LIST
9382: LIST
9383: LIST
9384: LIST
9385: LIST
9386: LIST
9387: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_not , [ f_class , 2 ] ] ] ) do
9388: LD_ADDR_VAR 0 3
9392: PUSH
9393: LD_INT 22
9395: PUSH
9396: LD_INT 3
9398: PUSH
9399: EMPTY
9400: LIST
9401: LIST
9402: PUSH
9403: LD_INT 3
9405: PUSH
9406: LD_INT 25
9408: PUSH
9409: LD_INT 2
9411: PUSH
9412: EMPTY
9413: LIST
9414: LIST
9415: PUSH
9416: EMPTY
9417: LIST
9418: LIST
9419: PUSH
9420: EMPTY
9421: LIST
9422: LIST
9423: PPUSH
9424: CALL_OW 69
9428: PUSH
9429: FOR_IN
9430: IFFALSE 9477
// AddComMoveXY ( i , buildingsTab [ 2 ] [ 2 ] + 2 , buildingsTab [ 2 ] [ 3 ] + 1 ) ;
9432: LD_VAR 0 3
9436: PPUSH
9437: LD_VAR 0 5
9441: PUSH
9442: LD_INT 2
9444: ARRAY
9445: PUSH
9446: LD_INT 2
9448: ARRAY
9449: PUSH
9450: LD_INT 2
9452: PLUS
9453: PPUSH
9454: LD_VAR 0 5
9458: PUSH
9459: LD_INT 2
9461: ARRAY
9462: PUSH
9463: LD_INT 3
9465: ARRAY
9466: PUSH
9467: LD_INT 1
9469: PLUS
9470: PPUSH
9471: CALL_OW 171
9475: GO 9429
9477: POP
9478: POP
// for i := 1 to buildingsTab do
9479: LD_ADDR_VAR 0 3
9483: PUSH
9484: DOUBLE
9485: LD_INT 1
9487: DEC
9488: ST_TO_ADDR
9489: LD_VAR 0 5
9493: PUSH
9494: FOR_TO
9495: IFFALSE 9568
// AddComBuild ( engineers , buildingsTab [ i ] [ 1 ] , buildingsTab [ i ] [ 2 ] , buildingsTab [ i ] [ 3 ] , buildingsTab [ i ] [ 4 ] ) ;
9497: LD_VAR 0 4
9501: PPUSH
9502: LD_VAR 0 5
9506: PUSH
9507: LD_VAR 0 3
9511: ARRAY
9512: PUSH
9513: LD_INT 1
9515: ARRAY
9516: PPUSH
9517: LD_VAR 0 5
9521: PUSH
9522: LD_VAR 0 3
9526: ARRAY
9527: PUSH
9528: LD_INT 2
9530: ARRAY
9531: PPUSH
9532: LD_VAR 0 5
9536: PUSH
9537: LD_VAR 0 3
9541: ARRAY
9542: PUSH
9543: LD_INT 3
9545: ARRAY
9546: PPUSH
9547: LD_VAR 0 5
9551: PUSH
9552: LD_VAR 0 3
9556: ARRAY
9557: PUSH
9558: LD_INT 4
9560: ARRAY
9561: PPUSH
9562: CALL_OW 205
9566: GO 9494
9568: POP
9569: POP
// end ; if position = 3 then
9570: LD_VAR 0 1
9574: PUSH
9575: LD_INT 3
9577: EQUAL
9578: IFFALSE 10392
// begin engineers = FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 2 ] ] ) ;
9580: LD_ADDR_VAR 0 4
9584: PUSH
9585: LD_INT 22
9587: PUSH
9588: LD_INT 3
9590: PUSH
9591: EMPTY
9592: LIST
9593: LIST
9594: PUSH
9595: LD_INT 25
9597: PUSH
9598: LD_INT 2
9600: PUSH
9601: EMPTY
9602: LIST
9603: LIST
9604: PUSH
9605: EMPTY
9606: LIST
9607: LIST
9608: PPUSH
9609: CALL_OW 69
9613: ST_TO_ADDR
// buildingsTab = [ [ b_depot , 151 , 71 , 4 ] , [ b_armoury , 145 , 53 , 3 ] , [ b_armoury , 172 , 102 , 5 ] , [ b_oil_mine , 152 , 85 , 3 ] , [ b_siberite_mine , 156 , 92 , 3 ] , [ b_siberite_power , 151 , 66 , 4 ] , [ b_workshop , 163 , 95 , 5 ] , [ b_siberite_power , 149 , 63 , 4 ] , [ b_ext_gun , 167 , 99 , 5 ] , [ b_ext_rocket , 163 , 98 , 0 ] , [ b_siberite_power , 154 , 70 , 4 ] , [ b_bunker , 155 , 62 , 4 ] , [ b_bunker , 161 , 69 , 4 ] , [ b_bunker , 168 , 78 , 4 ] , [ b_bunker , 163 , 80 , 5 ] , [ b_bunker , 136 , 73 , 0 ] , [ b_bunker , 157 , 98 , 0 ] , [ b_bunker , 150 , 87 , 1 ] , [ b_turret , 171 , 97 , 4 ] , [ b_turret , 168 , 92 , 4 ] , [ b_turret , 166 , 80 , 5 ] , [ b_turret , 141 , 54 , 2 ] , [ b_turret , 133 , 57 , 2 ] , [ b_turret , 132 , 61 , 2 ] , [ b_turret , 150 , 82 , 0 ] , [ b_turret , 132 , 72 , 0 ] , [ b_lab , 146 , 64 , 4 ] , [ b_lab , 159 , 85 , 4 ] , [ b_ext_siberium , 163 , 91 , 3 ] , [ b_ext_track , 166 , 95 , 4 ] , [ b_ext_computer , 159 , 95 , 1 ] ] ;
9614: LD_ADDR_VAR 0 5
9618: PUSH
9619: LD_INT 0
9621: PUSH
9622: LD_INT 151
9624: PUSH
9625: LD_INT 71
9627: PUSH
9628: LD_INT 4
9630: PUSH
9631: EMPTY
9632: LIST
9633: LIST
9634: LIST
9635: LIST
9636: PUSH
9637: LD_INT 4
9639: PUSH
9640: LD_INT 145
9642: PUSH
9643: LD_INT 53
9645: PUSH
9646: LD_INT 3
9648: PUSH
9649: EMPTY
9650: LIST
9651: LIST
9652: LIST
9653: LIST
9654: PUSH
9655: LD_INT 4
9657: PUSH
9658: LD_INT 172
9660: PUSH
9661: LD_INT 102
9663: PUSH
9664: LD_INT 5
9666: PUSH
9667: EMPTY
9668: LIST
9669: LIST
9670: LIST
9671: LIST
9672: PUSH
9673: LD_INT 29
9675: PUSH
9676: LD_INT 152
9678: PUSH
9679: LD_INT 85
9681: PUSH
9682: LD_INT 3
9684: PUSH
9685: EMPTY
9686: LIST
9687: LIST
9688: LIST
9689: LIST
9690: PUSH
9691: LD_INT 30
9693: PUSH
9694: LD_INT 156
9696: PUSH
9697: LD_INT 92
9699: PUSH
9700: LD_INT 3
9702: PUSH
9703: EMPTY
9704: LIST
9705: LIST
9706: LIST
9707: LIST
9708: PUSH
9709: LD_INT 28
9711: PUSH
9712: LD_INT 151
9714: PUSH
9715: LD_INT 66
9717: PUSH
9718: LD_INT 4
9720: PUSH
9721: EMPTY
9722: LIST
9723: LIST
9724: LIST
9725: LIST
9726: PUSH
9727: LD_INT 2
9729: PUSH
9730: LD_INT 163
9732: PUSH
9733: LD_INT 95
9735: PUSH
9736: LD_INT 5
9738: PUSH
9739: EMPTY
9740: LIST
9741: LIST
9742: LIST
9743: LIST
9744: PUSH
9745: LD_INT 28
9747: PUSH
9748: LD_INT 149
9750: PUSH
9751: LD_INT 63
9753: PUSH
9754: LD_INT 4
9756: PUSH
9757: EMPTY
9758: LIST
9759: LIST
9760: LIST
9761: LIST
9762: PUSH
9763: LD_INT 17
9765: PUSH
9766: LD_INT 167
9768: PUSH
9769: LD_INT 99
9771: PUSH
9772: LD_INT 5
9774: PUSH
9775: EMPTY
9776: LIST
9777: LIST
9778: LIST
9779: LIST
9780: PUSH
9781: LD_INT 18
9783: PUSH
9784: LD_INT 163
9786: PUSH
9787: LD_INT 98
9789: PUSH
9790: LD_INT 0
9792: PUSH
9793: EMPTY
9794: LIST
9795: LIST
9796: LIST
9797: LIST
9798: PUSH
9799: LD_INT 28
9801: PUSH
9802: LD_INT 154
9804: PUSH
9805: LD_INT 70
9807: PUSH
9808: LD_INT 4
9810: PUSH
9811: EMPTY
9812: LIST
9813: LIST
9814: LIST
9815: LIST
9816: PUSH
9817: LD_INT 32
9819: PUSH
9820: LD_INT 155
9822: PUSH
9823: LD_INT 62
9825: PUSH
9826: LD_INT 4
9828: PUSH
9829: EMPTY
9830: LIST
9831: LIST
9832: LIST
9833: LIST
9834: PUSH
9835: LD_INT 32
9837: PUSH
9838: LD_INT 161
9840: PUSH
9841: LD_INT 69
9843: PUSH
9844: LD_INT 4
9846: PUSH
9847: EMPTY
9848: LIST
9849: LIST
9850: LIST
9851: LIST
9852: PUSH
9853: LD_INT 32
9855: PUSH
9856: LD_INT 168
9858: PUSH
9859: LD_INT 78
9861: PUSH
9862: LD_INT 4
9864: PUSH
9865: EMPTY
9866: LIST
9867: LIST
9868: LIST
9869: LIST
9870: PUSH
9871: LD_INT 32
9873: PUSH
9874: LD_INT 163
9876: PUSH
9877: LD_INT 80
9879: PUSH
9880: LD_INT 5
9882: PUSH
9883: EMPTY
9884: LIST
9885: LIST
9886: LIST
9887: LIST
9888: PUSH
9889: LD_INT 32
9891: PUSH
9892: LD_INT 136
9894: PUSH
9895: LD_INT 73
9897: PUSH
9898: LD_INT 0
9900: PUSH
9901: EMPTY
9902: LIST
9903: LIST
9904: LIST
9905: LIST
9906: PUSH
9907: LD_INT 32
9909: PUSH
9910: LD_INT 157
9912: PUSH
9913: LD_INT 98
9915: PUSH
9916: LD_INT 0
9918: PUSH
9919: EMPTY
9920: LIST
9921: LIST
9922: LIST
9923: LIST
9924: PUSH
9925: LD_INT 32
9927: PUSH
9928: LD_INT 150
9930: PUSH
9931: LD_INT 87
9933: PUSH
9934: LD_INT 1
9936: PUSH
9937: EMPTY
9938: LIST
9939: LIST
9940: LIST
9941: LIST
9942: PUSH
9943: LD_INT 33
9945: PUSH
9946: LD_INT 171
9948: PUSH
9949: LD_INT 97
9951: PUSH
9952: LD_INT 4
9954: PUSH
9955: EMPTY
9956: LIST
9957: LIST
9958: LIST
9959: LIST
9960: PUSH
9961: LD_INT 33
9963: PUSH
9964: LD_INT 168
9966: PUSH
9967: LD_INT 92
9969: PUSH
9970: LD_INT 4
9972: PUSH
9973: EMPTY
9974: LIST
9975: LIST
9976: LIST
9977: LIST
9978: PUSH
9979: LD_INT 33
9981: PUSH
9982: LD_INT 166
9984: PUSH
9985: LD_INT 80
9987: PUSH
9988: LD_INT 5
9990: PUSH
9991: EMPTY
9992: LIST
9993: LIST
9994: LIST
9995: LIST
9996: PUSH
9997: LD_INT 33
9999: PUSH
10000: LD_INT 141
10002: PUSH
10003: LD_INT 54
10005: PUSH
10006: LD_INT 2
10008: PUSH
10009: EMPTY
10010: LIST
10011: LIST
10012: LIST
10013: LIST
10014: PUSH
10015: LD_INT 33
10017: PUSH
10018: LD_INT 133
10020: PUSH
10021: LD_INT 57
10023: PUSH
10024: LD_INT 2
10026: PUSH
10027: EMPTY
10028: LIST
10029: LIST
10030: LIST
10031: LIST
10032: PUSH
10033: LD_INT 33
10035: PUSH
10036: LD_INT 132
10038: PUSH
10039: LD_INT 61
10041: PUSH
10042: LD_INT 2
10044: PUSH
10045: EMPTY
10046: LIST
10047: LIST
10048: LIST
10049: LIST
10050: PUSH
10051: LD_INT 33
10053: PUSH
10054: LD_INT 150
10056: PUSH
10057: LD_INT 82
10059: PUSH
10060: LD_INT 0
10062: PUSH
10063: EMPTY
10064: LIST
10065: LIST
10066: LIST
10067: LIST
10068: PUSH
10069: LD_INT 33
10071: PUSH
10072: LD_INT 132
10074: PUSH
10075: LD_INT 72
10077: PUSH
10078: LD_INT 0
10080: PUSH
10081: EMPTY
10082: LIST
10083: LIST
10084: LIST
10085: LIST
10086: PUSH
10087: LD_INT 6
10089: PUSH
10090: LD_INT 146
10092: PUSH
10093: LD_INT 64
10095: PUSH
10096: LD_INT 4
10098: PUSH
10099: EMPTY
10100: LIST
10101: LIST
10102: LIST
10103: LIST
10104: PUSH
10105: LD_INT 6
10107: PUSH
10108: LD_INT 159
10110: PUSH
10111: LD_INT 85
10113: PUSH
10114: LD_INT 4
10116: PUSH
10117: EMPTY
10118: LIST
10119: LIST
10120: LIST
10121: LIST
10122: PUSH
10123: LD_INT 21
10125: PUSH
10126: LD_INT 163
10128: PUSH
10129: LD_INT 91
10131: PUSH
10132: LD_INT 3
10134: PUSH
10135: EMPTY
10136: LIST
10137: LIST
10138: LIST
10139: LIST
10140: PUSH
10141: LD_INT 16
10143: PUSH
10144: LD_INT 166
10146: PUSH
10147: LD_INT 95
10149: PUSH
10150: LD_INT 4
10152: PUSH
10153: EMPTY
10154: LIST
10155: LIST
10156: LIST
10157: LIST
10158: PUSH
10159: LD_INT 24
10161: PUSH
10162: LD_INT 159
10164: PUSH
10165: LD_INT 95
10167: PUSH
10168: LD_INT 1
10170: PUSH
10171: EMPTY
10172: LIST
10173: LIST
10174: LIST
10175: LIST
10176: PUSH
10177: EMPTY
10178: LIST
10179: LIST
10180: LIST
10181: LIST
10182: LIST
10183: LIST
10184: LIST
10185: LIST
10186: LIST
10187: LIST
10188: LIST
10189: LIST
10190: LIST
10191: LIST
10192: LIST
10193: LIST
10194: LIST
10195: LIST
10196: LIST
10197: LIST
10198: LIST
10199: LIST
10200: LIST
10201: LIST
10202: LIST
10203: LIST
10204: LIST
10205: LIST
10206: LIST
10207: LIST
10208: LIST
10209: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_not , [ f_class , 2 ] ] ] ) do
10210: LD_ADDR_VAR 0 3
10214: PUSH
10215: LD_INT 22
10217: PUSH
10218: LD_INT 3
10220: PUSH
10221: EMPTY
10222: LIST
10223: LIST
10224: PUSH
10225: LD_INT 3
10227: PUSH
10228: LD_INT 25
10230: PUSH
10231: LD_INT 2
10233: PUSH
10234: EMPTY
10235: LIST
10236: LIST
10237: PUSH
10238: EMPTY
10239: LIST
10240: LIST
10241: PUSH
10242: EMPTY
10243: LIST
10244: LIST
10245: PPUSH
10246: CALL_OW 69
10250: PUSH
10251: FOR_IN
10252: IFFALSE 10299
// AddComMoveXY ( i , buildingsTab [ 2 ] [ 2 ] + 2 , buildingsTab [ 2 ] [ 3 ] + 3 ) ;
10254: LD_VAR 0 3
10258: PPUSH
10259: LD_VAR 0 5
10263: PUSH
10264: LD_INT 2
10266: ARRAY
10267: PUSH
10268: LD_INT 2
10270: ARRAY
10271: PUSH
10272: LD_INT 2
10274: PLUS
10275: PPUSH
10276: LD_VAR 0 5
10280: PUSH
10281: LD_INT 2
10283: ARRAY
10284: PUSH
10285: LD_INT 3
10287: ARRAY
10288: PUSH
10289: LD_INT 3
10291: PLUS
10292: PPUSH
10293: CALL_OW 171
10297: GO 10251
10299: POP
10300: POP
// for i := 1 to buildingsTab do
10301: LD_ADDR_VAR 0 3
10305: PUSH
10306: DOUBLE
10307: LD_INT 1
10309: DEC
10310: ST_TO_ADDR
10311: LD_VAR 0 5
10315: PUSH
10316: FOR_TO
10317: IFFALSE 10390
// AddComBuild ( engineers , buildingsTab [ i ] [ 1 ] , buildingsTab [ i ] [ 2 ] , buildingsTab [ i ] [ 3 ] , buildingsTab [ i ] [ 4 ] ) ;
10319: LD_VAR 0 4
10323: PPUSH
10324: LD_VAR 0 5
10328: PUSH
10329: LD_VAR 0 3
10333: ARRAY
10334: PUSH
10335: LD_INT 1
10337: ARRAY
10338: PPUSH
10339: LD_VAR 0 5
10343: PUSH
10344: LD_VAR 0 3
10348: ARRAY
10349: PUSH
10350: LD_INT 2
10352: ARRAY
10353: PPUSH
10354: LD_VAR 0 5
10358: PUSH
10359: LD_VAR 0 3
10363: ARRAY
10364: PUSH
10365: LD_INT 3
10367: ARRAY
10368: PPUSH
10369: LD_VAR 0 5
10373: PUSH
10374: LD_VAR 0 3
10378: ARRAY
10379: PUSH
10380: LD_INT 4
10382: ARRAY
10383: PPUSH
10384: CALL_OW 205
10388: GO 10316
10390: POP
10391: POP
// end ; end ;
10392: LD_VAR 0 2
10396: RET
// export function BuildArabianBase ; var i , engineers , buildingsTab ; begin
10397: LD_INT 0
10399: PPUSH
10400: PPUSH
10401: PPUSH
10402: PPUSH
// engineers = FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 2 ] ] ) ;
10403: LD_ADDR_VAR 0 3
10407: PUSH
10408: LD_INT 22
10410: PUSH
10411: LD_INT 2
10413: PUSH
10414: EMPTY
10415: LIST
10416: LIST
10417: PUSH
10418: LD_INT 25
10420: PUSH
10421: LD_INT 2
10423: PUSH
10424: EMPTY
10425: LIST
10426: LIST
10427: PUSH
10428: EMPTY
10429: LIST
10430: LIST
10431: PPUSH
10432: CALL_OW 69
10436: ST_TO_ADDR
// AddComBuild ( engineers , b_depot , 71 , 15 , 3 ) ;
10437: LD_VAR 0 3
10441: PPUSH
10442: LD_INT 0
10444: PPUSH
10445: LD_INT 71
10447: PPUSH
10448: LD_INT 15
10450: PPUSH
10451: LD_INT 3
10453: PPUSH
10454: CALL_OW 205
// buildingsTab = [ [ b_lab , 77 , 18 , 3 ] , [ b_armoury , 77 , 26 , 0 ] , [ b_breastwork , 82 , 28 , 0 ] , [ b_breastwork , 84 , 21 , 3 ] , [ b_breastwork , 66 , 14 , 2 ] , [ b_solar_power , 67 , 18 , 5 ] , [ b_solar_power , 69 , 23 , 2 ] , ] ;
10458: LD_ADDR_VAR 0 4
10462: PUSH
10463: LD_INT 6
10465: PUSH
10466: LD_INT 77
10468: PUSH
10469: LD_INT 18
10471: PUSH
10472: LD_INT 3
10474: PUSH
10475: EMPTY
10476: LIST
10477: LIST
10478: LIST
10479: LIST
10480: PUSH
10481: LD_INT 4
10483: PUSH
10484: LD_INT 77
10486: PUSH
10487: LD_INT 26
10489: PUSH
10490: LD_INT 0
10492: PUSH
10493: EMPTY
10494: LIST
10495: LIST
10496: LIST
10497: LIST
10498: PUSH
10499: LD_INT 31
10501: PUSH
10502: LD_INT 82
10504: PUSH
10505: LD_INT 28
10507: PUSH
10508: LD_INT 0
10510: PUSH
10511: EMPTY
10512: LIST
10513: LIST
10514: LIST
10515: LIST
10516: PUSH
10517: LD_INT 31
10519: PUSH
10520: LD_INT 84
10522: PUSH
10523: LD_INT 21
10525: PUSH
10526: LD_INT 3
10528: PUSH
10529: EMPTY
10530: LIST
10531: LIST
10532: LIST
10533: LIST
10534: PUSH
10535: LD_INT 31
10537: PUSH
10538: LD_INT 66
10540: PUSH
10541: LD_INT 14
10543: PUSH
10544: LD_INT 2
10546: PUSH
10547: EMPTY
10548: LIST
10549: LIST
10550: LIST
10551: LIST
10552: PUSH
10553: LD_INT 27
10555: PUSH
10556: LD_INT 67
10558: PUSH
10559: LD_INT 18
10561: PUSH
10562: LD_INT 5
10564: PUSH
10565: EMPTY
10566: LIST
10567: LIST
10568: LIST
10569: LIST
10570: PUSH
10571: LD_INT 27
10573: PUSH
10574: LD_INT 69
10576: PUSH
10577: LD_INT 23
10579: PUSH
10580: LD_INT 2
10582: PUSH
10583: EMPTY
10584: LIST
10585: LIST
10586: LIST
10587: LIST
10588: PUSH
10589: EMPTY
10590: LIST
10591: LIST
10592: LIST
10593: LIST
10594: LIST
10595: LIST
10596: LIST
10597: ST_TO_ADDR
// for i := 1 to buildingsTab do
10598: LD_ADDR_VAR 0 2
10602: PUSH
10603: DOUBLE
10604: LD_INT 1
10606: DEC
10607: ST_TO_ADDR
10608: LD_VAR 0 4
10612: PUSH
10613: FOR_TO
10614: IFFALSE 10687
// AddComBuild ( engineers , buildingsTab [ i ] [ 1 ] , buildingsTab [ i ] [ 2 ] , buildingsTab [ i ] [ 3 ] , buildingsTab [ i ] [ 4 ] ) ;
10616: LD_VAR 0 3
10620: PPUSH
10621: LD_VAR 0 4
10625: PUSH
10626: LD_VAR 0 2
10630: ARRAY
10631: PUSH
10632: LD_INT 1
10634: ARRAY
10635: PPUSH
10636: LD_VAR 0 4
10640: PUSH
10641: LD_VAR 0 2
10645: ARRAY
10646: PUSH
10647: LD_INT 2
10649: ARRAY
10650: PPUSH
10651: LD_VAR 0 4
10655: PUSH
10656: LD_VAR 0 2
10660: ARRAY
10661: PUSH
10662: LD_INT 3
10664: ARRAY
10665: PPUSH
10666: LD_VAR 0 4
10670: PUSH
10671: LD_VAR 0 2
10675: ARRAY
10676: PUSH
10677: LD_INT 4
10679: ARRAY
10680: PPUSH
10681: CALL_OW 205
10685: GO 10613
10687: POP
10688: POP
// end ;
10689: LD_VAR 0 1
10693: RET
// export function IntBazooka ( side , targetSide ) ; var ta , c , i , list , filter ; begin
10694: LD_INT 0
10696: PPUSH
10697: PPUSH
10698: PPUSH
10699: PPUSH
10700: PPUSH
10701: PPUSH
// list := FilterAllUnits ( [ [ f_side , side ] , [ f_class , class_bazooker ] ] ) ;
10702: LD_ADDR_VAR 0 7
10706: PUSH
10707: LD_INT 22
10709: PUSH
10710: LD_VAR 0 1
10714: PUSH
10715: EMPTY
10716: LIST
10717: LIST
10718: PUSH
10719: LD_INT 25
10721: PUSH
10722: LD_INT 9
10724: PUSH
10725: EMPTY
10726: LIST
10727: LIST
10728: PUSH
10729: EMPTY
10730: LIST
10731: LIST
10732: PPUSH
10733: CALL_OW 69
10737: ST_TO_ADDR
// filter := FilterAllUnits ( [ [ f_side , targetSide ] , [ f_not , [ f_type , unit_building ] ] ] ) ;
10738: LD_ADDR_VAR 0 8
10742: PUSH
10743: LD_INT 22
10745: PUSH
10746: LD_VAR 0 2
10750: PUSH
10751: EMPTY
10752: LIST
10753: LIST
10754: PUSH
10755: LD_INT 3
10757: PUSH
10758: LD_INT 21
10760: PUSH
10761: LD_INT 3
10763: PUSH
10764: EMPTY
10765: LIST
10766: LIST
10767: PUSH
10768: EMPTY
10769: LIST
10770: LIST
10771: PUSH
10772: EMPTY
10773: LIST
10774: LIST
10775: PPUSH
10776: CALL_OW 69
10780: ST_TO_ADDR
// c := Rand ( 1 , 3 ) ;
10781: LD_ADDR_VAR 0 5
10785: PUSH
10786: LD_INT 1
10788: PPUSH
10789: LD_INT 3
10791: PPUSH
10792: CALL_OW 12
10796: ST_TO_ADDR
// for i = 1 to list do
10797: LD_ADDR_VAR 0 6
10801: PUSH
10802: DOUBLE
10803: LD_INT 1
10805: DEC
10806: ST_TO_ADDR
10807: LD_VAR 0 7
10811: PUSH
10812: FOR_TO
10813: IFFALSE 11511
// for ta in filter do
10815: LD_ADDR_VAR 0 4
10819: PUSH
10820: LD_VAR 0 8
10824: PUSH
10825: FOR_IN
10826: IFFALSE 11507
// begin if GetDistUnits ( list [ i ] , ta ) <= 12 then
10828: LD_VAR 0 7
10832: PUSH
10833: LD_VAR 0 6
10837: ARRAY
10838: PPUSH
10839: LD_VAR 0 4
10843: PPUSH
10844: CALL_OW 296
10848: PUSH
10849: LD_INT 12
10851: LESSEQUAL
10852: IFFALSE 11505
// begin case c of 1 :
10854: LD_VAR 0 5
10858: PUSH
10859: LD_INT 1
10861: DOUBLE
10862: EQUAL
10863: IFTRUE 10867
10865: GO 11163
10867: POP
// begin ComTimeShift ( list [ i ] , GetX ( ta ) , GetY ( ta ) ) ;
10868: LD_VAR 0 7
10872: PUSH
10873: LD_VAR 0 6
10877: ARRAY
10878: PPUSH
10879: LD_VAR 0 4
10883: PPUSH
10884: CALL_OW 250
10888: PPUSH
10889: LD_VAR 0 4
10893: PPUSH
10894: CALL_OW 251
10898: PPUSH
10899: CALL_OW 154
// if eventVar2 = 0 then
10903: LD_EXP 58
10907: PUSH
10908: LD_INT 0
10910: EQUAL
10911: IFFALSE 11161
// begin eventVar2 = 1 ;
10913: LD_ADDR_EXP 58
10917: PUSH
10918: LD_INT 1
10920: ST_TO_ADDR
// wait ( 0 0$7 ) ;
10921: LD_INT 245
10923: PPUSH
10924: CALL_OW 67
// CenterOnXY ( GetX ( ta ) , GetY ( ta ) ) ;
10928: LD_VAR 0 4
10932: PPUSH
10933: CALL_OW 250
10937: PPUSH
10938: LD_VAR 0 4
10942: PPUSH
10943: CALL_OW 251
10947: PPUSH
10948: CALL_OW 84
// DialogueOn ;
10952: CALL_OW 6
// if IsOK ( Cyrus ) then
10956: LD_EXP 5
10960: PPUSH
10961: CALL_OW 302
10965: IFFALSE 10981
// begin Say ( Cyrus , D9a-Cyrus-1 ) ;
10967: LD_EXP 5
10971: PPUSH
10972: LD_STRING D9a-Cyrus-1
10974: PPUSH
10975: CALL_OW 88
// end else
10979: GO 11035
// begin DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , 1 ] ] diff [ JMM , Khatam ] ) , D9a-Sol1-1 , D9a-Sol1-1 ) ;
10981: LD_INT 22
10983: PUSH
10984: LD_INT 1
10986: PUSH
10987: EMPTY
10988: LIST
10989: LIST
10990: PUSH
10991: LD_INT 26
10993: PUSH
10994: LD_INT 1
10996: PUSH
10997: EMPTY
10998: LIST
10999: LIST
11000: PUSH
11001: EMPTY
11002: LIST
11003: LIST
11004: PUSH
11005: LD_EXP 1
11009: PUSH
11010: LD_EXP 14
11014: PUSH
11015: EMPTY
11016: LIST
11017: LIST
11018: DIFF
11019: PPUSH
11020: CALL_OW 69
11024: PPUSH
11025: LD_STRING D9a-Sol1-1
11027: PPUSH
11028: LD_STRING D9a-Sol1-1
11030: PPUSH
11031: CALL 7407 0 3
// end ; DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , 1 ] ] diff [ JMM , Khatam ] ) , D9b-Sol1-1 , D9b-Sol1-1 ) ;
11035: LD_INT 22
11037: PUSH
11038: LD_INT 1
11040: PUSH
11041: EMPTY
11042: LIST
11043: LIST
11044: PUSH
11045: LD_INT 26
11047: PUSH
11048: LD_INT 1
11050: PUSH
11051: EMPTY
11052: LIST
11053: LIST
11054: PUSH
11055: EMPTY
11056: LIST
11057: LIST
11058: PUSH
11059: LD_EXP 1
11063: PUSH
11064: LD_EXP 14
11068: PUSH
11069: EMPTY
11070: LIST
11071: LIST
11072: DIFF
11073: PPUSH
11074: CALL_OW 69
11078: PPUSH
11079: LD_STRING D9b-Sol1-1
11081: PPUSH
11082: LD_STRING D9b-Sol1-1
11084: PPUSH
11085: CALL 7407 0 3
// if LoadVariable ( 09_arInfo , 0 ) = 1 then
11089: LD_STRING 09_arInfo
11091: PPUSH
11092: LD_INT 0
11094: PPUSH
11095: CALL_OW 30
11099: PUSH
11100: LD_INT 1
11102: EQUAL
11103: IFFALSE 11117
// Say ( JMM , D9a-JMM-1 ) ;
11105: LD_EXP 1
11109: PPUSH
11110: LD_STRING D9a-JMM-1
11112: PPUSH
11113: CALL_OW 88
// Say ( JMM , D9c-JMM-1 ) ;
11117: LD_EXP 1
11121: PPUSH
11122: LD_STRING D9c-JMM-1
11124: PPUSH
11125: CALL_OW 88
// if GetTech ( tech_LasSight , 1 ) = state_researched then
11129: LD_INT 12
11131: PPUSH
11132: LD_INT 1
11134: PPUSH
11135: CALL_OW 321
11139: PUSH
11140: LD_INT 2
11142: EQUAL
11143: IFFALSE 11157
// Say ( JMM , D9c-JMM-1a ) ;
11145: LD_EXP 1
11149: PPUSH
11150: LD_STRING D9c-JMM-1a
11152: PPUSH
11153: CALL_OW 88
// DialogueOff ;
11157: CALL_OW 7
// end ; end ; 2 :
11161: GO 11505
11163: LD_INT 2
11165: DOUBLE
11166: EQUAL
11167: IFTRUE 11171
11169: GO 11493
11171: POP
// begin ComSpaceShift ( list [ i ] , GetX ( ta ) + Rand ( - 1 , 1 ) , GetY ( ta ) + Rand ( - 1 , 1 ) ) ;
11172: LD_VAR 0 7
11176: PUSH
11177: LD_VAR 0 6
11181: ARRAY
11182: PPUSH
11183: LD_VAR 0 4
11187: PPUSH
11188: CALL_OW 250
11192: PUSH
11193: LD_INT 1
11195: NEG
11196: PPUSH
11197: LD_INT 1
11199: PPUSH
11200: CALL_OW 12
11204: PLUS
11205: PPUSH
11206: LD_VAR 0 4
11210: PPUSH
11211: CALL_OW 251
11215: PUSH
11216: LD_INT 1
11218: NEG
11219: PPUSH
11220: LD_INT 1
11222: PPUSH
11223: CALL_OW 12
11227: PLUS
11228: PPUSH
11229: CALL_OW 153
// if eventVar2 = 0 then
11233: LD_EXP 58
11237: PUSH
11238: LD_INT 0
11240: EQUAL
11241: IFFALSE 11491
// begin eventVar2 = 1 ;
11243: LD_ADDR_EXP 58
11247: PUSH
11248: LD_INT 1
11250: ST_TO_ADDR
// wait ( 0 0$7 ) ;
11251: LD_INT 245
11253: PPUSH
11254: CALL_OW 67
// CenterOnXY ( GetX ( ta ) , GetY ( ta ) ) ;
11258: LD_VAR 0 4
11262: PPUSH
11263: CALL_OW 250
11267: PPUSH
11268: LD_VAR 0 4
11272: PPUSH
11273: CALL_OW 251
11277: PPUSH
11278: CALL_OW 84
// DialogueOn ;
11282: CALL_OW 6
// if IsOK ( Cyrus ) then
11286: LD_EXP 5
11290: PPUSH
11291: CALL_OW 302
11295: IFFALSE 11311
// begin Say ( Cyrus , D9a-Cyrus-1 ) ;
11297: LD_EXP 5
11301: PPUSH
11302: LD_STRING D9a-Cyrus-1
11304: PPUSH
11305: CALL_OW 88
// end else
11309: GO 11365
// begin DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , 1 ] ] diff [ JMM , Khatam ] ) , D9a-Sol1-1 , D9a-Sol1-1 ) ;
11311: LD_INT 22
11313: PUSH
11314: LD_INT 1
11316: PUSH
11317: EMPTY
11318: LIST
11319: LIST
11320: PUSH
11321: LD_INT 26
11323: PUSH
11324: LD_INT 1
11326: PUSH
11327: EMPTY
11328: LIST
11329: LIST
11330: PUSH
11331: EMPTY
11332: LIST
11333: LIST
11334: PUSH
11335: LD_EXP 1
11339: PUSH
11340: LD_EXP 14
11344: PUSH
11345: EMPTY
11346: LIST
11347: LIST
11348: DIFF
11349: PPUSH
11350: CALL_OW 69
11354: PPUSH
11355: LD_STRING D9a-Sol1-1
11357: PPUSH
11358: LD_STRING D9a-Sol1-1
11360: PPUSH
11361: CALL 7407 0 3
// end ; DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , 1 ] ] diff [ JMM , Khatam ] ) , D9b-Sol1-1 , D9b-Sol1-1 ) ;
11365: LD_INT 22
11367: PUSH
11368: LD_INT 1
11370: PUSH
11371: EMPTY
11372: LIST
11373: LIST
11374: PUSH
11375: LD_INT 26
11377: PUSH
11378: LD_INT 1
11380: PUSH
11381: EMPTY
11382: LIST
11383: LIST
11384: PUSH
11385: EMPTY
11386: LIST
11387: LIST
11388: PUSH
11389: LD_EXP 1
11393: PUSH
11394: LD_EXP 14
11398: PUSH
11399: EMPTY
11400: LIST
11401: LIST
11402: DIFF
11403: PPUSH
11404: CALL_OW 69
11408: PPUSH
11409: LD_STRING D9b-Sol1-1
11411: PPUSH
11412: LD_STRING D9b-Sol1-1
11414: PPUSH
11415: CALL 7407 0 3
// if LoadVariable ( 09_arInfo , 0 ) = 1 then
11419: LD_STRING 09_arInfo
11421: PPUSH
11422: LD_INT 0
11424: PPUSH
11425: CALL_OW 30
11429: PUSH
11430: LD_INT 1
11432: EQUAL
11433: IFFALSE 11447
// Say ( JMM , D9a-JMM-1 ) ;
11435: LD_EXP 1
11439: PPUSH
11440: LD_STRING D9a-JMM-1
11442: PPUSH
11443: CALL_OW 88
// Say ( JMM , D9c-JMM-1 ) ;
11447: LD_EXP 1
11451: PPUSH
11452: LD_STRING D9c-JMM-1
11454: PPUSH
11455: CALL_OW 88
// if GetTech ( tech_LasSight , 1 ) = state_researched then
11459: LD_INT 12
11461: PPUSH
11462: LD_INT 1
11464: PPUSH
11465: CALL_OW 321
11469: PUSH
11470: LD_INT 2
11472: EQUAL
11473: IFFALSE 11487
// Say ( JMM , D9c-JMM-1a ) ;
11475: LD_EXP 1
11479: PPUSH
11480: LD_STRING D9c-JMM-1a
11482: PPUSH
11483: CALL_OW 88
// DialogueOff ;
11487: CALL_OW 7
// end ; end ; 3 :
11491: GO 11505
11493: LD_INT 3
11495: DOUBLE
11496: EQUAL
11497: IFTRUE 11501
11499: GO 11504
11501: POP
// ; end ;
11502: GO 11505
11504: POP
// end ; end ;
11505: GO 10825
11507: POP
11508: POP
11509: GO 10812
11511: POP
11512: POP
// end ;
11513: LD_VAR 0 3
11517: RET
// export function ResAllTechs ( side , lab , nation ) ; var i , tech , cout ; begin
11518: LD_INT 0
11520: PPUSH
11521: PPUSH
11522: PPUSH
11523: PPUSH
// for i = 1 to 72 do
11524: LD_ADDR_VAR 0 5
11528: PUSH
11529: DOUBLE
11530: LD_INT 1
11532: DEC
11533: ST_TO_ADDR
11534: LD_INT 72
11536: PUSH
11537: FOR_TO
11538: IFFALSE 11596
// if GetTech ( i , side ) = state_enabled and TechNationAvailable ( i , nation ) = true then
11540: LD_VAR 0 5
11544: PPUSH
11545: LD_VAR 0 1
11549: PPUSH
11550: CALL_OW 321
11554: PUSH
11555: LD_INT 1
11557: EQUAL
11558: PUSH
11559: LD_VAR 0 5
11563: PPUSH
11564: LD_VAR 0 3
11568: PPUSH
11569: CALL_OW 482
11573: PUSH
11574: LD_INT 1
11576: EQUAL
11577: AND
11578: IFFALSE 11594
// AddComResearch ( lab , i ) ;
11580: LD_VAR 0 2
11584: PPUSH
11585: LD_VAR 0 5
11589: PPUSH
11590: CALL_OW 184
11594: GO 11537
11596: POP
11597: POP
// end ;
11598: LD_VAR 0 4
11602: RET
// export function EnterBunkerOrBarrack ( side , area ) ; var i , j , soldiers_list , turretList , temp , barrackList ; begin
11603: LD_INT 0
11605: PPUSH
11606: PPUSH
11607: PPUSH
11608: PPUSH
11609: PPUSH
11610: PPUSH
11611: PPUSH
// soldiers_list = FilterAllUnits ( [ [ f_side , side ] , [ f_outside ] , [ f_lives , 700 ] , [ f_or , [ f_class , 1 ] , [ f_class , 9 ] ] ] ) ;
11612: LD_ADDR_VAR 0 6
11616: PUSH
11617: LD_INT 22
11619: PUSH
11620: LD_VAR 0 1
11624: PUSH
11625: EMPTY
11626: LIST
11627: LIST
11628: PUSH
11629: LD_INT 56
11631: PUSH
11632: EMPTY
11633: LIST
11634: PUSH
11635: LD_INT 24
11637: PUSH
11638: LD_INT 700
11640: PUSH
11641: EMPTY
11642: LIST
11643: LIST
11644: PUSH
11645: LD_INT 2
11647: PUSH
11648: LD_INT 25
11650: PUSH
11651: LD_INT 1
11653: PUSH
11654: EMPTY
11655: LIST
11656: LIST
11657: PUSH
11658: LD_INT 25
11660: PUSH
11661: LD_INT 9
11663: PUSH
11664: EMPTY
11665: LIST
11666: LIST
11667: PUSH
11668: EMPTY
11669: LIST
11670: LIST
11671: LIST
11672: PUSH
11673: EMPTY
11674: LIST
11675: LIST
11676: LIST
11677: LIST
11678: PPUSH
11679: CALL_OW 69
11683: ST_TO_ADDR
// turretList = FilterAllUnits ( [ [ f_side , side ] , [ f_btype , b_bunker ] , [ f_empty ] , [ f_lives , 251 ] ] ) ;
11684: LD_ADDR_VAR 0 7
11688: PUSH
11689: LD_INT 22
11691: PUSH
11692: LD_VAR 0 1
11696: PUSH
11697: EMPTY
11698: LIST
11699: LIST
11700: PUSH
11701: LD_INT 30
11703: PUSH
11704: LD_INT 32
11706: PUSH
11707: EMPTY
11708: LIST
11709: LIST
11710: PUSH
11711: LD_INT 58
11713: PUSH
11714: EMPTY
11715: LIST
11716: PUSH
11717: LD_INT 24
11719: PUSH
11720: LD_INT 251
11722: PUSH
11723: EMPTY
11724: LIST
11725: LIST
11726: PUSH
11727: EMPTY
11728: LIST
11729: LIST
11730: LIST
11731: LIST
11732: PPUSH
11733: CALL_OW 69
11737: ST_TO_ADDR
// barrackList = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_btype , 4 ] , [ f_btype , 5 ] ] , [ f_lives , 251 ] ] ) ;
11738: LD_ADDR_VAR 0 9
11742: PUSH
11743: LD_INT 22
11745: PUSH
11746: LD_VAR 0 1
11750: PUSH
11751: EMPTY
11752: LIST
11753: LIST
11754: PUSH
11755: LD_INT 2
11757: PUSH
11758: LD_INT 30
11760: PUSH
11761: LD_INT 4
11763: PUSH
11764: EMPTY
11765: LIST
11766: LIST
11767: PUSH
11768: LD_INT 30
11770: PUSH
11771: LD_INT 5
11773: PUSH
11774: EMPTY
11775: LIST
11776: LIST
11777: PUSH
11778: EMPTY
11779: LIST
11780: LIST
11781: LIST
11782: PUSH
11783: LD_INT 24
11785: PUSH
11786: LD_INT 251
11788: PUSH
11789: EMPTY
11790: LIST
11791: LIST
11792: PUSH
11793: EMPTY
11794: LIST
11795: LIST
11796: LIST
11797: PPUSH
11798: CALL_OW 69
11802: ST_TO_ADDR
// if barrackList > 0 then
11803: LD_VAR 0 9
11807: PUSH
11808: LD_INT 0
11810: GREATER
11811: IFFALSE 11900
// begin if turretList = 0 then
11813: LD_VAR 0 7
11817: PUSH
11818: LD_INT 0
11820: EQUAL
11821: IFFALSE 11860
// begin for i in soldiers_list do
11823: LD_ADDR_VAR 0 4
11827: PUSH
11828: LD_VAR 0 6
11832: PUSH
11833: FOR_IN
11834: IFFALSE 11856
// ComEnterUnit ( i , barrackList [ 1 ] ) ;
11836: LD_VAR 0 4
11840: PPUSH
11841: LD_VAR 0 9
11845: PUSH
11846: LD_INT 1
11848: ARRAY
11849: PPUSH
11850: CALL_OW 120
11854: GO 11833
11856: POP
11857: POP
// end else
11858: GO 11900
// begin for i in barrackList do
11860: LD_ADDR_VAR 0 4
11864: PUSH
11865: LD_VAR 0 9
11869: PUSH
11870: FOR_IN
11871: IFFALSE 11898
// begin ComEnterUnit ( UnitsInside ( i ) , turretList [ 1 ] ) ;
11873: LD_VAR 0 4
11877: PPUSH
11878: CALL_OW 313
11882: PPUSH
11883: LD_VAR 0 7
11887: PUSH
11888: LD_INT 1
11890: ARRAY
11891: PPUSH
11892: CALL_OW 120
// end ;
11896: GO 11870
11898: POP
11899: POP
// end ; end ; end ;
11900: LD_VAR 0 3
11904: RET
// export function RepairBuilding ( side , building ) ; var buildings_list , i , engineerOkInside , engineerOkOutside , j ; begin
11905: LD_INT 0
11907: PPUSH
11908: PPUSH
11909: PPUSH
11910: PPUSH
11911: PPUSH
11912: PPUSH
// engineerOkInside = UnitsInside ( building ) ;
11913: LD_ADDR_VAR 0 6
11917: PUSH
11918: LD_VAR 0 2
11922: PPUSH
11923: CALL_OW 313
11927: ST_TO_ADDR
// engineerOkOutside = FilterAllUnits ( [ [ f_side , side ] , [ f_class , 2 ] , [ f_lives , 1000 ] ] ) ;
11928: LD_ADDR_VAR 0 7
11932: PUSH
11933: LD_INT 22
11935: PUSH
11936: LD_VAR 0 1
11940: PUSH
11941: EMPTY
11942: LIST
11943: LIST
11944: PUSH
11945: LD_INT 25
11947: PUSH
11948: LD_INT 2
11950: PUSH
11951: EMPTY
11952: LIST
11953: LIST
11954: PUSH
11955: LD_INT 24
11957: PUSH
11958: LD_INT 1000
11960: PUSH
11961: EMPTY
11962: LIST
11963: LIST
11964: PUSH
11965: EMPTY
11966: LIST
11967: LIST
11968: LIST
11969: PPUSH
11970: CALL_OW 69
11974: ST_TO_ADDR
// buildings_list = FilterAllUnits ( [ [ [ f_side , side ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
11975: LD_ADDR_VAR 0 4
11979: PUSH
11980: LD_INT 22
11982: PUSH
11983: LD_VAR 0 1
11987: PUSH
11988: EMPTY
11989: LIST
11990: LIST
11991: PUSH
11992: LD_INT 21
11994: PUSH
11995: LD_INT 3
11997: PUSH
11998: EMPTY
11999: LIST
12000: LIST
12001: PUSH
12002: LD_INT 3
12004: PUSH
12005: LD_INT 24
12007: PUSH
12008: LD_INT 1000
12010: PUSH
12011: EMPTY
12012: LIST
12013: LIST
12014: PUSH
12015: EMPTY
12016: LIST
12017: LIST
12018: PUSH
12019: EMPTY
12020: LIST
12021: LIST
12022: LIST
12023: PUSH
12024: EMPTY
12025: LIST
12026: PPUSH
12027: CALL_OW 69
12031: ST_TO_ADDR
// if not buildings_list and not engineerOkOutside then
12032: LD_VAR 0 4
12036: NOT
12037: PUSH
12038: LD_VAR 0 7
12042: NOT
12043: AND
12044: IFFALSE 12048
// exit ;
12046: GO 12207
// if buildings_list > 0 and engineerOkInside > 0 then
12048: LD_VAR 0 4
12052: PUSH
12053: LD_INT 0
12055: GREATER
12056: PUSH
12057: LD_VAR 0 6
12061: PUSH
12062: LD_INT 0
12064: GREATER
12065: AND
12066: IFFALSE 12094
// for i in engineerOkInside do
12068: LD_ADDR_VAR 0 5
12072: PUSH
12073: LD_VAR 0 6
12077: PUSH
12078: FOR_IN
12079: IFFALSE 12092
// ComExitBuilding ( i ) ;
12081: LD_VAR 0 5
12085: PPUSH
12086: CALL_OW 122
12090: GO 12078
12092: POP
12093: POP
// if engineerOkOutside > 0 then
12094: LD_VAR 0 7
12098: PUSH
12099: LD_INT 0
12101: GREATER
12102: IFFALSE 12156
// begin for i in engineerOkOutside do
12104: LD_ADDR_VAR 0 5
12108: PUSH
12109: LD_VAR 0 7
12113: PUSH
12114: FOR_IN
12115: IFFALSE 12154
// for j in buildings_list do
12117: LD_ADDR_VAR 0 8
12121: PUSH
12122: LD_VAR 0 4
12126: PUSH
12127: FOR_IN
12128: IFFALSE 12150
// ComRepairBuilding ( i , j [ 1 ] ) ;
12130: LD_VAR 0 5
12134: PPUSH
12135: LD_VAR 0 8
12139: PUSH
12140: LD_INT 1
12142: ARRAY
12143: PPUSH
12144: CALL_OW 130
12148: GO 12127
12150: POP
12151: POP
12152: GO 12114
12154: POP
12155: POP
// end ; if buildings_list = 0 and engineerOkOutside > 0 then
12156: LD_VAR 0 4
12160: PUSH
12161: LD_INT 0
12163: EQUAL
12164: PUSH
12165: LD_VAR 0 7
12169: PUSH
12170: LD_INT 0
12172: GREATER
12173: AND
12174: IFFALSE 12207
// for i in engineerOkOutside do
12176: LD_ADDR_VAR 0 5
12180: PUSH
12181: LD_VAR 0 7
12185: PUSH
12186: FOR_IN
12187: IFFALSE 12205
// ComEnterUnit ( i , building ) ;
12189: LD_VAR 0 5
12193: PPUSH
12194: LD_VAR 0 2
12198: PPUSH
12199: CALL_OW 120
12203: GO 12186
12205: POP
12206: POP
// end ;
12207: LD_VAR 0 3
12211: RET
// export function RebuildBuildings ( side , destroyedBuildings ) ; var i ; begin
12212: LD_INT 0
12214: PPUSH
12215: PPUSH
// if FilterAllUnits ( [ [ f_side , side ] , [ f_class , 2 ] ] ) > 0 and FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ) = 0 and destroyedBuildings > 0 then
12216: LD_INT 22
12218: PUSH
12219: LD_VAR 0 1
12223: PUSH
12224: EMPTY
12225: LIST
12226: LIST
12227: PUSH
12228: LD_INT 25
12230: PUSH
12231: LD_INT 2
12233: PUSH
12234: EMPTY
12235: LIST
12236: LIST
12237: PUSH
12238: EMPTY
12239: LIST
12240: LIST
12241: PPUSH
12242: CALL_OW 69
12246: PUSH
12247: LD_INT 0
12249: GREATER
12250: PUSH
12251: LD_INT 22
12253: PUSH
12254: LD_VAR 0 1
12258: PUSH
12259: EMPTY
12260: LIST
12261: LIST
12262: PUSH
12263: LD_INT 21
12265: PUSH
12266: LD_INT 3
12268: PUSH
12269: EMPTY
12270: LIST
12271: LIST
12272: PUSH
12273: LD_INT 3
12275: PUSH
12276: LD_INT 24
12278: PUSH
12279: LD_INT 1000
12281: PUSH
12282: EMPTY
12283: LIST
12284: LIST
12285: PUSH
12286: EMPTY
12287: LIST
12288: LIST
12289: PUSH
12290: EMPTY
12291: LIST
12292: LIST
12293: LIST
12294: PPUSH
12295: CALL_OW 69
12299: PUSH
12300: LD_INT 0
12302: EQUAL
12303: AND
12304: PUSH
12305: LD_VAR 0 2
12309: PUSH
12310: LD_INT 0
12312: GREATER
12313: AND
12314: IFFALSE 12413
// begin for i in FilterAllUnits ( [ [ f_side , side ] , [ f_class , 2 ] ] ) do
12316: LD_ADDR_VAR 0 4
12320: PUSH
12321: LD_INT 22
12323: PUSH
12324: LD_VAR 0 1
12328: PUSH
12329: EMPTY
12330: LIST
12331: LIST
12332: PUSH
12333: LD_INT 25
12335: PUSH
12336: LD_INT 2
12338: PUSH
12339: EMPTY
12340: LIST
12341: LIST
12342: PUSH
12343: EMPTY
12344: LIST
12345: LIST
12346: PPUSH
12347: CALL_OW 69
12351: PUSH
12352: FOR_IN
12353: IFFALSE 12411
// begin AddComExitBuilding ( i ) ;
12355: LD_VAR 0 4
12359: PPUSH
12360: CALL_OW 182
// AddComBuild ( i , destroyedBuildings [ 1 ] , destroyedBuildings [ 2 ] , destroyedBuildings [ 3 ] , destroyedBuildings [ 4 ] ) ;
12364: LD_VAR 0 4
12368: PPUSH
12369: LD_VAR 0 2
12373: PUSH
12374: LD_INT 1
12376: ARRAY
12377: PPUSH
12378: LD_VAR 0 2
12382: PUSH
12383: LD_INT 2
12385: ARRAY
12386: PPUSH
12387: LD_VAR 0 2
12391: PUSH
12392: LD_INT 3
12394: ARRAY
12395: PPUSH
12396: LD_VAR 0 2
12400: PUSH
12401: LD_INT 4
12403: ARRAY
12404: PPUSH
12405: CALL_OW 205
// end ;
12409: GO 12352
12411: POP
12412: POP
// end ; end ;
12413: LD_VAR 0 3
12417: RET
// export function HealUnitInBase ( side , healArea , baseArea , build ) ; var sci_list , sci_listOutside , i , j , damageUnits , unitsToHeal , tmp , rnd ; begin
12418: LD_INT 0
12420: PPUSH
12421: PPUSH
12422: PPUSH
12423: PPUSH
12424: PPUSH
12425: PPUSH
12426: PPUSH
12427: PPUSH
12428: PPUSH
// sci_list = FilterAllUnits ( [ [ f_side , side ] , [ f_class , 4 ] , [ f_lives , 251 ] ] ) ;
12429: LD_ADDR_VAR 0 6
12433: PUSH
12434: LD_INT 22
12436: PUSH
12437: LD_VAR 0 1
12441: PUSH
12442: EMPTY
12443: LIST
12444: LIST
12445: PUSH
12446: LD_INT 25
12448: PUSH
12449: LD_INT 4
12451: PUSH
12452: EMPTY
12453: LIST
12454: LIST
12455: PUSH
12456: LD_INT 24
12458: PUSH
12459: LD_INT 251
12461: PUSH
12462: EMPTY
12463: LIST
12464: LIST
12465: PUSH
12466: EMPTY
12467: LIST
12468: LIST
12469: LIST
12470: PPUSH
12471: CALL_OW 69
12475: ST_TO_ADDR
// sci_listOutside = FilterUnitsInArea ( baseArea , [ [ f_side , side ] , [ f_class , 4 ] , [ f_ok ] ] ) ;
12476: LD_ADDR_VAR 0 7
12480: PUSH
12481: LD_VAR 0 3
12485: PPUSH
12486: LD_INT 22
12488: PUSH
12489: LD_VAR 0 1
12493: PUSH
12494: EMPTY
12495: LIST
12496: LIST
12497: PUSH
12498: LD_INT 25
12500: PUSH
12501: LD_INT 4
12503: PUSH
12504: EMPTY
12505: LIST
12506: LIST
12507: PUSH
12508: LD_INT 50
12510: PUSH
12511: EMPTY
12512: LIST
12513: PUSH
12514: EMPTY
12515: LIST
12516: LIST
12517: LIST
12518: PPUSH
12519: CALL_OW 70
12523: ST_TO_ADDR
// damageUnits = FilterUnitsInArea ( baseArea , [ [ f_side , side ] , [ f_type , unit_human ] , [ f_not , [ f_class , 3 ] ] , [ f_not , [ f_lives , 750 ] ] ] ) ;
12524: LD_ADDR_VAR 0 10
12528: PUSH
12529: LD_VAR 0 3
12533: PPUSH
12534: LD_INT 22
12536: PUSH
12537: LD_VAR 0 1
12541: PUSH
12542: EMPTY
12543: LIST
12544: LIST
12545: PUSH
12546: LD_INT 21
12548: PUSH
12549: LD_INT 1
12551: PUSH
12552: EMPTY
12553: LIST
12554: LIST
12555: PUSH
12556: LD_INT 3
12558: PUSH
12559: LD_INT 25
12561: PUSH
12562: LD_INT 3
12564: PUSH
12565: EMPTY
12566: LIST
12567: LIST
12568: PUSH
12569: EMPTY
12570: LIST
12571: LIST
12572: PUSH
12573: LD_INT 3
12575: PUSH
12576: LD_INT 24
12578: PUSH
12579: LD_INT 750
12581: PUSH
12582: EMPTY
12583: LIST
12584: LIST
12585: PUSH
12586: EMPTY
12587: LIST
12588: LIST
12589: PUSH
12590: EMPTY
12591: LIST
12592: LIST
12593: LIST
12594: LIST
12595: PPUSH
12596: CALL_OW 70
12600: ST_TO_ADDR
// unitsToHeal = FilterUnitsInArea ( healArea , [ [ f_side , side ] , [ f_type , unit_human ] , [ f_not , [ f_class , 3 ] ] , [ f_not , [ f_lives , 1000 ] ] ] ) ;
12601: LD_ADDR_VAR 0 11
12605: PUSH
12606: LD_VAR 0 2
12610: PPUSH
12611: LD_INT 22
12613: PUSH
12614: LD_VAR 0 1
12618: PUSH
12619: EMPTY
12620: LIST
12621: LIST
12622: PUSH
12623: LD_INT 21
12625: PUSH
12626: LD_INT 1
12628: PUSH
12629: EMPTY
12630: LIST
12631: LIST
12632: PUSH
12633: LD_INT 3
12635: PUSH
12636: LD_INT 25
12638: PUSH
12639: LD_INT 3
12641: PUSH
12642: EMPTY
12643: LIST
12644: LIST
12645: PUSH
12646: EMPTY
12647: LIST
12648: LIST
12649: PUSH
12650: LD_INT 3
12652: PUSH
12653: LD_INT 24
12655: PUSH
12656: LD_INT 1000
12658: PUSH
12659: EMPTY
12660: LIST
12661: LIST
12662: PUSH
12663: EMPTY
12664: LIST
12665: LIST
12666: PUSH
12667: EMPTY
12668: LIST
12669: LIST
12670: LIST
12671: LIST
12672: PPUSH
12673: CALL_OW 70
12677: ST_TO_ADDR
// if not damageUnits and not sci_listOutside and not unitsToHeal then
12678: LD_VAR 0 10
12682: NOT
12683: PUSH
12684: LD_VAR 0 7
12688: NOT
12689: AND
12690: PUSH
12691: LD_VAR 0 11
12695: NOT
12696: AND
12697: IFFALSE 12701
// exit ;
12699: GO 12961
// if damageUnits > 0 and sci_list > 0 then
12701: LD_VAR 0 10
12705: PUSH
12706: LD_INT 0
12708: GREATER
12709: PUSH
12710: LD_VAR 0 6
12714: PUSH
12715: LD_INT 0
12717: GREATER
12718: AND
12719: IFFALSE 12752
// for i in damageUnits do
12721: LD_ADDR_VAR 0 8
12725: PUSH
12726: LD_VAR 0 10
12730: PUSH
12731: FOR_IN
12732: IFFALSE 12750
// ComMoveToArea ( i , healArea ) ;
12734: LD_VAR 0 8
12738: PPUSH
12739: LD_VAR 0 2
12743: PPUSH
12744: CALL_OW 113
12748: GO 12731
12750: POP
12751: POP
// if unitsToHeal > 0 and sci_list > 0 then
12752: LD_VAR 0 11
12756: PUSH
12757: LD_INT 0
12759: GREATER
12760: PUSH
12761: LD_VAR 0 6
12765: PUSH
12766: LD_INT 0
12768: GREATER
12769: AND
12770: IFFALSE 12829
// begin for i in sci_list do
12772: LD_ADDR_VAR 0 8
12776: PUSH
12777: LD_VAR 0 6
12781: PUSH
12782: FOR_IN
12783: IFFALSE 12827
// begin ComExitBuilding ( i ) ;
12785: LD_VAR 0 8
12789: PPUSH
12790: CALL_OW 122
// for j in unitsToHeal do
12794: LD_ADDR_VAR 0 9
12798: PUSH
12799: LD_VAR 0 11
12803: PUSH
12804: FOR_IN
12805: IFFALSE 12823
// AddComHeal ( i , j ) ;
12807: LD_VAR 0 8
12811: PPUSH
12812: LD_VAR 0 9
12816: PPUSH
12817: CALL_OW 188
12821: GO 12804
12823: POP
12824: POP
// end ;
12825: GO 12782
12827: POP
12828: POP
// end ; if damageUnits = 0 and unitsToHeal = 0 and sci_listOutside > 0 then
12829: LD_VAR 0 10
12833: PUSH
12834: LD_INT 0
12836: EQUAL
12837: PUSH
12838: LD_VAR 0 11
12842: PUSH
12843: LD_INT 0
12845: EQUAL
12846: AND
12847: PUSH
12848: LD_VAR 0 7
12852: PUSH
12853: LD_INT 0
12855: GREATER
12856: AND
12857: IFFALSE 12961
// for i in sci_listOutside do
12859: LD_ADDR_VAR 0 8
12863: PUSH
12864: LD_VAR 0 7
12868: PUSH
12869: FOR_IN
12870: IFFALSE 12959
// begin tmp = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) ;
12872: LD_ADDR_VAR 0 12
12876: PUSH
12877: LD_INT 22
12879: PUSH
12880: LD_VAR 0 1
12884: PUSH
12885: EMPTY
12886: LIST
12887: LIST
12888: PUSH
12889: LD_INT 21
12891: PUSH
12892: LD_INT 3
12894: PUSH
12895: EMPTY
12896: LIST
12897: LIST
12898: PUSH
12899: LD_INT 30
12901: PUSH
12902: LD_INT 8
12904: PUSH
12905: EMPTY
12906: LIST
12907: LIST
12908: PUSH
12909: EMPTY
12910: LIST
12911: LIST
12912: LIST
12913: PPUSH
12914: CALL_OW 69
12918: ST_TO_ADDR
// rnd = rand ( 1 , tmp ) ;
12919: LD_ADDR_VAR 0 13
12923: PUSH
12924: LD_INT 1
12926: PPUSH
12927: LD_VAR 0 12
12931: PPUSH
12932: CALL_OW 12
12936: ST_TO_ADDR
// ComEnterUnit ( i , tmp [ rnd ] ) ;
12937: LD_VAR 0 8
12941: PPUSH
12942: LD_VAR 0 12
12946: PUSH
12947: LD_VAR 0 13
12951: ARRAY
12952: PPUSH
12953: CALL_OW 120
// end ;
12957: GO 12869
12959: POP
12960: POP
// end ;
12961: LD_VAR 0 5
12965: RET
// export function RespawnAttackVehicle ( area , side , vehCount , mehskill , nation , vehEngine , vehControl , RUWeapons , ARWeapons , AMWeapon , targetSide ) ; var i , j , un , veh , ruChassisTab , arChassisTab , amChassisTab , vehicleOK_list , target1 , target2 ; begin
12966: LD_INT 0
12968: PPUSH
12969: PPUSH
12970: PPUSH
12971: PPUSH
12972: PPUSH
12973: PPUSH
12974: PPUSH
12975: PPUSH
12976: PPUSH
12977: PPUSH
12978: PPUSH
// amChassisTab = [ ] ;
12979: LD_ADDR_VAR 0 19
12983: PUSH
12984: EMPTY
12985: ST_TO_ADDR
// arChassisTab = [ ] ;
12986: LD_ADDR_VAR 0 18
12990: PUSH
12991: EMPTY
12992: ST_TO_ADDR
// ruChassisTab = [ ] ;
12993: LD_ADDR_VAR 0 17
12997: PUSH
12998: EMPTY
12999: ST_TO_ADDR
// repeat wait ( 0 0$01 ) ;
13000: LD_INT 35
13002: PPUSH
13003: CALL_OW 67
// if nation = 1 then
13007: LD_VAR 0 5
13011: PUSH
13012: LD_INT 1
13014: EQUAL
13015: IFFALSE 13520
// begin uc_side = side ;
13017: LD_ADDR_OWVAR 20
13021: PUSH
13022: LD_VAR 0 2
13026: ST_TO_ADDR
// uc_nation = nation ;
13027: LD_ADDR_OWVAR 21
13031: PUSH
13032: LD_VAR 0 5
13036: ST_TO_ADDR
// vc_engine = vehengine ;
13037: LD_ADDR_OWVAR 39
13041: PUSH
13042: LD_VAR 0 6
13046: ST_TO_ADDR
// vc_control = vehControl [ Rand ( 1 , vehControl ) ] ;
13047: LD_ADDR_OWVAR 38
13051: PUSH
13052: LD_VAR 0 7
13056: PUSH
13057: LD_INT 1
13059: PPUSH
13060: LD_VAR 0 7
13064: PPUSH
13065: CALL_OW 12
13069: ARRAY
13070: ST_TO_ADDR
// vc_weapon = AMWeapon [ Rand ( 1 , AMWeapon ) ] ;
13071: LD_ADDR_OWVAR 40
13075: PUSH
13076: LD_VAR 0 10
13080: PUSH
13081: LD_INT 1
13083: PPUSH
13084: LD_VAR 0 10
13088: PPUSH
13089: CALL_OW 12
13093: ARRAY
13094: ST_TO_ADDR
// for j = 1 to AMWeapon do
13095: LD_ADDR_VAR 0 14
13099: PUSH
13100: DOUBLE
13101: LD_INT 1
13103: DEC
13104: ST_TO_ADDR
13105: LD_VAR 0 10
13109: PUSH
13110: FOR_TO
13111: IFFALSE 13412
// begin if AMWeapon [ j ] = 2 or AMWeapon [ j ] = 3 then
13113: LD_VAR 0 10
13117: PUSH
13118: LD_VAR 0 14
13122: ARRAY
13123: PUSH
13124: LD_INT 2
13126: EQUAL
13127: PUSH
13128: LD_VAR 0 10
13132: PUSH
13133: LD_VAR 0 14
13137: ARRAY
13138: PUSH
13139: LD_INT 3
13141: EQUAL
13142: OR
13143: IFFALSE 13196
// begin amChassisTab = [ 1 , 2 , 3 , 4 , 5 ] ;
13145: LD_ADDR_VAR 0 19
13149: PUSH
13150: LD_INT 1
13152: PUSH
13153: LD_INT 2
13155: PUSH
13156: LD_INT 3
13158: PUSH
13159: LD_INT 4
13161: PUSH
13162: LD_INT 5
13164: PUSH
13165: EMPTY
13166: LIST
13167: LIST
13168: LIST
13169: LIST
13170: LIST
13171: ST_TO_ADDR
// vc_chassis = amChassisTab [ Rand ( 1 , amChassisTab ) ] ;
13172: LD_ADDR_OWVAR 37
13176: PUSH
13177: LD_VAR 0 19
13181: PUSH
13182: LD_INT 1
13184: PPUSH
13185: LD_VAR 0 19
13189: PPUSH
13190: CALL_OW 12
13194: ARRAY
13195: ST_TO_ADDR
// end ; if AMWeapon [ j ] = 4 or AMWeapon [ j ] = 5 or AMWeapon [ j ] = 9 or AMWeapon [ j ] = 11 or AMWeapon [ j ] = 7 then
13196: LD_VAR 0 10
13200: PUSH
13201: LD_VAR 0 14
13205: ARRAY
13206: PUSH
13207: LD_INT 4
13209: EQUAL
13210: PUSH
13211: LD_VAR 0 10
13215: PUSH
13216: LD_VAR 0 14
13220: ARRAY
13221: PUSH
13222: LD_INT 5
13224: EQUAL
13225: OR
13226: PUSH
13227: LD_VAR 0 10
13231: PUSH
13232: LD_VAR 0 14
13236: ARRAY
13237: PUSH
13238: LD_INT 9
13240: EQUAL
13241: OR
13242: PUSH
13243: LD_VAR 0 10
13247: PUSH
13248: LD_VAR 0 14
13252: ARRAY
13253: PUSH
13254: LD_INT 11
13256: EQUAL
13257: OR
13258: PUSH
13259: LD_VAR 0 10
13263: PUSH
13264: LD_VAR 0 14
13268: ARRAY
13269: PUSH
13270: LD_INT 7
13272: EQUAL
13273: OR
13274: IFFALSE 13323
// begin amChassisTab = [ 2 , 3 , 4 , 5 ] ;
13276: LD_ADDR_VAR 0 19
13280: PUSH
13281: LD_INT 2
13283: PUSH
13284: LD_INT 3
13286: PUSH
13287: LD_INT 4
13289: PUSH
13290: LD_INT 5
13292: PUSH
13293: EMPTY
13294: LIST
13295: LIST
13296: LIST
13297: LIST
13298: ST_TO_ADDR
// vc_chassis = amChassisTab [ Rand ( 1 , amChassisTab ) ] ;
13299: LD_ADDR_OWVAR 37
13303: PUSH
13304: LD_VAR 0 19
13308: PUSH
13309: LD_INT 1
13311: PPUSH
13312: LD_VAR 0 19
13316: PPUSH
13317: CALL_OW 12
13321: ARRAY
13322: ST_TO_ADDR
// end ; if AMWeapon [ j ] = 8 or AMWeapon [ j ] = 6 or AMWeapon [ j ] = 10 then
13323: LD_VAR 0 10
13327: PUSH
13328: LD_VAR 0 14
13332: ARRAY
13333: PUSH
13334: LD_INT 8
13336: EQUAL
13337: PUSH
13338: LD_VAR 0 10
13342: PUSH
13343: LD_VAR 0 14
13347: ARRAY
13348: PUSH
13349: LD_INT 6
13351: EQUAL
13352: OR
13353: PUSH
13354: LD_VAR 0 10
13358: PUSH
13359: LD_VAR 0 14
13363: ARRAY
13364: PUSH
13365: LD_INT 10
13367: EQUAL
13368: OR
13369: IFFALSE 13410
// begin amChassisTab = [ 4 , 5 ] ;
13371: LD_ADDR_VAR 0 19
13375: PUSH
13376: LD_INT 4
13378: PUSH
13379: LD_INT 5
13381: PUSH
13382: EMPTY
13383: LIST
13384: LIST
13385: ST_TO_ADDR
// vc_chassis = amChassisTab [ Rand ( 1 , amChassisTab ) ] ;
13386: LD_ADDR_OWVAR 37
13390: PUSH
13391: LD_VAR 0 19
13395: PUSH
13396: LD_INT 1
13398: PPUSH
13399: LD_VAR 0 19
13403: PPUSH
13404: CALL_OW 12
13408: ARRAY
13409: ST_TO_ADDR
// end ; end ;
13410: GO 13110
13412: POP
13413: POP
// veh = CreateVehicle ;
13414: LD_ADDR_VAR 0 16
13418: PUSH
13419: CALL_OW 45
13423: ST_TO_ADDR
// PlaceUnitArea ( veh , area , false ) ;
13424: LD_VAR 0 16
13428: PPUSH
13429: LD_VAR 0 1
13433: PPUSH
13434: LD_INT 0
13436: PPUSH
13437: CALL_OW 49
// if vc_control = 1 then
13441: LD_OWVAR 38
13445: PUSH
13446: LD_INT 1
13448: EQUAL
13449: IFFALSE 13506
// begin hc_gallery =  ;
13451: LD_ADDR_OWVAR 33
13455: PUSH
13456: LD_STRING 
13458: ST_TO_ADDR
// hc_name =  ;
13459: LD_ADDR_OWVAR 26
13463: PUSH
13464: LD_STRING 
13466: ST_TO_ADDR
// PrepareHuman ( false , 3 , mehskill ) ;
13467: LD_INT 0
13469: PPUSH
13470: LD_INT 3
13472: PPUSH
13473: LD_VAR 0 4
13477: PPUSH
13478: CALL_OW 380
// un = CreateHuman ;
13482: LD_ADDR_VAR 0 15
13486: PUSH
13487: CALL_OW 44
13491: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
13492: LD_VAR 0 15
13496: PPUSH
13497: LD_VAR 0 16
13501: PPUSH
13502: CALL_OW 52
// end ; i = i + 1 ;
13506: LD_ADDR_VAR 0 13
13510: PUSH
13511: LD_VAR 0 13
13515: PUSH
13516: LD_INT 1
13518: PLUS
13519: ST_TO_ADDR
// end ; if nation = 2 then
13520: LD_VAR 0 5
13524: PUSH
13525: LD_INT 2
13527: EQUAL
13528: IFFALSE 13966
// begin uc_side = side ;
13530: LD_ADDR_OWVAR 20
13534: PUSH
13535: LD_VAR 0 2
13539: ST_TO_ADDR
// uc_nation = nation ;
13540: LD_ADDR_OWVAR 21
13544: PUSH
13545: LD_VAR 0 5
13549: ST_TO_ADDR
// vc_engine = vehengine ;
13550: LD_ADDR_OWVAR 39
13554: PUSH
13555: LD_VAR 0 6
13559: ST_TO_ADDR
// vc_control = vehControl [ Rand ( 1 , vehControl ) ] ;
13560: LD_ADDR_OWVAR 38
13564: PUSH
13565: LD_VAR 0 7
13569: PUSH
13570: LD_INT 1
13572: PPUSH
13573: LD_VAR 0 7
13577: PPUSH
13578: CALL_OW 12
13582: ARRAY
13583: ST_TO_ADDR
// vc_weapon = ARWeapons [ Rand ( 1 , ARWeapons ) ] ;
13584: LD_ADDR_OWVAR 40
13588: PUSH
13589: LD_VAR 0 9
13593: PUSH
13594: LD_INT 1
13596: PPUSH
13597: LD_VAR 0 9
13601: PPUSH
13602: CALL_OW 12
13606: ARRAY
13607: ST_TO_ADDR
// for j = 1 to ARWeapons do
13608: LD_ADDR_VAR 0 14
13612: PUSH
13613: DOUBLE
13614: LD_INT 1
13616: DEC
13617: ST_TO_ADDR
13618: LD_VAR 0 9
13622: PUSH
13623: FOR_TO
13624: IFFALSE 13858
// begin if ARWeapons [ j ] = 24 or ARWeapons [ j ] = 22 or ARWeapons [ j ] = 23 or ARWeapons [ j ] = 30 then
13626: LD_VAR 0 9
13630: PUSH
13631: LD_VAR 0 14
13635: ARRAY
13636: PUSH
13637: LD_INT 24
13639: EQUAL
13640: PUSH
13641: LD_VAR 0 9
13645: PUSH
13646: LD_VAR 0 14
13650: ARRAY
13651: PUSH
13652: LD_INT 22
13654: EQUAL
13655: OR
13656: PUSH
13657: LD_VAR 0 9
13661: PUSH
13662: LD_VAR 0 14
13666: ARRAY
13667: PUSH
13668: LD_INT 23
13670: EQUAL
13671: OR
13672: PUSH
13673: LD_VAR 0 9
13677: PUSH
13678: LD_VAR 0 14
13682: ARRAY
13683: PUSH
13684: LD_INT 30
13686: EQUAL
13687: OR
13688: IFFALSE 13737
// begin arChassisTab = [ 11 , 12 , 13 , 14 ] ;
13690: LD_ADDR_VAR 0 18
13694: PUSH
13695: LD_INT 11
13697: PUSH
13698: LD_INT 12
13700: PUSH
13701: LD_INT 13
13703: PUSH
13704: LD_INT 14
13706: PUSH
13707: EMPTY
13708: LIST
13709: LIST
13710: LIST
13711: LIST
13712: ST_TO_ADDR
// vc_chassis = arChassisTab [ Rand ( 1 , arChassisTab ) ] ;
13713: LD_ADDR_OWVAR 37
13717: PUSH
13718: LD_VAR 0 18
13722: PUSH
13723: LD_INT 1
13725: PPUSH
13726: LD_VAR 0 18
13730: PPUSH
13731: CALL_OW 12
13735: ARRAY
13736: ST_TO_ADDR
// end ; if ARWeapons [ j ] = 29 or ARWeapons [ j ] = 28 or ARWeapons [ j ] = 27 or ARWeapons [ j ] = 26 or ARWeapons [ j ] = 25 then
13737: LD_VAR 0 9
13741: PUSH
13742: LD_VAR 0 14
13746: ARRAY
13747: PUSH
13748: LD_INT 29
13750: EQUAL
13751: PUSH
13752: LD_VAR 0 9
13756: PUSH
13757: LD_VAR 0 14
13761: ARRAY
13762: PUSH
13763: LD_INT 28
13765: EQUAL
13766: OR
13767: PUSH
13768: LD_VAR 0 9
13772: PUSH
13773: LD_VAR 0 14
13777: ARRAY
13778: PUSH
13779: LD_INT 27
13781: EQUAL
13782: OR
13783: PUSH
13784: LD_VAR 0 9
13788: PUSH
13789: LD_VAR 0 14
13793: ARRAY
13794: PUSH
13795: LD_INT 26
13797: EQUAL
13798: OR
13799: PUSH
13800: LD_VAR 0 9
13804: PUSH
13805: LD_VAR 0 14
13809: ARRAY
13810: PUSH
13811: LD_INT 25
13813: EQUAL
13814: OR
13815: IFFALSE 13856
// begin arChassisTab = [ 13 , 14 ] ;
13817: LD_ADDR_VAR 0 18
13821: PUSH
13822: LD_INT 13
13824: PUSH
13825: LD_INT 14
13827: PUSH
13828: EMPTY
13829: LIST
13830: LIST
13831: ST_TO_ADDR
// vc_chassis = arChassisTab [ Rand ( 1 , arChassisTab ) ] ;
13832: LD_ADDR_OWVAR 37
13836: PUSH
13837: LD_VAR 0 18
13841: PUSH
13842: LD_INT 1
13844: PPUSH
13845: LD_VAR 0 18
13849: PPUSH
13850: CALL_OW 12
13854: ARRAY
13855: ST_TO_ADDR
// end ; end ;
13856: GO 13623
13858: POP
13859: POP
// veh = CreateVehicle ;
13860: LD_ADDR_VAR 0 16
13864: PUSH
13865: CALL_OW 45
13869: ST_TO_ADDR
// PlaceUnitArea ( veh , area , false ) ;
13870: LD_VAR 0 16
13874: PPUSH
13875: LD_VAR 0 1
13879: PPUSH
13880: LD_INT 0
13882: PPUSH
13883: CALL_OW 49
// if vc_control = 1 then
13887: LD_OWVAR 38
13891: PUSH
13892: LD_INT 1
13894: EQUAL
13895: IFFALSE 13952
// begin hc_gallery =  ;
13897: LD_ADDR_OWVAR 33
13901: PUSH
13902: LD_STRING 
13904: ST_TO_ADDR
// hc_name =  ;
13905: LD_ADDR_OWVAR 26
13909: PUSH
13910: LD_STRING 
13912: ST_TO_ADDR
// PrepareHuman ( false , 3 , mehskill ) ;
13913: LD_INT 0
13915: PPUSH
13916: LD_INT 3
13918: PPUSH
13919: LD_VAR 0 4
13923: PPUSH
13924: CALL_OW 380
// un = CreateHuman ;
13928: LD_ADDR_VAR 0 15
13932: PUSH
13933: CALL_OW 44
13937: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
13938: LD_VAR 0 15
13942: PPUSH
13943: LD_VAR 0 16
13947: PPUSH
13948: CALL_OW 52
// end ; i = i + 1 ;
13952: LD_ADDR_VAR 0 13
13956: PUSH
13957: LD_VAR 0 13
13961: PUSH
13962: LD_INT 1
13964: PLUS
13965: ST_TO_ADDR
// end ; if nation = 3 then
13966: LD_VAR 0 5
13970: PUSH
13971: LD_INT 3
13973: EQUAL
13974: IFFALSE 14380
// begin uc_side = side ;
13976: LD_ADDR_OWVAR 20
13980: PUSH
13981: LD_VAR 0 2
13985: ST_TO_ADDR
// uc_nation = nation ;
13986: LD_ADDR_OWVAR 21
13990: PUSH
13991: LD_VAR 0 5
13995: ST_TO_ADDR
// vc_engine = vehengine ;
13996: LD_ADDR_OWVAR 39
14000: PUSH
14001: LD_VAR 0 6
14005: ST_TO_ADDR
// vc_control = vehControl [ Rand ( 1 , vehControl ) ] ;
14006: LD_ADDR_OWVAR 38
14010: PUSH
14011: LD_VAR 0 7
14015: PUSH
14016: LD_INT 1
14018: PPUSH
14019: LD_VAR 0 7
14023: PPUSH
14024: CALL_OW 12
14028: ARRAY
14029: ST_TO_ADDR
// vc_weapon = RUWeapons [ Rand ( 1 , RUWeapons ) ] ;
14030: LD_ADDR_OWVAR 40
14034: PUSH
14035: LD_VAR 0 8
14039: PUSH
14040: LD_INT 1
14042: PPUSH
14043: LD_VAR 0 8
14047: PPUSH
14048: CALL_OW 12
14052: ARRAY
14053: ST_TO_ADDR
// for j = 1 to RuWeapons do
14054: LD_ADDR_VAR 0 14
14058: PUSH
14059: DOUBLE
14060: LD_INT 1
14062: DEC
14063: ST_TO_ADDR
14064: LD_VAR 0 8
14068: PUSH
14069: FOR_TO
14070: IFFALSE 14272
// begin if RUWeapons [ j ] = 42 or RUWeapons [ j ] = 43 or RUWeapons [ j ] = 44 or RUWeapons [ j ] = 45 or RUWeapons [ j ] = 49 then
14072: LD_VAR 0 8
14076: PUSH
14077: LD_VAR 0 14
14081: ARRAY
14082: PUSH
14083: LD_INT 42
14085: EQUAL
14086: PUSH
14087: LD_VAR 0 8
14091: PUSH
14092: LD_VAR 0 14
14096: ARRAY
14097: PUSH
14098: LD_INT 43
14100: EQUAL
14101: OR
14102: PUSH
14103: LD_VAR 0 8
14107: PUSH
14108: LD_VAR 0 14
14112: ARRAY
14113: PUSH
14114: LD_INT 44
14116: EQUAL
14117: OR
14118: PUSH
14119: LD_VAR 0 8
14123: PUSH
14124: LD_VAR 0 14
14128: ARRAY
14129: PUSH
14130: LD_INT 45
14132: EQUAL
14133: OR
14134: PUSH
14135: LD_VAR 0 8
14139: PUSH
14140: LD_VAR 0 14
14144: ARRAY
14145: PUSH
14146: LD_INT 49
14148: EQUAL
14149: OR
14150: IFFALSE 14199
// begin ruChassisTab = [ 21 , 22 , 23 , 24 ] ;
14152: LD_ADDR_VAR 0 17
14156: PUSH
14157: LD_INT 21
14159: PUSH
14160: LD_INT 22
14162: PUSH
14163: LD_INT 23
14165: PUSH
14166: LD_INT 24
14168: PUSH
14169: EMPTY
14170: LIST
14171: LIST
14172: LIST
14173: LIST
14174: ST_TO_ADDR
// vc_chassis = ruChassisTab [ Rand ( 1 , ruChassisTab ) ] ;
14175: LD_ADDR_OWVAR 37
14179: PUSH
14180: LD_VAR 0 17
14184: PUSH
14185: LD_INT 1
14187: PPUSH
14188: LD_VAR 0 17
14192: PPUSH
14193: CALL_OW 12
14197: ARRAY
14198: ST_TO_ADDR
// end ; if RUWeapons [ j ] = 46 or RUWeapons [ j ] = 47 then
14199: LD_VAR 0 8
14203: PUSH
14204: LD_VAR 0 14
14208: ARRAY
14209: PUSH
14210: LD_INT 46
14212: EQUAL
14213: PUSH
14214: LD_VAR 0 8
14218: PUSH
14219: LD_VAR 0 14
14223: ARRAY
14224: PUSH
14225: LD_INT 47
14227: EQUAL
14228: OR
14229: IFFALSE 14270
// begin ruChassisTab = [ 23 , 24 ] ;
14231: LD_ADDR_VAR 0 17
14235: PUSH
14236: LD_INT 23
14238: PUSH
14239: LD_INT 24
14241: PUSH
14242: EMPTY
14243: LIST
14244: LIST
14245: ST_TO_ADDR
// vc_chassis = ruChassisTab [ Rand ( 1 , ruChassisTab ) ] ;
14246: LD_ADDR_OWVAR 37
14250: PUSH
14251: LD_VAR 0 17
14255: PUSH
14256: LD_INT 1
14258: PPUSH
14259: LD_VAR 0 17
14263: PPUSH
14264: CALL_OW 12
14268: ARRAY
14269: ST_TO_ADDR
// end ; end ;
14270: GO 14069
14272: POP
14273: POP
// veh = CreateVehicle ;
14274: LD_ADDR_VAR 0 16
14278: PUSH
14279: CALL_OW 45
14283: ST_TO_ADDR
// PlaceUnitArea ( veh , area , false ) ;
14284: LD_VAR 0 16
14288: PPUSH
14289: LD_VAR 0 1
14293: PPUSH
14294: LD_INT 0
14296: PPUSH
14297: CALL_OW 49
// if vc_control = 1 then
14301: LD_OWVAR 38
14305: PUSH
14306: LD_INT 1
14308: EQUAL
14309: IFFALSE 14366
// begin hc_gallery =  ;
14311: LD_ADDR_OWVAR 33
14315: PUSH
14316: LD_STRING 
14318: ST_TO_ADDR
// hc_name =  ;
14319: LD_ADDR_OWVAR 26
14323: PUSH
14324: LD_STRING 
14326: ST_TO_ADDR
// PrepareHuman ( false , 3 , mehskill ) ;
14327: LD_INT 0
14329: PPUSH
14330: LD_INT 3
14332: PPUSH
14333: LD_VAR 0 4
14337: PPUSH
14338: CALL_OW 380
// un = CreateHuman ;
14342: LD_ADDR_VAR 0 15
14346: PUSH
14347: CALL_OW 44
14351: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
14352: LD_VAR 0 15
14356: PPUSH
14357: LD_VAR 0 16
14361: PPUSH
14362: CALL_OW 52
// end ; i = i + 1 ;
14366: LD_ADDR_VAR 0 13
14370: PUSH
14371: LD_VAR 0 13
14375: PUSH
14376: LD_INT 1
14378: PLUS
14379: ST_TO_ADDR
// end ; until i = vehCount ;
14380: LD_VAR 0 13
14384: PUSH
14385: LD_VAR 0 3
14389: EQUAL
14390: IFFALSE 13000
// repeat wait ( 0 0$1 ) ;
14392: LD_INT 35
14394: PPUSH
14395: CALL_OW 67
// vehicleOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 650 ] ] ) ;
14399: LD_ADDR_VAR 0 20
14403: PUSH
14404: LD_INT 22
14406: PUSH
14407: LD_VAR 0 2
14411: PUSH
14412: EMPTY
14413: LIST
14414: LIST
14415: PUSH
14416: LD_INT 21
14418: PUSH
14419: LD_INT 2
14421: PUSH
14422: EMPTY
14423: LIST
14424: LIST
14425: PUSH
14426: LD_INT 24
14428: PUSH
14429: LD_INT 650
14431: PUSH
14432: EMPTY
14433: LIST
14434: LIST
14435: PUSH
14436: EMPTY
14437: LIST
14438: LIST
14439: LIST
14440: PPUSH
14441: CALL_OW 69
14445: ST_TO_ADDR
// if vehicleOK_list > 0 then
14446: LD_VAR 0 20
14450: PUSH
14451: LD_INT 0
14453: GREATER
14454: IFFALSE 14645
// begin for i in vehicleOK_list do
14456: LD_ADDR_VAR 0 13
14460: PUSH
14461: LD_VAR 0 20
14465: PUSH
14466: FOR_IN
14467: IFFALSE 14643
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) , i ) ;
14469: LD_ADDR_VAR 0 21
14473: PUSH
14474: LD_INT 22
14476: PUSH
14477: LD_VAR 0 11
14481: PUSH
14482: EMPTY
14483: LIST
14484: LIST
14485: PPUSH
14486: CALL_OW 69
14490: PPUSH
14491: LD_VAR 0 13
14495: PPUSH
14496: CALL_OW 74
14500: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
14501: LD_ADDR_VAR 0 22
14505: PUSH
14506: LD_INT 22
14508: PUSH
14509: LD_VAR 0 11
14513: PUSH
14514: EMPTY
14515: LIST
14516: LIST
14517: PUSH
14518: LD_INT 2
14520: PUSH
14521: LD_INT 59
14523: PUSH
14524: EMPTY
14525: LIST
14526: PUSH
14527: LD_INT 21
14529: PUSH
14530: LD_INT 1
14532: PUSH
14533: EMPTY
14534: LIST
14535: LIST
14536: PUSH
14537: LD_INT 21
14539: PUSH
14540: LD_INT 2
14542: PUSH
14543: EMPTY
14544: LIST
14545: LIST
14546: PUSH
14547: EMPTY
14548: LIST
14549: LIST
14550: LIST
14551: LIST
14552: PUSH
14553: EMPTY
14554: LIST
14555: LIST
14556: PUSH
14557: EMPTY
14558: LIST
14559: PPUSH
14560: CALL_OW 69
14564: PPUSH
14565: LD_VAR 0 13
14569: PPUSH
14570: CALL_OW 74
14574: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
14575: LD_VAR 0 13
14579: PPUSH
14580: LD_VAR 0 21
14584: PPUSH
14585: CALL_OW 296
14589: PUSH
14590: LD_INT 8
14592: PLUS
14593: PUSH
14594: LD_VAR 0 13
14598: PPUSH
14599: LD_VAR 0 22
14603: PPUSH
14604: CALL_OW 296
14608: LESS
14609: IFFALSE 14627
// begin ComAttackUnit ( i , target1 ) ;
14611: LD_VAR 0 13
14615: PPUSH
14616: LD_VAR 0 21
14620: PPUSH
14621: CALL_OW 115
// end else
14625: GO 14641
// begin ComAttackUnit ( i , target2 ) ;
14627: LD_VAR 0 13
14631: PPUSH
14632: LD_VAR 0 22
14636: PPUSH
14637: CALL_OW 115
// end ; end ;
14641: GO 14466
14643: POP
14644: POP
// end ; until ( FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] ] ) ) = 0 ;
14645: LD_INT 22
14647: PUSH
14648: LD_VAR 0 2
14652: PUSH
14653: EMPTY
14654: LIST
14655: LIST
14656: PUSH
14657: LD_INT 21
14659: PUSH
14660: LD_INT 2
14662: PUSH
14663: EMPTY
14664: LIST
14665: LIST
14666: PUSH
14667: EMPTY
14668: LIST
14669: LIST
14670: PPUSH
14671: CALL_OW 69
14675: PUSH
14676: LD_INT 0
14678: EQUAL
14679: IFFALSE 14392
// end ;
14681: LD_VAR 0 12
14685: RET
// export function RespawnAttackInfantry ( side , nation , soldierCount , sniperCount , bazookCount , mortalCount , medicCount , skil , spawnArea , healArea , targetSide ) ; var i , j , un , damageUnit_list , medic_list , soldiersOK_list , enemyUnits , und , target1 , target2 ; begin
14686: LD_INT 0
14688: PPUSH
14689: PPUSH
14690: PPUSH
14691: PPUSH
14692: PPUSH
14693: PPUSH
14694: PPUSH
14695: PPUSH
14696: PPUSH
14697: PPUSH
14698: PPUSH
// for i = 1 to soldierCount do
14699: LD_ADDR_VAR 0 13
14703: PUSH
14704: DOUBLE
14705: LD_INT 1
14707: DEC
14708: ST_TO_ADDR
14709: LD_VAR 0 3
14713: PUSH
14714: FOR_TO
14715: IFFALSE 14797
// begin uc_side = side ;
14717: LD_ADDR_OWVAR 20
14721: PUSH
14722: LD_VAR 0 1
14726: ST_TO_ADDR
// uc_nation = nation ;
14727: LD_ADDR_OWVAR 21
14731: PUSH
14732: LD_VAR 0 2
14736: ST_TO_ADDR
// hc_name =  ;
14737: LD_ADDR_OWVAR 26
14741: PUSH
14742: LD_STRING 
14744: ST_TO_ADDR
// hc_gallery =  ;
14745: LD_ADDR_OWVAR 33
14749: PUSH
14750: LD_STRING 
14752: ST_TO_ADDR
// PrepareHuman ( false , 1 , skil ) ;
14753: LD_INT 0
14755: PPUSH
14756: LD_INT 1
14758: PPUSH
14759: LD_VAR 0 8
14763: PPUSH
14764: CALL_OW 380
// un = CreateHuman ;
14768: LD_ADDR_VAR 0 15
14772: PUSH
14773: CALL_OW 44
14777: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
14778: LD_VAR 0 15
14782: PPUSH
14783: LD_VAR 0 9
14787: PPUSH
14788: LD_INT 0
14790: PPUSH
14791: CALL_OW 49
// end ;
14795: GO 14714
14797: POP
14798: POP
// for i = 1 to sniperCount do
14799: LD_ADDR_VAR 0 13
14803: PUSH
14804: DOUBLE
14805: LD_INT 1
14807: DEC
14808: ST_TO_ADDR
14809: LD_VAR 0 4
14813: PUSH
14814: FOR_TO
14815: IFFALSE 14897
// begin uc_side = side ;
14817: LD_ADDR_OWVAR 20
14821: PUSH
14822: LD_VAR 0 1
14826: ST_TO_ADDR
// uc_nation = nation ;
14827: LD_ADDR_OWVAR 21
14831: PUSH
14832: LD_VAR 0 2
14836: ST_TO_ADDR
// hc_name =  ;
14837: LD_ADDR_OWVAR 26
14841: PUSH
14842: LD_STRING 
14844: ST_TO_ADDR
// hc_gallery =  ;
14845: LD_ADDR_OWVAR 33
14849: PUSH
14850: LD_STRING 
14852: ST_TO_ADDR
// PrepareHuman ( false , 5 , skil ) ;
14853: LD_INT 0
14855: PPUSH
14856: LD_INT 5
14858: PPUSH
14859: LD_VAR 0 8
14863: PPUSH
14864: CALL_OW 380
// un = CreateHuman ;
14868: LD_ADDR_VAR 0 15
14872: PUSH
14873: CALL_OW 44
14877: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
14878: LD_VAR 0 15
14882: PPUSH
14883: LD_VAR 0 9
14887: PPUSH
14888: LD_INT 0
14890: PPUSH
14891: CALL_OW 49
// end ;
14895: GO 14814
14897: POP
14898: POP
// for i = 1 to bazookCount do
14899: LD_ADDR_VAR 0 13
14903: PUSH
14904: DOUBLE
14905: LD_INT 1
14907: DEC
14908: ST_TO_ADDR
14909: LD_VAR 0 5
14913: PUSH
14914: FOR_TO
14915: IFFALSE 14997
// begin uc_side = side ;
14917: LD_ADDR_OWVAR 20
14921: PUSH
14922: LD_VAR 0 1
14926: ST_TO_ADDR
// uc_nation = nation ;
14927: LD_ADDR_OWVAR 21
14931: PUSH
14932: LD_VAR 0 2
14936: ST_TO_ADDR
// hc_name =  ;
14937: LD_ADDR_OWVAR 26
14941: PUSH
14942: LD_STRING 
14944: ST_TO_ADDR
// hc_gallery =  ;
14945: LD_ADDR_OWVAR 33
14949: PUSH
14950: LD_STRING 
14952: ST_TO_ADDR
// PrepareHuman ( false , 9 , skil ) ;
14953: LD_INT 0
14955: PPUSH
14956: LD_INT 9
14958: PPUSH
14959: LD_VAR 0 8
14963: PPUSH
14964: CALL_OW 380
// un = CreateHuman ;
14968: LD_ADDR_VAR 0 15
14972: PUSH
14973: CALL_OW 44
14977: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
14978: LD_VAR 0 15
14982: PPUSH
14983: LD_VAR 0 9
14987: PPUSH
14988: LD_INT 0
14990: PPUSH
14991: CALL_OW 49
// end ;
14995: GO 14914
14997: POP
14998: POP
// for i = 1 to mortalCount do
14999: LD_ADDR_VAR 0 13
15003: PUSH
15004: DOUBLE
15005: LD_INT 1
15007: DEC
15008: ST_TO_ADDR
15009: LD_VAR 0 6
15013: PUSH
15014: FOR_TO
15015: IFFALSE 15097
// begin uc_side = side ;
15017: LD_ADDR_OWVAR 20
15021: PUSH
15022: LD_VAR 0 1
15026: ST_TO_ADDR
// uc_nation = nation ;
15027: LD_ADDR_OWVAR 21
15031: PUSH
15032: LD_VAR 0 2
15036: ST_TO_ADDR
// hc_name =  ;
15037: LD_ADDR_OWVAR 26
15041: PUSH
15042: LD_STRING 
15044: ST_TO_ADDR
// hc_gallery =  ;
15045: LD_ADDR_OWVAR 33
15049: PUSH
15050: LD_STRING 
15052: ST_TO_ADDR
// PrepareHuman ( false , 8 , skil ) ;
15053: LD_INT 0
15055: PPUSH
15056: LD_INT 8
15058: PPUSH
15059: LD_VAR 0 8
15063: PPUSH
15064: CALL_OW 380
// un = CreateHuman ;
15068: LD_ADDR_VAR 0 15
15072: PUSH
15073: CALL_OW 44
15077: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
15078: LD_VAR 0 15
15082: PPUSH
15083: LD_VAR 0 9
15087: PPUSH
15088: LD_INT 0
15090: PPUSH
15091: CALL_OW 49
// end ;
15095: GO 15014
15097: POP
15098: POP
// soldiersOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] ] ) ;
15099: LD_ADDR_VAR 0 18
15103: PUSH
15104: LD_INT 22
15106: PUSH
15107: LD_VAR 0 1
15111: PUSH
15112: EMPTY
15113: LIST
15114: LIST
15115: PUSH
15116: LD_INT 2
15118: PUSH
15119: LD_INT 25
15121: PUSH
15122: LD_INT 1
15124: PUSH
15125: EMPTY
15126: LIST
15127: LIST
15128: PUSH
15129: LD_INT 25
15131: PUSH
15132: LD_INT 5
15134: PUSH
15135: EMPTY
15136: LIST
15137: LIST
15138: PUSH
15139: LD_INT 25
15141: PUSH
15142: LD_INT 8
15144: PUSH
15145: EMPTY
15146: LIST
15147: LIST
15148: PUSH
15149: LD_INT 25
15151: PUSH
15152: LD_INT 9
15154: PUSH
15155: EMPTY
15156: LIST
15157: LIST
15158: PUSH
15159: EMPTY
15160: LIST
15161: LIST
15162: LIST
15163: LIST
15164: LIST
15165: PUSH
15166: EMPTY
15167: LIST
15168: LIST
15169: PPUSH
15170: CALL_OW 69
15174: ST_TO_ADDR
// medic_list = FilterAllUnits ( [ [ f_side , side ] , [ f_class , 4 ] ] ) ;
15175: LD_ADDR_VAR 0 17
15179: PUSH
15180: LD_INT 22
15182: PUSH
15183: LD_VAR 0 1
15187: PUSH
15188: EMPTY
15189: LIST
15190: LIST
15191: PUSH
15192: LD_INT 25
15194: PUSH
15195: LD_INT 4
15197: PUSH
15198: EMPTY
15199: LIST
15200: LIST
15201: PUSH
15202: EMPTY
15203: LIST
15204: LIST
15205: PPUSH
15206: CALL_OW 69
15210: ST_TO_ADDR
// for i in medic_list do
15211: LD_ADDR_VAR 0 13
15215: PUSH
15216: LD_VAR 0 17
15220: PUSH
15221: FOR_IN
15222: IFFALSE 15240
// ComMoveToArea ( i , healArea ) ;
15224: LD_VAR 0 13
15228: PPUSH
15229: LD_VAR 0 10
15233: PPUSH
15234: CALL_OW 113
15238: GO 15221
15240: POP
15241: POP
// repeat wait ( 0 0$1 ) ;
15242: LD_INT 35
15244: PPUSH
15245: CALL_OW 67
// damageUnit_list = FilterAllUnits ( [ [ f_side , side ] , [ f_and , [ f_not , [ f_lives , 550 ] ] , [ f_lives , 250 ] ] ] ) ;
15249: LD_ADDR_VAR 0 16
15253: PUSH
15254: LD_INT 22
15256: PUSH
15257: LD_VAR 0 1
15261: PUSH
15262: EMPTY
15263: LIST
15264: LIST
15265: PUSH
15266: LD_INT 1
15268: PUSH
15269: LD_INT 3
15271: PUSH
15272: LD_INT 24
15274: PUSH
15275: LD_INT 550
15277: PUSH
15278: EMPTY
15279: LIST
15280: LIST
15281: PUSH
15282: EMPTY
15283: LIST
15284: LIST
15285: PUSH
15286: LD_INT 24
15288: PUSH
15289: LD_INT 250
15291: PUSH
15292: EMPTY
15293: LIST
15294: LIST
15295: PUSH
15296: EMPTY
15297: LIST
15298: LIST
15299: LIST
15300: PUSH
15301: EMPTY
15302: LIST
15303: LIST
15304: PPUSH
15305: CALL_OW 69
15309: ST_TO_ADDR
// soldiersOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] , [ f_lives , 1000 ] ] ) ;
15310: LD_ADDR_VAR 0 18
15314: PUSH
15315: LD_INT 22
15317: PUSH
15318: LD_VAR 0 1
15322: PUSH
15323: EMPTY
15324: LIST
15325: LIST
15326: PUSH
15327: LD_INT 2
15329: PUSH
15330: LD_INT 25
15332: PUSH
15333: LD_INT 1
15335: PUSH
15336: EMPTY
15337: LIST
15338: LIST
15339: PUSH
15340: LD_INT 25
15342: PUSH
15343: LD_INT 5
15345: PUSH
15346: EMPTY
15347: LIST
15348: LIST
15349: PUSH
15350: LD_INT 25
15352: PUSH
15353: LD_INT 8
15355: PUSH
15356: EMPTY
15357: LIST
15358: LIST
15359: PUSH
15360: LD_INT 25
15362: PUSH
15363: LD_INT 9
15365: PUSH
15366: EMPTY
15367: LIST
15368: LIST
15369: PUSH
15370: EMPTY
15371: LIST
15372: LIST
15373: LIST
15374: LIST
15375: LIST
15376: PUSH
15377: LD_INT 24
15379: PUSH
15380: LD_INT 1000
15382: PUSH
15383: EMPTY
15384: LIST
15385: LIST
15386: PUSH
15387: EMPTY
15388: LIST
15389: LIST
15390: LIST
15391: PPUSH
15392: CALL_OW 69
15396: ST_TO_ADDR
// if medicCount > 0 then
15397: LD_VAR 0 7
15401: PUSH
15402: LD_INT 0
15404: GREATER
15405: IFFALSE 15479
// begin if damageUnit_list > 0 then
15407: LD_VAR 0 16
15411: PUSH
15412: LD_INT 0
15414: GREATER
15415: IFFALSE 15479
// begin for i in damageUnit_list do
15417: LD_ADDR_VAR 0 13
15421: PUSH
15422: LD_VAR 0 16
15426: PUSH
15427: FOR_IN
15428: IFFALSE 15477
// begin ComMoveToArea ( i , healArea ) ;
15430: LD_VAR 0 13
15434: PPUSH
15435: LD_VAR 0 10
15439: PPUSH
15440: CALL_OW 113
// for j in medic_list do
15444: LD_ADDR_VAR 0 14
15448: PUSH
15449: LD_VAR 0 17
15453: PUSH
15454: FOR_IN
15455: IFFALSE 15473
// AddComHeal ( j , i ) ;
15457: LD_VAR 0 14
15461: PPUSH
15462: LD_VAR 0 13
15466: PPUSH
15467: CALL_OW 188
15471: GO 15454
15473: POP
15474: POP
// end ;
15475: GO 15427
15477: POP
15478: POP
// end ; end ; for i in soldiersOK_list do
15479: LD_ADDR_VAR 0 13
15483: PUSH
15484: LD_VAR 0 18
15488: PUSH
15489: FOR_IN
15490: IFFALSE 15666
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) , i ) ;
15492: LD_ADDR_VAR 0 21
15496: PUSH
15497: LD_INT 22
15499: PUSH
15500: LD_VAR 0 11
15504: PUSH
15505: EMPTY
15506: LIST
15507: LIST
15508: PPUSH
15509: CALL_OW 69
15513: PPUSH
15514: LD_VAR 0 13
15518: PPUSH
15519: CALL_OW 74
15523: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
15524: LD_ADDR_VAR 0 22
15528: PUSH
15529: LD_INT 22
15531: PUSH
15532: LD_VAR 0 11
15536: PUSH
15537: EMPTY
15538: LIST
15539: LIST
15540: PUSH
15541: LD_INT 2
15543: PUSH
15544: LD_INT 59
15546: PUSH
15547: EMPTY
15548: LIST
15549: PUSH
15550: LD_INT 21
15552: PUSH
15553: LD_INT 1
15555: PUSH
15556: EMPTY
15557: LIST
15558: LIST
15559: PUSH
15560: LD_INT 21
15562: PUSH
15563: LD_INT 2
15565: PUSH
15566: EMPTY
15567: LIST
15568: LIST
15569: PUSH
15570: EMPTY
15571: LIST
15572: LIST
15573: LIST
15574: LIST
15575: PUSH
15576: EMPTY
15577: LIST
15578: LIST
15579: PUSH
15580: EMPTY
15581: LIST
15582: PPUSH
15583: CALL_OW 69
15587: PPUSH
15588: LD_VAR 0 13
15592: PPUSH
15593: CALL_OW 74
15597: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
15598: LD_VAR 0 13
15602: PPUSH
15603: LD_VAR 0 21
15607: PPUSH
15608: CALL_OW 296
15612: PUSH
15613: LD_INT 8
15615: PLUS
15616: PUSH
15617: LD_VAR 0 13
15621: PPUSH
15622: LD_VAR 0 22
15626: PPUSH
15627: CALL_OW 296
15631: LESS
15632: IFFALSE 15650
// begin ComAttackUnit ( i , target1 ) ;
15634: LD_VAR 0 13
15638: PPUSH
15639: LD_VAR 0 21
15643: PPUSH
15644: CALL_OW 115
// end else
15648: GO 15664
// begin ComAttackUnit ( i , target2 ) ;
15650: LD_VAR 0 13
15654: PPUSH
15655: LD_VAR 0 22
15659: PPUSH
15660: CALL_OW 115
// end ; end ;
15664: GO 15489
15666: POP
15667: POP
// for i in soldiersOK_list do
15668: LD_ADDR_VAR 0 13
15672: PUSH
15673: LD_VAR 0 18
15677: PUSH
15678: FOR_IN
15679: IFFALSE 15855
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) , i ) ;
15681: LD_ADDR_VAR 0 21
15685: PUSH
15686: LD_INT 22
15688: PUSH
15689: LD_VAR 0 11
15693: PUSH
15694: EMPTY
15695: LIST
15696: LIST
15697: PPUSH
15698: CALL_OW 69
15702: PPUSH
15703: LD_VAR 0 13
15707: PPUSH
15708: CALL_OW 74
15712: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
15713: LD_ADDR_VAR 0 22
15717: PUSH
15718: LD_INT 22
15720: PUSH
15721: LD_VAR 0 11
15725: PUSH
15726: EMPTY
15727: LIST
15728: LIST
15729: PUSH
15730: LD_INT 2
15732: PUSH
15733: LD_INT 59
15735: PUSH
15736: EMPTY
15737: LIST
15738: PUSH
15739: LD_INT 21
15741: PUSH
15742: LD_INT 1
15744: PUSH
15745: EMPTY
15746: LIST
15747: LIST
15748: PUSH
15749: LD_INT 21
15751: PUSH
15752: LD_INT 2
15754: PUSH
15755: EMPTY
15756: LIST
15757: LIST
15758: PUSH
15759: EMPTY
15760: LIST
15761: LIST
15762: LIST
15763: LIST
15764: PUSH
15765: EMPTY
15766: LIST
15767: LIST
15768: PUSH
15769: EMPTY
15770: LIST
15771: PPUSH
15772: CALL_OW 69
15776: PPUSH
15777: LD_VAR 0 13
15781: PPUSH
15782: CALL_OW 74
15786: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
15787: LD_VAR 0 13
15791: PPUSH
15792: LD_VAR 0 21
15796: PPUSH
15797: CALL_OW 296
15801: PUSH
15802: LD_INT 8
15804: PLUS
15805: PUSH
15806: LD_VAR 0 13
15810: PPUSH
15811: LD_VAR 0 22
15815: PPUSH
15816: CALL_OW 296
15820: LESS
15821: IFFALSE 15839
// begin ComAttackUnit ( i , target1 ) ;
15823: LD_VAR 0 13
15827: PPUSH
15828: LD_VAR 0 21
15832: PPUSH
15833: CALL_OW 115
// end else
15837: GO 15853
// begin ComAttackUnit ( i , target2 ) ;
15839: LD_VAR 0 13
15843: PPUSH
15844: LD_VAR 0 22
15848: PPUSH
15849: CALL_OW 115
// end ; end ;
15853: GO 15678
15855: POP
15856: POP
// until soldiersOK_list = [ ] ;
15857: LD_VAR 0 18
15861: PUSH
15862: EMPTY
15863: EQUAL
15864: IFFALSE 15242
// end ;
15866: LD_VAR 0 12
15870: RET
// export function TameApemans ; var i , j ; begin
15871: LD_INT 0
15873: PPUSH
15874: PPUSH
15875: PPUSH
// repeat wait ( 0 0$1 ) ;
15876: LD_INT 35
15878: PPUSH
15879: CALL_OW 67
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 4 ] ] ) do
15883: LD_ADDR_VAR 0 2
15887: PUSH
15888: LD_INT 22
15890: PUSH
15891: LD_INT 2
15893: PUSH
15894: EMPTY
15895: LIST
15896: LIST
15897: PUSH
15898: LD_INT 25
15900: PUSH
15901: LD_INT 4
15903: PUSH
15904: EMPTY
15905: LIST
15906: LIST
15907: PUSH
15908: EMPTY
15909: LIST
15910: LIST
15911: PPUSH
15912: CALL_OW 69
15916: PUSH
15917: FOR_IN
15918: IFFALSE 15995
// begin for j in FilterUnitsInArea ( NatureArea1 , [ [ f_side , 0 ] , [ f_class , 12 ] ] ) do
15920: LD_ADDR_VAR 0 3
15924: PUSH
15925: LD_INT 5
15927: PPUSH
15928: LD_INT 22
15930: PUSH
15931: LD_INT 0
15933: PUSH
15934: EMPTY
15935: LIST
15936: LIST
15937: PUSH
15938: LD_INT 25
15940: PUSH
15941: LD_INT 12
15943: PUSH
15944: EMPTY
15945: LIST
15946: LIST
15947: PUSH
15948: EMPTY
15949: LIST
15950: LIST
15951: PPUSH
15952: CALL_OW 70
15956: PUSH
15957: FOR_IN
15958: IFFALSE 15991
// begin AddComTameXY ( i , GetX ( j ) , GetY ( j ) ) ;
15960: LD_VAR 0 2
15964: PPUSH
15965: LD_VAR 0 3
15969: PPUSH
15970: CALL_OW 250
15974: PPUSH
15975: LD_VAR 0 3
15979: PPUSH
15980: CALL_OW 251
15984: PPUSH
15985: CALL_OW 191
// end ;
15989: GO 15957
15991: POP
15992: POP
// end ;
15993: GO 15917
15995: POP
15996: POP
// until FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 4 ] ] ) = 0 or FilterUnitsInArea ( NatureArea1 , [ [ f_side , 0 ] , [ f_class , 12 ] ] ) = 0 ;
15997: LD_INT 22
15999: PUSH
16000: LD_INT 2
16002: PUSH
16003: EMPTY
16004: LIST
16005: LIST
16006: PUSH
16007: LD_INT 25
16009: PUSH
16010: LD_INT 4
16012: PUSH
16013: EMPTY
16014: LIST
16015: LIST
16016: PUSH
16017: EMPTY
16018: LIST
16019: LIST
16020: PPUSH
16021: CALL_OW 69
16025: PUSH
16026: LD_INT 0
16028: EQUAL
16029: PUSH
16030: LD_INT 5
16032: PPUSH
16033: LD_INT 22
16035: PUSH
16036: LD_INT 0
16038: PUSH
16039: EMPTY
16040: LIST
16041: LIST
16042: PUSH
16043: LD_INT 25
16045: PUSH
16046: LD_INT 12
16048: PUSH
16049: EMPTY
16050: LIST
16051: LIST
16052: PUSH
16053: EMPTY
16054: LIST
16055: LIST
16056: PPUSH
16057: CALL_OW 70
16061: PUSH
16062: LD_INT 0
16064: EQUAL
16065: OR
16066: IFFALSE 15876
// wait ( 0 0$30 ) ;
16068: LD_INT 1050
16070: PPUSH
16071: CALL_OW 67
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 12 ] ] ) do
16075: LD_ADDR_VAR 0 2
16079: PUSH
16080: LD_INT 22
16082: PUSH
16083: LD_INT 2
16085: PUSH
16086: EMPTY
16087: LIST
16088: LIST
16089: PUSH
16090: LD_INT 25
16092: PUSH
16093: LD_INT 12
16095: PUSH
16096: EMPTY
16097: LIST
16098: LIST
16099: PUSH
16100: EMPTY
16101: LIST
16102: LIST
16103: PPUSH
16104: CALL_OW 69
16108: PUSH
16109: FOR_IN
16110: IFFALSE 16174
// begin SetClass ( i , [ 16 , 15 ] [ Rand ( 1 , 2 ) ] ) ;
16112: LD_VAR 0 2
16116: PPUSH
16117: LD_INT 16
16119: PUSH
16120: LD_INT 15
16122: PUSH
16123: EMPTY
16124: LIST
16125: LIST
16126: PUSH
16127: LD_INT 1
16129: PPUSH
16130: LD_INT 2
16132: PPUSH
16133: CALL_OW 12
16137: ARRAY
16138: PPUSH
16139: CALL_OW 336
// ComMoveXY ( i , GetX ( arDepot ) , GetY ( arDepot ) ) ;
16143: LD_VAR 0 2
16147: PPUSH
16148: LD_EXP 42
16152: PPUSH
16153: CALL_OW 250
16157: PPUSH
16158: LD_EXP 42
16162: PPUSH
16163: CALL_OW 251
16167: PPUSH
16168: CALL_OW 111
// end ;
16172: GO 16109
16174: POP
16175: POP
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 4 ] ] ) do
16176: LD_ADDR_VAR 0 2
16180: PUSH
16181: LD_INT 22
16183: PUSH
16184: LD_INT 2
16186: PUSH
16187: EMPTY
16188: LIST
16189: LIST
16190: PUSH
16191: LD_INT 25
16193: PUSH
16194: LD_INT 4
16196: PUSH
16197: EMPTY
16198: LIST
16199: LIST
16200: PUSH
16201: EMPTY
16202: LIST
16203: LIST
16204: PPUSH
16205: CALL_OW 69
16209: PUSH
16210: FOR_IN
16211: IFFALSE 16257
// ComEnterUnit ( i , FilterAllUnits ( [ [ f_side , 2 ] , [ f_btype , b_lab_full ] ] ) [ 1 ] ) ;
16213: LD_VAR 0 2
16217: PPUSH
16218: LD_INT 22
16220: PUSH
16221: LD_INT 2
16223: PUSH
16224: EMPTY
16225: LIST
16226: LIST
16227: PUSH
16228: LD_INT 30
16230: PUSH
16231: LD_INT 8
16233: PUSH
16234: EMPTY
16235: LIST
16236: LIST
16237: PUSH
16238: EMPTY
16239: LIST
16240: LIST
16241: PPUSH
16242: CALL_OW 69
16246: PUSH
16247: LD_INT 1
16249: ARRAY
16250: PPUSH
16251: CALL_OW 120
16255: GO 16210
16257: POP
16258: POP
// end ;
16259: LD_VAR 0 1
16263: RET
// export function BuildingVehicleAndAttackEnemy ( side , fabric , vehCount , targetSide , weaponTab , engine , control , chassis ) ; var i , j , randWeapon , lastIndex , weaponTabTemp , temp , target1 , target2 ; begin
16264: LD_INT 0
16266: PPUSH
16267: PPUSH
16268: PPUSH
16269: PPUSH
16270: PPUSH
16271: PPUSH
16272: PPUSH
16273: PPUSH
16274: PPUSH
// if FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] ] ) <= vehCount then
16275: LD_INT 22
16277: PUSH
16278: LD_VAR 0 1
16282: PUSH
16283: EMPTY
16284: LIST
16285: LIST
16286: PUSH
16287: LD_INT 21
16289: PUSH
16290: LD_INT 2
16292: PUSH
16293: EMPTY
16294: LIST
16295: LIST
16296: PUSH
16297: EMPTY
16298: LIST
16299: LIST
16300: PPUSH
16301: CALL_OW 69
16305: PUSH
16306: LD_VAR 0 3
16310: LESSEQUAL
16311: IFFALSE 16455
// for i = 1 to vehCount do
16313: LD_ADDR_VAR 0 10
16317: PUSH
16318: DOUBLE
16319: LD_INT 1
16321: DEC
16322: ST_TO_ADDR
16323: LD_VAR 0 3
16327: PUSH
16328: FOR_TO
16329: IFFALSE 16453
// begin randWeapon = weaponTab [ Rand ( 1 , weaponTab ) ] ;
16331: LD_ADDR_VAR 0 12
16335: PUSH
16336: LD_VAR 0 5
16340: PUSH
16341: LD_INT 1
16343: PPUSH
16344: LD_VAR 0 5
16348: PPUSH
16349: CALL_OW 12
16353: ARRAY
16354: ST_TO_ADDR
// if randWeapon = 46 then
16355: LD_VAR 0 12
16359: PUSH
16360: LD_INT 46
16362: EQUAL
16363: IFFALSE 16408
// AddComConstruct ( fabric , 24 , engine , control [ Rand ( 1 , control ) ] , randWeapon ) else
16365: LD_VAR 0 2
16369: PPUSH
16370: LD_INT 24
16372: PPUSH
16373: LD_VAR 0 6
16377: PPUSH
16378: LD_VAR 0 7
16382: PUSH
16383: LD_INT 1
16385: PPUSH
16386: LD_VAR 0 7
16390: PPUSH
16391: CALL_OW 12
16395: ARRAY
16396: PPUSH
16397: LD_VAR 0 12
16401: PPUSH
16402: CALL_OW 185
16406: GO 16451
// AddComConstruct ( fabric , chassis , engine , control [ Rand ( 1 , control ) ] , randWeapon ) ;
16408: LD_VAR 0 2
16412: PPUSH
16413: LD_VAR 0 8
16417: PPUSH
16418: LD_VAR 0 6
16422: PPUSH
16423: LD_VAR 0 7
16427: PUSH
16428: LD_INT 1
16430: PPUSH
16431: LD_VAR 0 7
16435: PPUSH
16436: CALL_OW 12
16440: ARRAY
16441: PPUSH
16442: LD_VAR 0 12
16446: PPUSH
16447: CALL_OW 185
// end ;
16451: GO 16328
16453: POP
16454: POP
// repeat wait ( 0 0$1 ) ;
16455: LD_INT 35
16457: PPUSH
16458: CALL_OW 67
// ; until FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 250 ] ] ) >= vehCount ;
16462: LD_INT 22
16464: PUSH
16465: LD_VAR 0 1
16469: PUSH
16470: EMPTY
16471: LIST
16472: LIST
16473: PUSH
16474: LD_INT 21
16476: PUSH
16477: LD_INT 2
16479: PUSH
16480: EMPTY
16481: LIST
16482: LIST
16483: PUSH
16484: LD_INT 24
16486: PUSH
16487: LD_INT 250
16489: PUSH
16490: EMPTY
16491: LIST
16492: LIST
16493: PUSH
16494: EMPTY
16495: LIST
16496: LIST
16497: LIST
16498: PPUSH
16499: CALL_OW 69
16503: PUSH
16504: LD_VAR 0 3
16508: GREATEREQUAL
16509: IFFALSE 16455
// if FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 250 ] ] ) >= vehCount then
16511: LD_INT 22
16513: PUSH
16514: LD_VAR 0 1
16518: PUSH
16519: EMPTY
16520: LIST
16521: LIST
16522: PUSH
16523: LD_INT 21
16525: PUSH
16526: LD_INT 2
16528: PUSH
16529: EMPTY
16530: LIST
16531: LIST
16532: PUSH
16533: LD_INT 24
16535: PUSH
16536: LD_INT 250
16538: PUSH
16539: EMPTY
16540: LIST
16541: LIST
16542: PUSH
16543: EMPTY
16544: LIST
16545: LIST
16546: LIST
16547: PPUSH
16548: CALL_OW 69
16552: PUSH
16553: LD_VAR 0 3
16557: GREATEREQUAL
16558: IFFALSE 16901
// begin repeat begin wait ( 0 0$1 ) ;
16560: LD_INT 35
16562: PPUSH
16563: CALL_OW 67
// if FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 651 ] ] ) > 0 then
16567: LD_INT 22
16569: PUSH
16570: LD_VAR 0 1
16574: PUSH
16575: EMPTY
16576: LIST
16577: LIST
16578: PUSH
16579: LD_INT 21
16581: PUSH
16582: LD_INT 2
16584: PUSH
16585: EMPTY
16586: LIST
16587: LIST
16588: PUSH
16589: LD_INT 24
16591: PUSH
16592: LD_INT 651
16594: PUSH
16595: EMPTY
16596: LIST
16597: LIST
16598: PUSH
16599: EMPTY
16600: LIST
16601: LIST
16602: LIST
16603: PPUSH
16604: CALL_OW 69
16608: PUSH
16609: LD_INT 0
16611: GREATER
16612: IFFALSE 16840
// begin for i in FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 651 ] ] ) do
16614: LD_ADDR_VAR 0 10
16618: PUSH
16619: LD_INT 22
16621: PUSH
16622: LD_VAR 0 1
16626: PUSH
16627: EMPTY
16628: LIST
16629: LIST
16630: PUSH
16631: LD_INT 21
16633: PUSH
16634: LD_INT 2
16636: PUSH
16637: EMPTY
16638: LIST
16639: LIST
16640: PUSH
16641: LD_INT 24
16643: PUSH
16644: LD_INT 651
16646: PUSH
16647: EMPTY
16648: LIST
16649: LIST
16650: PUSH
16651: EMPTY
16652: LIST
16653: LIST
16654: LIST
16655: PPUSH
16656: CALL_OW 69
16660: PUSH
16661: FOR_IN
16662: IFFALSE 16838
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) , i ) ;
16664: LD_ADDR_VAR 0 16
16668: PUSH
16669: LD_INT 22
16671: PUSH
16672: LD_VAR 0 4
16676: PUSH
16677: EMPTY
16678: LIST
16679: LIST
16680: PPUSH
16681: CALL_OW 69
16685: PPUSH
16686: LD_VAR 0 10
16690: PPUSH
16691: CALL_OW 74
16695: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
16696: LD_ADDR_VAR 0 17
16700: PUSH
16701: LD_INT 22
16703: PUSH
16704: LD_VAR 0 4
16708: PUSH
16709: EMPTY
16710: LIST
16711: LIST
16712: PUSH
16713: LD_INT 2
16715: PUSH
16716: LD_INT 59
16718: PUSH
16719: EMPTY
16720: LIST
16721: PUSH
16722: LD_INT 21
16724: PUSH
16725: LD_INT 1
16727: PUSH
16728: EMPTY
16729: LIST
16730: LIST
16731: PUSH
16732: LD_INT 21
16734: PUSH
16735: LD_INT 2
16737: PUSH
16738: EMPTY
16739: LIST
16740: LIST
16741: PUSH
16742: EMPTY
16743: LIST
16744: LIST
16745: LIST
16746: LIST
16747: PUSH
16748: EMPTY
16749: LIST
16750: LIST
16751: PUSH
16752: EMPTY
16753: LIST
16754: PPUSH
16755: CALL_OW 69
16759: PPUSH
16760: LD_VAR 0 10
16764: PPUSH
16765: CALL_OW 74
16769: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
16770: LD_VAR 0 10
16774: PPUSH
16775: LD_VAR 0 16
16779: PPUSH
16780: CALL_OW 296
16784: PUSH
16785: LD_INT 8
16787: PLUS
16788: PUSH
16789: LD_VAR 0 10
16793: PPUSH
16794: LD_VAR 0 17
16798: PPUSH
16799: CALL_OW 296
16803: LESS
16804: IFFALSE 16822
// begin ComAttackUnit ( i , target1 ) ;
16806: LD_VAR 0 10
16810: PPUSH
16811: LD_VAR 0 16
16815: PPUSH
16816: CALL_OW 115
// end else
16820: GO 16836
// begin ComAttackUnit ( i , target2 ) ;
16822: LD_VAR 0 10
16826: PPUSH
16827: LD_VAR 0 17
16831: PPUSH
16832: CALL_OW 115
// end ; end ;
16836: GO 16661
16838: POP
16839: POP
// end ; end until FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] ] ) = 0 or FilterAllUnits ( [ [ f_side , targetSide ] ] ) = 0 ;
16840: LD_INT 22
16842: PUSH
16843: LD_VAR 0 1
16847: PUSH
16848: EMPTY
16849: LIST
16850: LIST
16851: PUSH
16852: LD_INT 21
16854: PUSH
16855: LD_INT 2
16857: PUSH
16858: EMPTY
16859: LIST
16860: LIST
16861: PUSH
16862: EMPTY
16863: LIST
16864: LIST
16865: PPUSH
16866: CALL_OW 69
16870: PUSH
16871: LD_INT 0
16873: EQUAL
16874: PUSH
16875: LD_INT 22
16877: PUSH
16878: LD_VAR 0 4
16882: PUSH
16883: EMPTY
16884: LIST
16885: LIST
16886: PUSH
16887: EMPTY
16888: LIST
16889: PPUSH
16890: CALL_OW 69
16894: PUSH
16895: LD_INT 0
16897: EQUAL
16898: OR
16899: IFFALSE 16560
// end ; end ; end_of_file
16901: LD_VAR 0 9
16905: RET
// every 0 0$1 trigger russianAI = 1 do
16906: LD_EXP 38
16910: PUSH
16911: LD_INT 1
16913: EQUAL
16914: IFFALSE 17133
16916: GO 16918
16918: DISABLE
// begin enable ;
16919: ENABLE
// RepairBuilding ( 3 , ruDepot ) ;
16920: LD_INT 3
16922: PPUSH
16923: LD_EXP 29
16927: PPUSH
16928: CALL 11905 0 2
// RebuildBuildings ( 3 , ruDestroyedBuildings ) ;
16932: LD_INT 3
16934: PPUSH
16935: LD_EXP 41
16939: PPUSH
16940: CALL 12212 0 2
// if ruPossition = 1 then
16944: LD_EXP 40
16948: PUSH
16949: LD_INT 1
16951: EQUAL
16952: IFFALSE 17007
// HealUnitInBase ( 3 , RussianHealArea1 , WestRussianBase , FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) ) ;
16954: LD_INT 3
16956: PPUSH
16957: LD_INT 13
16959: PPUSH
16960: LD_INT 10
16962: PPUSH
16963: LD_INT 22
16965: PUSH
16966: LD_INT 3
16968: PUSH
16969: EMPTY
16970: LIST
16971: LIST
16972: PUSH
16973: LD_INT 21
16975: PUSH
16976: LD_INT 3
16978: PUSH
16979: EMPTY
16980: LIST
16981: LIST
16982: PUSH
16983: LD_INT 30
16985: PUSH
16986: LD_INT 8
16988: PUSH
16989: EMPTY
16990: LIST
16991: LIST
16992: PUSH
16993: EMPTY
16994: LIST
16995: LIST
16996: LIST
16997: PPUSH
16998: CALL_OW 69
17002: PPUSH
17003: CALL 12418 0 4
// if ruPossition = 2 then
17007: LD_EXP 40
17011: PUSH
17012: LD_INT 2
17014: EQUAL
17015: IFFALSE 17070
// HealUnitInBase ( 3 , RussianHealArea2 , MiddleRussianBase , FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) ) ;
17017: LD_INT 3
17019: PPUSH
17020: LD_INT 14
17022: PPUSH
17023: LD_INT 11
17025: PPUSH
17026: LD_INT 22
17028: PUSH
17029: LD_INT 3
17031: PUSH
17032: EMPTY
17033: LIST
17034: LIST
17035: PUSH
17036: LD_INT 21
17038: PUSH
17039: LD_INT 3
17041: PUSH
17042: EMPTY
17043: LIST
17044: LIST
17045: PUSH
17046: LD_INT 30
17048: PUSH
17049: LD_INT 8
17051: PUSH
17052: EMPTY
17053: LIST
17054: LIST
17055: PUSH
17056: EMPTY
17057: LIST
17058: LIST
17059: LIST
17060: PPUSH
17061: CALL_OW 69
17065: PPUSH
17066: CALL 12418 0 4
// if ruPossition = 3 then
17070: LD_EXP 40
17074: PUSH
17075: LD_INT 3
17077: EQUAL
17078: IFFALSE 17133
// HealUnitInBase ( 3 , RussianHealArea3 , EastRussianBase , FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) ) ;
17080: LD_INT 3
17082: PPUSH
17083: LD_INT 15
17085: PPUSH
17086: LD_INT 12
17088: PPUSH
17089: LD_INT 22
17091: PUSH
17092: LD_INT 3
17094: PUSH
17095: EMPTY
17096: LIST
17097: LIST
17098: PUSH
17099: LD_INT 21
17101: PUSH
17102: LD_INT 3
17104: PUSH
17105: EMPTY
17106: LIST
17107: LIST
17108: PUSH
17109: LD_INT 30
17111: PUSH
17112: LD_INT 8
17114: PUSH
17115: EMPTY
17116: LIST
17117: LIST
17118: PUSH
17119: EMPTY
17120: LIST
17121: LIST
17122: LIST
17123: PPUSH
17124: CALL_OW 69
17128: PPUSH
17129: CALL 12418 0 4
// end ;
17133: END
// every 0 0$1 do
17134: GO 17136
17136: DISABLE
// begin enable ;
17137: ENABLE
// if ruPossition = 1 then
17138: LD_EXP 40
17142: PUSH
17143: LD_INT 1
17145: EQUAL
17146: IFFALSE 17158
// EnterBunkerOrBarrack ( 3 , WestRussianBase ) ;
17148: LD_INT 3
17150: PPUSH
17151: LD_INT 10
17153: PPUSH
17154: CALL 11603 0 2
// if ruPossition = 2 then
17158: LD_EXP 40
17162: PUSH
17163: LD_INT 2
17165: EQUAL
17166: IFFALSE 17178
// EnterBunkerOrBarrack ( 3 , MiddleRussianBase ) ;
17168: LD_INT 3
17170: PPUSH
17171: LD_INT 11
17173: PPUSH
17174: CALL 11603 0 2
// if ruPossition = 3 then
17178: LD_EXP 40
17182: PUSH
17183: LD_INT 3
17185: EQUAL
17186: IFFALSE 17198
// EnterBunkerOrBarrack ( 3 , EastRussianBase ) ;
17188: LD_INT 3
17190: PPUSH
17191: LD_INT 12
17193: PPUSH
17194: CALL 11603 0 2
// IntBazooka ( 3 , 1 ) ;
17198: LD_INT 3
17200: PPUSH
17201: LD_INT 1
17203: PPUSH
17204: CALL 10694 0 2
// IntBazooka ( 6 , 1 ) ;
17208: LD_INT 6
17210: PPUSH
17211: LD_INT 1
17213: PPUSH
17214: CALL 10694 0 2
// end ;
17218: END
// every 5 5$0 trigger russianAI = 1 and IsOk ( ruFab ) and GetSide ( ruFab ) = 3 and FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_vehicle ] , [ f_control , control_computer ] ] ) = 0 do
17219: LD_EXP 38
17223: PUSH
17224: LD_INT 1
17226: EQUAL
17227: PUSH
17228: LD_EXP 34
17232: PPUSH
17233: CALL_OW 302
17237: AND
17238: PUSH
17239: LD_EXP 34
17243: PPUSH
17244: CALL_OW 255
17248: PUSH
17249: LD_INT 3
17251: EQUAL
17252: AND
17253: PUSH
17254: LD_INT 22
17256: PUSH
17257: LD_INT 3
17259: PUSH
17260: EMPTY
17261: LIST
17262: LIST
17263: PUSH
17264: LD_INT 21
17266: PUSH
17267: LD_INT 2
17269: PUSH
17270: EMPTY
17271: LIST
17272: LIST
17273: PUSH
17274: LD_INT 33
17276: PUSH
17277: LD_INT 3
17279: PUSH
17280: EMPTY
17281: LIST
17282: LIST
17283: PUSH
17284: EMPTY
17285: LIST
17286: LIST
17287: LIST
17288: PPUSH
17289: CALL_OW 69
17293: PUSH
17294: LD_INT 0
17296: EQUAL
17297: AND
17298: IFFALSE 17506
17300: GO 17302
17302: DISABLE
// begin enable ;
17303: ENABLE
// if Difficulty = 1 then
17304: LD_OWVAR 67
17308: PUSH
17309: LD_INT 1
17311: EQUAL
17312: IFFALSE 17374
// BuildingVehicleAndAttackEnemy ( 3 , ruFab , rand ( 5 , 8 ) , 1 , [ 43 , 44 , 45 , 46 ] , 1 , [ 1 , 3 ] , 22 ) ;
17314: LD_INT 3
17316: PPUSH
17317: LD_EXP 34
17321: PPUSH
17322: LD_INT 5
17324: PPUSH
17325: LD_INT 8
17327: PPUSH
17328: CALL_OW 12
17332: PPUSH
17333: LD_INT 1
17335: PPUSH
17336: LD_INT 43
17338: PUSH
17339: LD_INT 44
17341: PUSH
17342: LD_INT 45
17344: PUSH
17345: LD_INT 46
17347: PUSH
17348: EMPTY
17349: LIST
17350: LIST
17351: LIST
17352: LIST
17353: PPUSH
17354: LD_INT 1
17356: PPUSH
17357: LD_INT 1
17359: PUSH
17360: LD_INT 3
17362: PUSH
17363: EMPTY
17364: LIST
17365: LIST
17366: PPUSH
17367: LD_INT 22
17369: PPUSH
17370: CALL 16264 0 8
// if Difficulty = 2 then
17374: LD_OWVAR 67
17378: PUSH
17379: LD_INT 2
17381: EQUAL
17382: IFFALSE 17440
// BuildingVehicleAndAttackEnemy ( 3 , ruFab , rand ( 6 , 8 ) , 1 , [ 44 , 45 , 46 ] , 1 , [ 1 , 3 ] , 22 ) ;
17384: LD_INT 3
17386: PPUSH
17387: LD_EXP 34
17391: PPUSH
17392: LD_INT 6
17394: PPUSH
17395: LD_INT 8
17397: PPUSH
17398: CALL_OW 12
17402: PPUSH
17403: LD_INT 1
17405: PPUSH
17406: LD_INT 44
17408: PUSH
17409: LD_INT 45
17411: PUSH
17412: LD_INT 46
17414: PUSH
17415: EMPTY
17416: LIST
17417: LIST
17418: LIST
17419: PPUSH
17420: LD_INT 1
17422: PPUSH
17423: LD_INT 1
17425: PUSH
17426: LD_INT 3
17428: PUSH
17429: EMPTY
17430: LIST
17431: LIST
17432: PPUSH
17433: LD_INT 22
17435: PPUSH
17436: CALL 16264 0 8
// if Difficulty = 3 then
17440: LD_OWVAR 67
17444: PUSH
17445: LD_INT 3
17447: EQUAL
17448: IFFALSE 17506
// BuildingVehicleAndAttackEnemy ( 3 , ruFab , rand ( 7 , 8 ) , 1 , [ 44 , 45 , 46 ] , 1 , [ 1 , 3 ] , 22 ) ;
17450: LD_INT 3
17452: PPUSH
17453: LD_EXP 34
17457: PPUSH
17458: LD_INT 7
17460: PPUSH
17461: LD_INT 8
17463: PPUSH
17464: CALL_OW 12
17468: PPUSH
17469: LD_INT 1
17471: PPUSH
17472: LD_INT 44
17474: PUSH
17475: LD_INT 45
17477: PUSH
17478: LD_INT 46
17480: PUSH
17481: EMPTY
17482: LIST
17483: LIST
17484: LIST
17485: PPUSH
17486: LD_INT 1
17488: PPUSH
17489: LD_INT 1
17491: PUSH
17492: LD_INT 3
17494: PUSH
17495: EMPTY
17496: LIST
17497: LIST
17498: PPUSH
17499: LD_INT 22
17501: PPUSH
17502: CALL 16264 0 8
// end ; end_of_file
17506: END
// on BuildingStarted ( building , unit ) do begin if GetSide ( building ) = 4 then
17507: LD_VAR 0 1
17511: PPUSH
17512: CALL_OW 255
17516: PUSH
17517: LD_INT 4
17519: EQUAL
17520: IFFALSE 17534
// SetBName ( building , epsilon ) ;
17522: LD_VAR 0 1
17526: PPUSH
17527: LD_STRING epsilon
17529: PPUSH
17530: CALL_OW 500
// if GetSide ( building ) = 1 and GetBType ( building ) = b_depot then
17534: LD_VAR 0 1
17538: PPUSH
17539: CALL_OW 255
17543: PUSH
17544: LD_INT 1
17546: EQUAL
17547: PUSH
17548: LD_VAR 0 1
17552: PPUSH
17553: CALL_OW 266
17557: PUSH
17558: LD_INT 0
17560: EQUAL
17561: AND
17562: IFFALSE 17576
// SetBName ( building , epsilon ) ;
17564: LD_VAR 0 1
17568: PPUSH
17569: LD_STRING epsilon
17571: PPUSH
17572: CALL_OW 500
// if GetSide ( building ) = 3 and GetBType ( building ) = b_depot then
17576: LD_VAR 0 1
17580: PPUSH
17581: CALL_OW 255
17585: PUSH
17586: LD_INT 3
17588: EQUAL
17589: PUSH
17590: LD_VAR 0 1
17594: PPUSH
17595: CALL_OW 266
17599: PUSH
17600: LD_INT 0
17602: EQUAL
17603: AND
17604: IFFALSE 17618
// SetBName ( building , chuikov ) ;
17606: LD_VAR 0 1
17610: PPUSH
17611: LD_STRING chuikov
17613: PPUSH
17614: CALL_OW 500
// end ;
17618: PPOPN 2
17620: END
// on UnitGoesToRed ( un ) do begin if un in FilterAllUnits ( [ [ f_side , 6 ] , [ f_nation , 3 ] , [ f_type , unit_vehicle ] ] ) and not telep_ru_dialog then
17621: LD_VAR 0 1
17625: PUSH
17626: LD_INT 22
17628: PUSH
17629: LD_INT 6
17631: PUSH
17632: EMPTY
17633: LIST
17634: LIST
17635: PUSH
17636: LD_INT 23
17638: PUSH
17639: LD_INT 3
17641: PUSH
17642: EMPTY
17643: LIST
17644: LIST
17645: PUSH
17646: LD_INT 21
17648: PUSH
17649: LD_INT 2
17651: PUSH
17652: EMPTY
17653: LIST
17654: LIST
17655: PUSH
17656: EMPTY
17657: LIST
17658: LIST
17659: LIST
17660: PPUSH
17661: CALL_OW 69
17665: IN
17666: PUSH
17667: LD_EXP 55
17671: NOT
17672: AND
17673: IFFALSE 17704
// telep_ru_dialog := [ GetX ( un ) , GetY ( un ) ] ;
17675: LD_ADDR_EXP 55
17679: PUSH
17680: LD_VAR 0 1
17684: PPUSH
17685: CALL_OW 250
17689: PUSH
17690: LD_VAR 0 1
17694: PPUSH
17695: CALL_OW 251
17699: PUSH
17700: EMPTY
17701: LIST
17702: LIST
17703: ST_TO_ADDR
// end ;
17704: PPOPN 1
17706: END
// on BuildingComplete ( building ) do var i ;
17707: LD_INT 0
17709: PPUSH
// begin if GetSide ( building ) = 1 then
17710: LD_VAR 0 1
17714: PPUSH
17715: CALL_OW 255
17719: PUSH
17720: LD_INT 1
17722: EQUAL
17723: IFFALSE 17923
// begin if FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] , [ f_and , [ f_btype , b_lab_siberium ] , [ f_and , [ f_or , [ f_btype , b_oil_power ] , [ f_btype , b_solar_power ] , [ f_btype , b_siberite_power ] ] ] ] ] ] ) > 0 and FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , 26 ] , [ f_btype , 27 ] , [ f_btype , 28 ] ] ] ) > 0 and eventVar1 = 0 then
17725: LD_INT 22
17727: PUSH
17728: LD_INT 1
17730: PUSH
17731: EMPTY
17732: LIST
17733: LIST
17734: PUSH
17735: LD_INT 2
17737: PUSH
17738: LD_INT 30
17740: PUSH
17741: LD_INT 7
17743: PUSH
17744: EMPTY
17745: LIST
17746: LIST
17747: PUSH
17748: LD_INT 30
17750: PUSH
17751: LD_INT 8
17753: PUSH
17754: EMPTY
17755: LIST
17756: LIST
17757: PUSH
17758: LD_INT 1
17760: PUSH
17761: LD_INT 30
17763: PUSH
17764: LD_INT 11
17766: PUSH
17767: EMPTY
17768: LIST
17769: LIST
17770: PUSH
17771: LD_INT 1
17773: PUSH
17774: LD_INT 2
17776: PUSH
17777: LD_INT 30
17779: PUSH
17780: LD_INT 26
17782: PUSH
17783: EMPTY
17784: LIST
17785: LIST
17786: PUSH
17787: LD_INT 30
17789: PUSH
17790: LD_INT 27
17792: PUSH
17793: EMPTY
17794: LIST
17795: LIST
17796: PUSH
17797: LD_INT 30
17799: PUSH
17800: LD_INT 28
17802: PUSH
17803: EMPTY
17804: LIST
17805: LIST
17806: PUSH
17807: EMPTY
17808: LIST
17809: LIST
17810: LIST
17811: LIST
17812: PUSH
17813: EMPTY
17814: LIST
17815: LIST
17816: PUSH
17817: EMPTY
17818: LIST
17819: LIST
17820: LIST
17821: PUSH
17822: EMPTY
17823: LIST
17824: LIST
17825: LIST
17826: LIST
17827: PUSH
17828: EMPTY
17829: LIST
17830: LIST
17831: PPUSH
17832: CALL_OW 69
17836: PUSH
17837: LD_INT 0
17839: GREATER
17840: PUSH
17841: LD_INT 22
17843: PUSH
17844: LD_INT 1
17846: PUSH
17847: EMPTY
17848: LIST
17849: LIST
17850: PUSH
17851: LD_INT 2
17853: PUSH
17854: LD_INT 30
17856: PUSH
17857: LD_INT 26
17859: PUSH
17860: EMPTY
17861: LIST
17862: LIST
17863: PUSH
17864: LD_INT 30
17866: PUSH
17867: LD_INT 27
17869: PUSH
17870: EMPTY
17871: LIST
17872: LIST
17873: PUSH
17874: LD_INT 30
17876: PUSH
17877: LD_INT 28
17879: PUSH
17880: EMPTY
17881: LIST
17882: LIST
17883: PUSH
17884: EMPTY
17885: LIST
17886: LIST
17887: LIST
17888: LIST
17889: PUSH
17890: EMPTY
17891: LIST
17892: LIST
17893: PPUSH
17894: CALL_OW 69
17898: PUSH
17899: LD_INT 0
17901: GREATER
17902: AND
17903: PUSH
17904: LD_EXP 57
17908: PUSH
17909: LD_INT 0
17911: EQUAL
17912: AND
17913: IFFALSE 17923
// eventVar1 = 1 ;
17915: LD_ADDR_EXP 57
17919: PUSH
17920: LD_INT 1
17922: ST_TO_ADDR
// end ; if GetSide ( building ) = 3 then
17923: LD_VAR 0 1
17927: PPUSH
17928: CALL_OW 255
17932: PUSH
17933: LD_INT 3
17935: EQUAL
17936: IFFALSE 18416
// begin if GetBType ( building ) = b_depot then
17938: LD_VAR 0 1
17942: PPUSH
17943: CALL_OW 266
17947: PUSH
17948: LD_INT 0
17950: EQUAL
17951: IFFALSE 18023
// begin SetResourceType ( GetBase ( building ) , 1 , 5000 ) ;
17953: LD_VAR 0 1
17957: PPUSH
17958: CALL_OW 274
17962: PPUSH
17963: LD_INT 1
17965: PPUSH
17966: LD_INT 5000
17968: PPUSH
17969: CALL_OW 277
// SetResourceType ( GetBase ( building ) , 2 , 5000 ) ;
17973: LD_VAR 0 1
17977: PPUSH
17978: CALL_OW 274
17982: PPUSH
17983: LD_INT 2
17985: PPUSH
17986: LD_INT 5000
17988: PPUSH
17989: CALL_OW 277
// SetResourceType ( GetBase ( building ) , 3 , 5000 ) ;
17993: LD_VAR 0 1
17997: PPUSH
17998: CALL_OW 274
18002: PPUSH
18003: LD_INT 3
18005: PPUSH
18006: LD_INT 5000
18008: PPUSH
18009: CALL_OW 277
// ruDepot = building ;
18013: LD_ADDR_EXP 29
18017: PUSH
18018: LD_VAR 0 1
18022: ST_TO_ADDR
// end ; if GetBType ( building ) = 0 or GetBType ( building ) = 2 or GetBType ( building ) = 4 then
18023: LD_VAR 0 1
18027: PPUSH
18028: CALL_OW 266
18032: PUSH
18033: LD_INT 0
18035: EQUAL
18036: PUSH
18037: LD_VAR 0 1
18041: PPUSH
18042: CALL_OW 266
18046: PUSH
18047: LD_INT 2
18049: EQUAL
18050: OR
18051: PUSH
18052: LD_VAR 0 1
18056: PPUSH
18057: CALL_OW 266
18061: PUSH
18062: LD_INT 4
18064: EQUAL
18065: OR
18066: IFFALSE 18077
// ComUpgrade ( building ) ;
18068: LD_VAR 0 1
18072: PPUSH
18073: CALL_OW 146
// if GetBType ( building ) = b_lab then
18077: LD_VAR 0 1
18081: PPUSH
18082: CALL_OW 266
18086: PUSH
18087: LD_INT 6
18089: EQUAL
18090: IFFALSE 18293
// begin if FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_lab_full ] ] ) = 0 then
18092: LD_INT 22
18094: PUSH
18095: LD_INT 3
18097: PUSH
18098: EMPTY
18099: LIST
18100: LIST
18101: PUSH
18102: LD_INT 30
18104: PUSH
18105: LD_INT 8
18107: PUSH
18108: EMPTY
18109: LIST
18110: LIST
18111: PUSH
18112: EMPTY
18113: LIST
18114: LIST
18115: PPUSH
18116: CALL_OW 69
18120: PUSH
18121: LD_INT 0
18123: EQUAL
18124: IFFALSE 18162
// begin AddComUpgradeLab ( building , b_lab_weapon ) ;
18126: LD_VAR 0 1
18130: PPUSH
18131: LD_INT 10
18133: PPUSH
18134: CALL_OW 207
// AddComUpgradeLab ( building , b_lab_computer ) ;
18138: LD_VAR 0 1
18142: PPUSH
18143: LD_INT 12
18145: PPUSH
18146: CALL_OW 207
// ruLab1 = building ;
18150: LD_ADDR_EXP 30
18154: PUSH
18155: LD_VAR 0 1
18159: ST_TO_ADDR
// end else
18160: GO 18196
// begin AddComUpgradeLab ( building , b_lab_siberium ) ;
18162: LD_VAR 0 1
18166: PPUSH
18167: LD_INT 11
18169: PPUSH
18170: CALL_OW 207
// AddComUpgradeLab ( building , b_lab_spacetime ) ;
18174: LD_VAR 0 1
18178: PPUSH
18179: LD_INT 14
18181: PPUSH
18182: CALL_OW 207
// ruLab2 = building ;
18186: LD_ADDR_EXP 31
18190: PUSH
18191: LD_VAR 0 1
18195: ST_TO_ADDR
// end ; ResAllTechs ( 3 , building , 3 ) ;
18196: LD_INT 3
18198: PPUSH
18199: LD_VAR 0 1
18203: PPUSH
18204: LD_INT 3
18206: PPUSH
18207: CALL 11518 0 3
// if ruDestroyedBuildings > 0 then
18211: LD_EXP 41
18215: PUSH
18216: LD_INT 0
18218: GREATER
18219: IFFALSE 18293
// begin ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
18221: LD_ADDR_EXP 41
18225: PUSH
18226: LD_EXP 41
18230: PPUSH
18231: LD_INT 1
18233: PPUSH
18234: CALL_OW 3
18238: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
18239: LD_ADDR_EXP 41
18243: PUSH
18244: LD_EXP 41
18248: PPUSH
18249: LD_INT 1
18251: PPUSH
18252: CALL_OW 3
18256: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
18257: LD_ADDR_EXP 41
18261: PUSH
18262: LD_EXP 41
18266: PPUSH
18267: LD_INT 1
18269: PPUSH
18270: CALL_OW 3
18274: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
18275: LD_ADDR_EXP 41
18279: PUSH
18280: LD_EXP 41
18284: PPUSH
18285: LD_INT 1
18287: PPUSH
18288: CALL_OW 3
18292: ST_TO_ADDR
// end ; end ; if GetBType ( building ) = b_bunker then
18293: LD_VAR 0 1
18297: PPUSH
18298: CALL_OW 266
18302: PUSH
18303: LD_INT 32
18305: EQUAL
18306: IFFALSE 18343
// AddComPlaceWeapon ( building , [ 44 , 45 , 46 ] [ Rand ( 1 , 3 ) ] ) ;
18308: LD_VAR 0 1
18312: PPUSH
18313: LD_INT 44
18315: PUSH
18316: LD_INT 45
18318: PUSH
18319: LD_INT 46
18321: PUSH
18322: EMPTY
18323: LIST
18324: LIST
18325: LIST
18326: PUSH
18327: LD_INT 1
18329: PPUSH
18330: LD_INT 3
18332: PPUSH
18333: CALL_OW 12
18337: ARRAY
18338: PPUSH
18339: CALL_OW 208
// if GetBType ( building ) = b_turret then
18343: LD_VAR 0 1
18347: PPUSH
18348: CALL_OW 266
18352: PUSH
18353: LD_INT 33
18355: EQUAL
18356: IFFALSE 18393
// AddComPlaceWeapon ( building , [ 44 , 46 , 46 ] [ Rand ( 1 , 3 ) ] ) ;
18358: LD_VAR 0 1
18362: PPUSH
18363: LD_INT 44
18365: PUSH
18366: LD_INT 46
18368: PUSH
18369: LD_INT 46
18371: PUSH
18372: EMPTY
18373: LIST
18374: LIST
18375: LIST
18376: PUSH
18377: LD_INT 1
18379: PPUSH
18380: LD_INT 3
18382: PPUSH
18383: CALL_OW 12
18387: ARRAY
18388: PPUSH
18389: CALL_OW 208
// if GetBType ( building ) = b_ext_computer then
18393: LD_VAR 0 1
18397: PPUSH
18398: CALL_OW 266
18402: PUSH
18403: LD_INT 24
18405: EQUAL
18406: IFFALSE 18416
// russianAI = 1 ;
18408: LD_ADDR_EXP 38
18412: PUSH
18413: LD_INT 1
18415: ST_TO_ADDR
// end ; if GetSide ( building ) = 2 then
18416: LD_VAR 0 1
18420: PPUSH
18421: CALL_OW 255
18425: PUSH
18426: LD_INT 2
18428: EQUAL
18429: IFFALSE 18987
// begin if GetBType ( building ) = b_depot then
18431: LD_VAR 0 1
18435: PPUSH
18436: CALL_OW 266
18440: PUSH
18441: LD_INT 0
18443: EQUAL
18444: IFFALSE 18530
// begin arDepot = building ;
18446: LD_ADDR_EXP 42
18450: PUSH
18451: LD_VAR 0 1
18455: ST_TO_ADDR
// ComMoveXY ( [ cargo1 , cargo2 ] , 71 , 19 ) ;
18456: LD_INT 38
18458: PUSH
18459: LD_INT 47
18461: PUSH
18462: EMPTY
18463: LIST
18464: LIST
18465: PPUSH
18466: LD_INT 71
18468: PPUSH
18469: LD_INT 19
18471: PPUSH
18472: CALL_OW 111
// SetResourceType ( GetBase ( building ) , 1 , 500 ) ;
18476: LD_VAR 0 1
18480: PPUSH
18481: CALL_OW 274
18485: PPUSH
18486: LD_INT 1
18488: PPUSH
18489: LD_INT 500
18491: PPUSH
18492: CALL_OW 277
// SetResourceType ( GetBase ( building ) , 3 , 30 ) ;
18496: LD_VAR 0 1
18500: PPUSH
18501: CALL_OW 274
18505: PPUSH
18506: LD_INT 3
18508: PPUSH
18509: LD_INT 30
18511: PPUSH
18512: CALL_OW 277
// ComEnterUnit ( Dietrich , arDepot ) ;
18516: LD_EXP 26
18520: PPUSH
18521: LD_EXP 42
18525: PPUSH
18526: CALL_OW 120
// end ; if GetBType ( building ) = b_lab or GetBType ( building ) = b_lab_basic then
18530: LD_VAR 0 1
18534: PPUSH
18535: CALL_OW 266
18539: PUSH
18540: LD_INT 6
18542: EQUAL
18543: PUSH
18544: LD_VAR 0 1
18548: PPUSH
18549: CALL_OW 266
18553: PUSH
18554: LD_INT 9
18556: EQUAL
18557: OR
18558: IFFALSE 18609
// begin AddComUpgradeLab ( building , b_lab_weapon ) ;
18560: LD_VAR 0 1
18564: PPUSH
18565: LD_INT 10
18567: PPUSH
18568: CALL_OW 207
// AddComUpgradeLab ( building , b_lab_siberium ) ;
18572: LD_VAR 0 1
18576: PPUSH
18577: LD_INT 11
18579: PPUSH
18580: CALL_OW 207
// ResAllTechs ( 2 , building , 2 ) ;
18584: LD_INT 2
18586: PPUSH
18587: LD_VAR 0 1
18591: PPUSH
18592: LD_INT 2
18594: PPUSH
18595: CALL 11518 0 3
// arLab = building ;
18599: LD_ADDR_EXP 43
18603: PUSH
18604: LD_VAR 0 1
18608: ST_TO_ADDR
// end ; if GetBType ( building ) = 2 or GetBType ( building ) = 4 then
18609: LD_VAR 0 1
18613: PPUSH
18614: CALL_OW 266
18618: PUSH
18619: LD_INT 2
18621: EQUAL
18622: PUSH
18623: LD_VAR 0 1
18627: PPUSH
18628: CALL_OW 266
18632: PUSH
18633: LD_INT 4
18635: EQUAL
18636: OR
18637: IFFALSE 18648
// ComUpgrade ( building ) ;
18639: LD_VAR 0 1
18643: PPUSH
18644: CALL_OW 146
// if GetBType ( building ) = b_breastwork and FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 1 ] , [ f_not , [ f_inside ] , [ f_not , [ f_hastask ] ] ] ] ) > 0 then
18648: LD_VAR 0 1
18652: PPUSH
18653: CALL_OW 266
18657: PUSH
18658: LD_INT 31
18660: EQUAL
18661: PUSH
18662: LD_INT 22
18664: PUSH
18665: LD_INT 2
18667: PUSH
18668: EMPTY
18669: LIST
18670: LIST
18671: PUSH
18672: LD_INT 25
18674: PUSH
18675: LD_INT 1
18677: PUSH
18678: EMPTY
18679: LIST
18680: LIST
18681: PUSH
18682: LD_INT 3
18684: PUSH
18685: LD_INT 54
18687: PUSH
18688: EMPTY
18689: LIST
18690: PUSH
18691: LD_INT 3
18693: PUSH
18694: LD_INT 60
18696: PUSH
18697: EMPTY
18698: LIST
18699: PUSH
18700: EMPTY
18701: LIST
18702: LIST
18703: PUSH
18704: EMPTY
18705: LIST
18706: LIST
18707: LIST
18708: PUSH
18709: EMPTY
18710: LIST
18711: LIST
18712: LIST
18713: PPUSH
18714: CALL_OW 69
18718: PUSH
18719: LD_INT 0
18721: GREATER
18722: AND
18723: IFFALSE 18795
// ComEnterUnit ( FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 1 ] , [ f_not , [ f_inside ] , [ f_not , [ f_hastask ] ] ] ] ) [ 1 ] , building ) ;
18725: LD_INT 22
18727: PUSH
18728: LD_INT 2
18730: PUSH
18731: EMPTY
18732: LIST
18733: LIST
18734: PUSH
18735: LD_INT 25
18737: PUSH
18738: LD_INT 1
18740: PUSH
18741: EMPTY
18742: LIST
18743: LIST
18744: PUSH
18745: LD_INT 3
18747: PUSH
18748: LD_INT 54
18750: PUSH
18751: EMPTY
18752: LIST
18753: PUSH
18754: LD_INT 3
18756: PUSH
18757: LD_INT 60
18759: PUSH
18760: EMPTY
18761: LIST
18762: PUSH
18763: EMPTY
18764: LIST
18765: LIST
18766: PUSH
18767: EMPTY
18768: LIST
18769: LIST
18770: LIST
18771: PUSH
18772: EMPTY
18773: LIST
18774: LIST
18775: LIST
18776: PPUSH
18777: CALL_OW 69
18781: PUSH
18782: LD_INT 1
18784: ARRAY
18785: PPUSH
18786: LD_VAR 0 1
18790: PPUSH
18791: CALL_OW 120
// if GetBType ( building ) = b_solar_power then
18795: LD_VAR 0 1
18799: PPUSH
18800: CALL_OW 266
18804: PUSH
18805: LD_INT 27
18807: EQUAL
18808: IFFALSE 18987
// if FilterAllUnits ( [ [ f_side , 2 ] , [ f_btype , b_solar_power ] ] ) = 2 then
18810: LD_INT 22
18812: PUSH
18813: LD_INT 2
18815: PUSH
18816: EMPTY
18817: LIST
18818: LIST
18819: PUSH
18820: LD_INT 30
18822: PUSH
18823: LD_INT 27
18825: PUSH
18826: EMPTY
18827: LIST
18828: LIST
18829: PUSH
18830: EMPTY
18831: LIST
18832: LIST
18833: PPUSH
18834: CALL_OW 69
18838: PUSH
18839: LD_INT 2
18841: EQUAL
18842: IFFALSE 18987
// begin i := FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_human ] , [ f_class , 2 ] ] ) [ 1 ] ;
18844: LD_ADDR_VAR 0 2
18848: PUSH
18849: LD_INT 22
18851: PUSH
18852: LD_INT 2
18854: PUSH
18855: EMPTY
18856: LIST
18857: LIST
18858: PUSH
18859: LD_INT 21
18861: PUSH
18862: LD_INT 1
18864: PUSH
18865: EMPTY
18866: LIST
18867: LIST
18868: PUSH
18869: LD_INT 25
18871: PUSH
18872: LD_INT 2
18874: PUSH
18875: EMPTY
18876: LIST
18877: LIST
18878: PUSH
18879: EMPTY
18880: LIST
18881: LIST
18882: LIST
18883: PPUSH
18884: CALL_OW 69
18888: PUSH
18889: LD_INT 1
18891: ARRAY
18892: ST_TO_ADDR
// AddComMoveXY ( i , 92 , 34 ) ;
18893: LD_VAR 0 2
18897: PPUSH
18898: LD_INT 92
18900: PPUSH
18901: LD_INT 34
18903: PPUSH
18904: CALL_OW 171
// AddComMoveXY ( i , 82 , 57 ) ;
18908: LD_VAR 0 2
18912: PPUSH
18913: LD_INT 82
18915: PPUSH
18916: LD_INT 57
18918: PPUSH
18919: CALL_OW 171
// AddComMoveXY ( i , 36 , 28 ) ;
18923: LD_VAR 0 2
18927: PPUSH
18928: LD_INT 36
18930: PPUSH
18931: LD_INT 28
18933: PPUSH
18934: CALL_OW 171
// AddComEnterUnit ( FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_human ] , [ f_class , 2 ] ] ) , arDepot ) ;
18938: LD_INT 22
18940: PUSH
18941: LD_INT 2
18943: PUSH
18944: EMPTY
18945: LIST
18946: LIST
18947: PUSH
18948: LD_INT 21
18950: PUSH
18951: LD_INT 1
18953: PUSH
18954: EMPTY
18955: LIST
18956: LIST
18957: PUSH
18958: LD_INT 25
18960: PUSH
18961: LD_INT 2
18963: PUSH
18964: EMPTY
18965: LIST
18966: LIST
18967: PUSH
18968: EMPTY
18969: LIST
18970: LIST
18971: LIST
18972: PPUSH
18973: CALL_OW 69
18977: PPUSH
18978: LD_EXP 42
18982: PPUSH
18983: CALL_OW 180
// end ; end ; end ;
18987: PPOPN 2
18989: END
// on UpgradeComplete ( building ) do var i ;
18990: LD_INT 0
18992: PPUSH
// begin if GetSide ( building ) = 1 then
18993: LD_VAR 0 1
18997: PPUSH
18998: CALL_OW 255
19002: PUSH
19003: LD_INT 1
19005: EQUAL
19006: IFFALSE 19206
// begin if FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] , [ f_and , [ f_btype , b_lab_siberium ] , [ f_and , [ f_or , [ f_btype , b_oil_power ] , [ f_btype , b_solar_power ] , [ f_btype , b_siberite_power ] ] ] ] ] ] ) > 0 and FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , 26 ] , [ f_btype , 27 ] , [ f_btype , 28 ] ] ] ) > 0 and eventVar1 = 0 then
19008: LD_INT 22
19010: PUSH
19011: LD_INT 1
19013: PUSH
19014: EMPTY
19015: LIST
19016: LIST
19017: PUSH
19018: LD_INT 2
19020: PUSH
19021: LD_INT 30
19023: PUSH
19024: LD_INT 7
19026: PUSH
19027: EMPTY
19028: LIST
19029: LIST
19030: PUSH
19031: LD_INT 30
19033: PUSH
19034: LD_INT 8
19036: PUSH
19037: EMPTY
19038: LIST
19039: LIST
19040: PUSH
19041: LD_INT 1
19043: PUSH
19044: LD_INT 30
19046: PUSH
19047: LD_INT 11
19049: PUSH
19050: EMPTY
19051: LIST
19052: LIST
19053: PUSH
19054: LD_INT 1
19056: PUSH
19057: LD_INT 2
19059: PUSH
19060: LD_INT 30
19062: PUSH
19063: LD_INT 26
19065: PUSH
19066: EMPTY
19067: LIST
19068: LIST
19069: PUSH
19070: LD_INT 30
19072: PUSH
19073: LD_INT 27
19075: PUSH
19076: EMPTY
19077: LIST
19078: LIST
19079: PUSH
19080: LD_INT 30
19082: PUSH
19083: LD_INT 28
19085: PUSH
19086: EMPTY
19087: LIST
19088: LIST
19089: PUSH
19090: EMPTY
19091: LIST
19092: LIST
19093: LIST
19094: LIST
19095: PUSH
19096: EMPTY
19097: LIST
19098: LIST
19099: PUSH
19100: EMPTY
19101: LIST
19102: LIST
19103: LIST
19104: PUSH
19105: EMPTY
19106: LIST
19107: LIST
19108: LIST
19109: LIST
19110: PUSH
19111: EMPTY
19112: LIST
19113: LIST
19114: PPUSH
19115: CALL_OW 69
19119: PUSH
19120: LD_INT 0
19122: GREATER
19123: PUSH
19124: LD_INT 22
19126: PUSH
19127: LD_INT 1
19129: PUSH
19130: EMPTY
19131: LIST
19132: LIST
19133: PUSH
19134: LD_INT 2
19136: PUSH
19137: LD_INT 30
19139: PUSH
19140: LD_INT 26
19142: PUSH
19143: EMPTY
19144: LIST
19145: LIST
19146: PUSH
19147: LD_INT 30
19149: PUSH
19150: LD_INT 27
19152: PUSH
19153: EMPTY
19154: LIST
19155: LIST
19156: PUSH
19157: LD_INT 30
19159: PUSH
19160: LD_INT 28
19162: PUSH
19163: EMPTY
19164: LIST
19165: LIST
19166: PUSH
19167: EMPTY
19168: LIST
19169: LIST
19170: LIST
19171: LIST
19172: PUSH
19173: EMPTY
19174: LIST
19175: LIST
19176: PPUSH
19177: CALL_OW 69
19181: PUSH
19182: LD_INT 0
19184: GREATER
19185: AND
19186: PUSH
19187: LD_EXP 57
19191: PUSH
19192: LD_INT 0
19194: EQUAL
19195: AND
19196: IFFALSE 19206
// eventVar1 = 1 ;
19198: LD_ADDR_EXP 57
19202: PUSH
19203: LD_INT 1
19205: ST_TO_ADDR
// end ; if GetSide ( building ) = 2 then
19206: LD_VAR 0 1
19210: PPUSH
19211: CALL_OW 255
19215: PUSH
19216: LD_INT 2
19218: EQUAL
19219: IFFALSE 19324
// begin if GetBType ( building ) = b_barracks then
19221: LD_VAR 0 1
19225: PPUSH
19226: CALL_OW 266
19230: PUSH
19231: LD_INT 5
19233: EQUAL
19234: IFFALSE 19324
// begin for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_class , 1 ] , [ f_not , [ f_inside ] ] ] ) diff [ Dietrich ] do
19236: LD_ADDR_VAR 0 2
19240: PUSH
19241: LD_INT 22
19243: PUSH
19244: LD_INT 2
19246: PUSH
19247: EMPTY
19248: LIST
19249: LIST
19250: PUSH
19251: LD_INT 25
19253: PUSH
19254: LD_INT 1
19256: PUSH
19257: EMPTY
19258: LIST
19259: LIST
19260: PUSH
19261: LD_INT 3
19263: PUSH
19264: LD_INT 54
19266: PUSH
19267: EMPTY
19268: LIST
19269: PUSH
19270: EMPTY
19271: LIST
19272: LIST
19273: PUSH
19274: EMPTY
19275: LIST
19276: LIST
19277: LIST
19278: PPUSH
19279: CALL_OW 69
19283: PUSH
19284: LD_EXP 26
19288: PUSH
19289: EMPTY
19290: LIST
19291: DIFF
19292: PUSH
19293: FOR_IN
19294: IFFALSE 19312
// ComEnterUnit ( i , building ) ;
19296: LD_VAR 0 2
19300: PPUSH
19301: LD_VAR 0 1
19305: PPUSH
19306: CALL_OW 120
19310: GO 19293
19312: POP
19313: POP
// arArm = building ;
19314: LD_ADDR_EXP 44
19318: PUSH
19319: LD_VAR 0 1
19323: ST_TO_ADDR
// end ; end ; if GetSide ( building ) = 3 then
19324: LD_VAR 0 1
19328: PPUSH
19329: CALL_OW 255
19333: PUSH
19334: LD_INT 3
19336: EQUAL
19337: IFFALSE 19810
// begin if GetBType ( building ) = b_factory then
19339: LD_VAR 0 1
19343: PPUSH
19344: CALL_OW 266
19348: PUSH
19349: LD_INT 3
19351: EQUAL
19352: IFFALSE 19419
// begin for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 3 ] ] ) do
19354: LD_ADDR_VAR 0 2
19358: PUSH
19359: LD_INT 22
19361: PUSH
19362: LD_INT 3
19364: PUSH
19365: EMPTY
19366: LIST
19367: LIST
19368: PUSH
19369: LD_INT 25
19371: PUSH
19372: LD_INT 3
19374: PUSH
19375: EMPTY
19376: LIST
19377: LIST
19378: PUSH
19379: EMPTY
19380: LIST
19381: LIST
19382: PPUSH
19383: CALL_OW 69
19387: PUSH
19388: FOR_IN
19389: IFFALSE 19407
// ComEnterUnit ( i , building ) ;
19391: LD_VAR 0 2
19395: PPUSH
19396: LD_VAR 0 1
19400: PPUSH
19401: CALL_OW 120
19405: GO 19388
19407: POP
19408: POP
// ruFab = building ;
19409: LD_ADDR_EXP 34
19413: PUSH
19414: LD_VAR 0 1
19418: ST_TO_ADDR
// end ; if FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) = 2 then
19419: LD_INT 22
19421: PUSH
19422: LD_INT 3
19424: PUSH
19425: EMPTY
19426: LIST
19427: LIST
19428: PUSH
19429: LD_INT 21
19431: PUSH
19432: LD_INT 3
19434: PUSH
19435: EMPTY
19436: LIST
19437: LIST
19438: PUSH
19439: LD_INT 30
19441: PUSH
19442: LD_INT 8
19444: PUSH
19445: EMPTY
19446: LIST
19447: LIST
19448: PUSH
19449: EMPTY
19450: LIST
19451: LIST
19452: LIST
19453: PPUSH
19454: CALL_OW 69
19458: PUSH
19459: LD_INT 2
19461: EQUAL
19462: IFFALSE 19670
// begin for i = 1 to 2 do
19464: LD_ADDR_VAR 0 2
19468: PUSH
19469: DOUBLE
19470: LD_INT 1
19472: DEC
19473: ST_TO_ADDR
19474: LD_INT 2
19476: PUSH
19477: FOR_TO
19478: IFFALSE 19565
// ComEnterUnit ( FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) [ i ] , FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) [ 1 ] ) ;
19480: LD_INT 22
19482: PUSH
19483: LD_INT 3
19485: PUSH
19486: EMPTY
19487: LIST
19488: LIST
19489: PUSH
19490: LD_INT 25
19492: PUSH
19493: LD_INT 4
19495: PUSH
19496: EMPTY
19497: LIST
19498: LIST
19499: PUSH
19500: EMPTY
19501: LIST
19502: LIST
19503: PPUSH
19504: CALL_OW 69
19508: PUSH
19509: LD_VAR 0 2
19513: ARRAY
19514: PPUSH
19515: LD_INT 22
19517: PUSH
19518: LD_INT 3
19520: PUSH
19521: EMPTY
19522: LIST
19523: LIST
19524: PUSH
19525: LD_INT 21
19527: PUSH
19528: LD_INT 3
19530: PUSH
19531: EMPTY
19532: LIST
19533: LIST
19534: PUSH
19535: LD_INT 30
19537: PUSH
19538: LD_INT 8
19540: PUSH
19541: EMPTY
19542: LIST
19543: LIST
19544: PUSH
19545: EMPTY
19546: LIST
19547: LIST
19548: LIST
19549: PPUSH
19550: CALL_OW 69
19554: PUSH
19555: LD_INT 1
19557: ARRAY
19558: PPUSH
19559: CALL_OW 120
19563: GO 19477
19565: POP
19566: POP
// for i = 3 to 4 do
19567: LD_ADDR_VAR 0 2
19571: PUSH
19572: DOUBLE
19573: LD_INT 3
19575: DEC
19576: ST_TO_ADDR
19577: LD_INT 4
19579: PUSH
19580: FOR_TO
19581: IFFALSE 19668
// ComEnterUnit ( FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) [ i ] , FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) [ 2 ] ) ;
19583: LD_INT 22
19585: PUSH
19586: LD_INT 3
19588: PUSH
19589: EMPTY
19590: LIST
19591: LIST
19592: PUSH
19593: LD_INT 25
19595: PUSH
19596: LD_INT 4
19598: PUSH
19599: EMPTY
19600: LIST
19601: LIST
19602: PUSH
19603: EMPTY
19604: LIST
19605: LIST
19606: PPUSH
19607: CALL_OW 69
19611: PUSH
19612: LD_VAR 0 2
19616: ARRAY
19617: PPUSH
19618: LD_INT 22
19620: PUSH
19621: LD_INT 3
19623: PUSH
19624: EMPTY
19625: LIST
19626: LIST
19627: PUSH
19628: LD_INT 21
19630: PUSH
19631: LD_INT 3
19633: PUSH
19634: EMPTY
19635: LIST
19636: LIST
19637: PUSH
19638: LD_INT 30
19640: PUSH
19641: LD_INT 8
19643: PUSH
19644: EMPTY
19645: LIST
19646: LIST
19647: PUSH
19648: EMPTY
19649: LIST
19650: LIST
19651: LIST
19652: PPUSH
19653: CALL_OW 69
19657: PUSH
19658: LD_INT 2
19660: ARRAY
19661: PPUSH
19662: CALL_OW 120
19666: GO 19580
19668: POP
19669: POP
// end ; if GetBType ( building ) = b_barracks then
19670: LD_VAR 0 1
19674: PPUSH
19675: CALL_OW 266
19679: PUSH
19680: LD_INT 5
19682: EQUAL
19683: IFFALSE 19810
// begin for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 1 ] , [ f_not , [ f_inside ] ] ] ) do
19685: LD_ADDR_VAR 0 2
19689: PUSH
19690: LD_INT 22
19692: PUSH
19693: LD_INT 3
19695: PUSH
19696: EMPTY
19697: LIST
19698: LIST
19699: PUSH
19700: LD_INT 25
19702: PUSH
19703: LD_INT 1
19705: PUSH
19706: EMPTY
19707: LIST
19708: LIST
19709: PUSH
19710: LD_INT 3
19712: PUSH
19713: LD_INT 54
19715: PUSH
19716: EMPTY
19717: LIST
19718: PUSH
19719: EMPTY
19720: LIST
19721: LIST
19722: PUSH
19723: EMPTY
19724: LIST
19725: LIST
19726: LIST
19727: PPUSH
19728: CALL_OW 69
19732: PUSH
19733: FOR_IN
19734: IFFALSE 19752
// ComEnterUnit ( i , building ) ;
19736: LD_VAR 0 2
19740: PPUSH
19741: LD_VAR 0 1
19745: PPUSH
19746: CALL_OW 120
19750: GO 19733
19752: POP
19753: POP
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_barracks ] ] ) = 0 then
19754: LD_INT 22
19756: PUSH
19757: LD_INT 3
19759: PUSH
19760: EMPTY
19761: LIST
19762: LIST
19763: PUSH
19764: LD_INT 30
19766: PUSH
19767: LD_INT 5
19769: PUSH
19770: EMPTY
19771: LIST
19772: LIST
19773: PUSH
19774: EMPTY
19775: LIST
19776: LIST
19777: PPUSH
19778: CALL_OW 69
19782: PUSH
19783: LD_INT 0
19785: EQUAL
19786: IFFALSE 19800
// ruArm1 = building else
19788: LD_ADDR_EXP 32
19792: PUSH
19793: LD_VAR 0 1
19797: ST_TO_ADDR
19798: GO 19810
// ruArm2 = building ;
19800: LD_ADDR_EXP 33
19804: PUSH
19805: LD_VAR 0 1
19809: ST_TO_ADDR
// end ; end ; end ;
19810: PPOPN 2
19812: END
// on EnterBuilding ( building , human ) do var rnd ;
19813: LD_INT 0
19815: PPUSH
// begin if GetSide ( human ) = 2 and GetClass ( human ) = 1 and building = arArm then
19816: LD_VAR 0 2
19820: PPUSH
19821: CALL_OW 255
19825: PUSH
19826: LD_INT 2
19828: EQUAL
19829: PUSH
19830: LD_VAR 0 2
19834: PPUSH
19835: CALL_OW 257
19839: PUSH
19840: LD_INT 1
19842: EQUAL
19843: AND
19844: PUSH
19845: LD_VAR 0 1
19849: PUSH
19850: LD_EXP 44
19854: EQUAL
19855: AND
19856: IFFALSE 19903
// begin wait ( 0 0$1 ) ;
19858: LD_INT 35
19860: PPUSH
19861: CALL_OW 67
// rnd = rand ( 1 , 100 ) ;
19865: LD_ADDR_VAR 0 3
19869: PUSH
19870: LD_INT 1
19872: PPUSH
19873: LD_INT 100
19875: PPUSH
19876: CALL_OW 12
19880: ST_TO_ADDR
// if rnd > 50 then
19881: LD_VAR 0 3
19885: PUSH
19886: LD_INT 50
19888: GREATER
19889: IFFALSE 19903
// SetClass ( human , class_mortar ) ;
19891: LD_VAR 0 2
19895: PPUSH
19896: LD_INT 8
19898: PPUSH
19899: CALL_OW 336
// end ; if GetSide ( human ) = 3 and GetClass ( human ) = 1 and [ building = ruArm1 or building = ruArm2 ] then
19903: LD_VAR 0 2
19907: PPUSH
19908: CALL_OW 255
19912: PUSH
19913: LD_INT 3
19915: EQUAL
19916: PUSH
19917: LD_VAR 0 2
19921: PPUSH
19922: CALL_OW 257
19926: PUSH
19927: LD_INT 1
19929: EQUAL
19930: AND
19931: PUSH
19932: LD_VAR 0 1
19936: PUSH
19937: LD_EXP 32
19941: EQUAL
19942: PUSH
19943: LD_VAR 0 1
19947: PUSH
19948: LD_EXP 33
19952: EQUAL
19953: OR
19954: PUSH
19955: EMPTY
19956: LIST
19957: AND
19958: IFFALSE 19979
// begin wait ( 0 0$1 ) ;
19960: LD_INT 35
19962: PPUSH
19963: CALL_OW 67
// SetClass ( human , class_bazooker ) ;
19967: LD_VAR 0 2
19971: PPUSH
19972: LD_INT 9
19974: PPUSH
19975: CALL_OW 336
// end ; end ;
19979: PPOPN 3
19981: END
// on Contact ( side1 , side2 ) do begin if side1 = 1 and side2 = 2 and GetAttitude ( 1 , 2 ) = att_friend then
19982: LD_VAR 0 1
19986: PUSH
19987: LD_INT 1
19989: EQUAL
19990: PUSH
19991: LD_VAR 0 2
19995: PUSH
19996: LD_INT 2
19998: EQUAL
19999: AND
20000: PUSH
20001: LD_INT 1
20003: PPUSH
20004: LD_INT 2
20006: PPUSH
20007: CALL_OW 81
20011: PUSH
20012: LD_INT 1
20014: EQUAL
20015: AND
20016: IFFALSE 20037
// begin SayRadio ( Powell , D6b-Pow-1 ) ;
20018: LD_EXP 24
20022: PPUSH
20023: LD_STRING D6b-Pow-1
20025: PPUSH
20026: CALL_OW 94
// YouLost ( Powell ) ;
20030: LD_STRING Powell
20032: PPUSH
20033: CALL_OW 104
// end ; end ;
20037: PPOPN 2
20039: END
// every 0 0$3 trigger ( FilterUnitsInArea ( arBaseArea , [ [ f_side , 1 ] , [ f_type , unit_building ] ] ) or FilterUnitsInArea ( arBaseArea , [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) > 2 ) and GetAttitude ( 1 , 2 ) = att_friend do
20040: LD_INT 23
20042: PPUSH
20043: LD_INT 22
20045: PUSH
20046: LD_INT 1
20048: PUSH
20049: EMPTY
20050: LIST
20051: LIST
20052: PUSH
20053: LD_INT 21
20055: PUSH
20056: LD_INT 3
20058: PUSH
20059: EMPTY
20060: LIST
20061: LIST
20062: PUSH
20063: EMPTY
20064: LIST
20065: LIST
20066: PPUSH
20067: CALL_OW 70
20071: PUSH
20072: LD_INT 23
20074: PPUSH
20075: LD_INT 22
20077: PUSH
20078: LD_INT 1
20080: PUSH
20081: EMPTY
20082: LIST
20083: LIST
20084: PUSH
20085: LD_INT 21
20087: PUSH
20088: LD_INT 2
20090: PUSH
20091: EMPTY
20092: LIST
20093: LIST
20094: PUSH
20095: LD_INT 58
20097: PUSH
20098: EMPTY
20099: LIST
20100: PUSH
20101: EMPTY
20102: LIST
20103: LIST
20104: LIST
20105: PPUSH
20106: CALL_OW 70
20110: PUSH
20111: LD_INT 2
20113: GREATER
20114: OR
20115: PUSH
20116: LD_INT 1
20118: PPUSH
20119: LD_INT 2
20121: PPUSH
20122: CALL_OW 81
20126: PUSH
20127: LD_INT 1
20129: EQUAL
20130: AND
20131: IFFALSE 20155
20133: GO 20135
20135: DISABLE
// begin SayRadio ( Powell , D6b-Pow-1 ) ;
20136: LD_EXP 24
20140: PPUSH
20141: LD_STRING D6b-Pow-1
20143: PPUSH
20144: CALL_OW 94
// YouLost ( Powell ) ;
20148: LD_STRING Powell
20150: PPUSH
20151: CALL_OW 104
// end ;
20155: END
// on UnitDestroyed ( unit ) do begin if unit = JMM then
20156: LD_VAR 0 1
20160: PUSH
20161: LD_EXP 1
20165: EQUAL
20166: IFFALSE 20175
// YouLost ( JMM ) ;
20168: LD_STRING JMM
20170: PPUSH
20171: CALL_OW 104
// if GetSide ( unit ) = 3 and GetType ( unit ) = unit_building then
20175: LD_VAR 0 1
20179: PPUSH
20180: CALL_OW 255
20184: PUSH
20185: LD_INT 3
20187: EQUAL
20188: PUSH
20189: LD_VAR 0 1
20193: PPUSH
20194: CALL_OW 247
20198: PUSH
20199: LD_INT 3
20201: EQUAL
20202: AND
20203: IFFALSE 20895
// begin if GetBType ( unit ) = 31 or GetBType ( unit ) = 32 or GetBType ( unit ) = 36 or GetBType ( unit ) = 0 or GetBType ( unit ) = 24 or GetBType ( unit ) = 17 or GetBType ( unit ) = 25 or GetBType ( unit ) = 19 or GetBType ( unit ) = 20 or GetBType ( unit ) = 18 or GetBType ( unit ) = 21 or GetBType ( unit ) = 23 or GetBType ( unit ) = 16 or GetBType ( unit ) = 6 or GetBType ( unit ) = 29 or GetBType ( unit ) = 26 or GetBType ( unit ) = 30 or GetBType ( unit ) = 28 or GetBType ( unit ) = 27 or GetBType ( unit ) = 33 or GetBType ( unit ) = 2 or GetBType ( unit ) = 4 then
20205: LD_VAR 0 1
20209: PPUSH
20210: CALL_OW 266
20214: PUSH
20215: LD_INT 31
20217: EQUAL
20218: PUSH
20219: LD_VAR 0 1
20223: PPUSH
20224: CALL_OW 266
20228: PUSH
20229: LD_INT 32
20231: EQUAL
20232: OR
20233: PUSH
20234: LD_VAR 0 1
20238: PPUSH
20239: CALL_OW 266
20243: PUSH
20244: LD_INT 36
20246: EQUAL
20247: OR
20248: PUSH
20249: LD_VAR 0 1
20253: PPUSH
20254: CALL_OW 266
20258: PUSH
20259: LD_INT 0
20261: EQUAL
20262: OR
20263: PUSH
20264: LD_VAR 0 1
20268: PPUSH
20269: CALL_OW 266
20273: PUSH
20274: LD_INT 24
20276: EQUAL
20277: OR
20278: PUSH
20279: LD_VAR 0 1
20283: PPUSH
20284: CALL_OW 266
20288: PUSH
20289: LD_INT 17
20291: EQUAL
20292: OR
20293: PUSH
20294: LD_VAR 0 1
20298: PPUSH
20299: CALL_OW 266
20303: PUSH
20304: LD_INT 25
20306: EQUAL
20307: OR
20308: PUSH
20309: LD_VAR 0 1
20313: PPUSH
20314: CALL_OW 266
20318: PUSH
20319: LD_INT 19
20321: EQUAL
20322: OR
20323: PUSH
20324: LD_VAR 0 1
20328: PPUSH
20329: CALL_OW 266
20333: PUSH
20334: LD_INT 20
20336: EQUAL
20337: OR
20338: PUSH
20339: LD_VAR 0 1
20343: PPUSH
20344: CALL_OW 266
20348: PUSH
20349: LD_INT 18
20351: EQUAL
20352: OR
20353: PUSH
20354: LD_VAR 0 1
20358: PPUSH
20359: CALL_OW 266
20363: PUSH
20364: LD_INT 21
20366: EQUAL
20367: OR
20368: PUSH
20369: LD_VAR 0 1
20373: PPUSH
20374: CALL_OW 266
20378: PUSH
20379: LD_INT 23
20381: EQUAL
20382: OR
20383: PUSH
20384: LD_VAR 0 1
20388: PPUSH
20389: CALL_OW 266
20393: PUSH
20394: LD_INT 16
20396: EQUAL
20397: OR
20398: PUSH
20399: LD_VAR 0 1
20403: PPUSH
20404: CALL_OW 266
20408: PUSH
20409: LD_INT 6
20411: EQUAL
20412: OR
20413: PUSH
20414: LD_VAR 0 1
20418: PPUSH
20419: CALL_OW 266
20423: PUSH
20424: LD_INT 29
20426: EQUAL
20427: OR
20428: PUSH
20429: LD_VAR 0 1
20433: PPUSH
20434: CALL_OW 266
20438: PUSH
20439: LD_INT 26
20441: EQUAL
20442: OR
20443: PUSH
20444: LD_VAR 0 1
20448: PPUSH
20449: CALL_OW 266
20453: PUSH
20454: LD_INT 30
20456: EQUAL
20457: OR
20458: PUSH
20459: LD_VAR 0 1
20463: PPUSH
20464: CALL_OW 266
20468: PUSH
20469: LD_INT 28
20471: EQUAL
20472: OR
20473: PUSH
20474: LD_VAR 0 1
20478: PPUSH
20479: CALL_OW 266
20483: PUSH
20484: LD_INT 27
20486: EQUAL
20487: OR
20488: PUSH
20489: LD_VAR 0 1
20493: PPUSH
20494: CALL_OW 266
20498: PUSH
20499: LD_INT 33
20501: EQUAL
20502: OR
20503: PUSH
20504: LD_VAR 0 1
20508: PPUSH
20509: CALL_OW 266
20513: PUSH
20514: LD_INT 2
20516: EQUAL
20517: OR
20518: PUSH
20519: LD_VAR 0 1
20523: PPUSH
20524: CALL_OW 266
20528: PUSH
20529: LD_INT 4
20531: EQUAL
20532: OR
20533: IFFALSE 20619
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ GetBType ( unit ) ;
20535: LD_ADDR_EXP 41
20539: PUSH
20540: LD_EXP 41
20544: PUSH
20545: LD_VAR 0 1
20549: PPUSH
20550: CALL_OW 266
20554: ADD
20555: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
20556: LD_ADDR_EXP 41
20560: PUSH
20561: LD_EXP 41
20565: PUSH
20566: LD_VAR 0 1
20570: PPUSH
20571: CALL_OW 250
20575: ADD
20576: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
20577: LD_ADDR_EXP 41
20581: PUSH
20582: LD_EXP 41
20586: PUSH
20587: LD_VAR 0 1
20591: PPUSH
20592: CALL_OW 251
20596: ADD
20597: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
20598: LD_ADDR_EXP 41
20602: PUSH
20603: LD_EXP 41
20607: PUSH
20608: LD_VAR 0 1
20612: PPUSH
20613: CALL_OW 254
20617: ADD
20618: ST_TO_ADDR
// end ; if GetBType ( unit ) = 1 then
20619: LD_VAR 0 1
20623: PPUSH
20624: CALL_OW 266
20628: PUSH
20629: LD_INT 1
20631: EQUAL
20632: IFFALSE 20711
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 0 ;
20634: LD_ADDR_EXP 41
20638: PUSH
20639: LD_EXP 41
20643: PUSH
20644: LD_INT 0
20646: ADD
20647: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
20648: LD_ADDR_EXP 41
20652: PUSH
20653: LD_EXP 41
20657: PUSH
20658: LD_VAR 0 1
20662: PPUSH
20663: CALL_OW 250
20667: ADD
20668: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
20669: LD_ADDR_EXP 41
20673: PUSH
20674: LD_EXP 41
20678: PUSH
20679: LD_VAR 0 1
20683: PPUSH
20684: CALL_OW 251
20688: ADD
20689: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
20690: LD_ADDR_EXP 41
20694: PUSH
20695: LD_EXP 41
20699: PUSH
20700: LD_VAR 0 1
20704: PPUSH
20705: CALL_OW 254
20709: ADD
20710: ST_TO_ADDR
// end ; if GetBType ( unit ) = 3 then
20711: LD_VAR 0 1
20715: PPUSH
20716: CALL_OW 266
20720: PUSH
20721: LD_INT 3
20723: EQUAL
20724: IFFALSE 20803
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 2 ;
20726: LD_ADDR_EXP 41
20730: PUSH
20731: LD_EXP 41
20735: PUSH
20736: LD_INT 2
20738: ADD
20739: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
20740: LD_ADDR_EXP 41
20744: PUSH
20745: LD_EXP 41
20749: PUSH
20750: LD_VAR 0 1
20754: PPUSH
20755: CALL_OW 250
20759: ADD
20760: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
20761: LD_ADDR_EXP 41
20765: PUSH
20766: LD_EXP 41
20770: PUSH
20771: LD_VAR 0 1
20775: PPUSH
20776: CALL_OW 251
20780: ADD
20781: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
20782: LD_ADDR_EXP 41
20786: PUSH
20787: LD_EXP 41
20791: PUSH
20792: LD_VAR 0 1
20796: PPUSH
20797: CALL_OW 254
20801: ADD
20802: ST_TO_ADDR
// end ; if GetBType ( unit ) = 5 then
20803: LD_VAR 0 1
20807: PPUSH
20808: CALL_OW 266
20812: PUSH
20813: LD_INT 5
20815: EQUAL
20816: IFFALSE 20895
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 4 ;
20818: LD_ADDR_EXP 41
20822: PUSH
20823: LD_EXP 41
20827: PUSH
20828: LD_INT 4
20830: ADD
20831: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
20832: LD_ADDR_EXP 41
20836: PUSH
20837: LD_EXP 41
20841: PUSH
20842: LD_VAR 0 1
20846: PPUSH
20847: CALL_OW 250
20851: ADD
20852: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
20853: LD_ADDR_EXP 41
20857: PUSH
20858: LD_EXP 41
20862: PUSH
20863: LD_VAR 0 1
20867: PPUSH
20868: CALL_OW 251
20872: ADD
20873: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
20874: LD_ADDR_EXP 41
20878: PUSH
20879: LD_EXP 41
20883: PUSH
20884: LD_VAR 0 1
20888: PPUSH
20889: CALL_OW 254
20893: ADD
20894: ST_TO_ADDR
// end ; end ; end ;
20895: PPOPN 1
20897: END
// on EndTheMissionRaised ( bla ) do begin end_the_mission_allowed = false ;
20898: LD_ADDR_OWVAR 57
20902: PUSH
20903: LD_INT 0
20905: ST_TO_ADDR
// fastEnd = 1 ;
20906: LD_ADDR_EXP 56
20910: PUSH
20911: LD_INT 1
20913: ST_TO_ADDR
// FinishMission ;
20914: CALL 22030 0 0
// end ; end_of_file
20918: PPOPN 1
20920: END
// export function PrepareNature ; var i , un ; begin
20921: LD_INT 0
20923: PPUSH
20924: PPUSH
20925: PPUSH
// for i = 1 to Difficulty + rand ( 1 , 5 ) do
20926: LD_ADDR_VAR 0 2
20930: PUSH
20931: DOUBLE
20932: LD_INT 1
20934: DEC
20935: ST_TO_ADDR
20936: LD_OWVAR 67
20940: PUSH
20941: LD_INT 1
20943: PPUSH
20944: LD_INT 5
20946: PPUSH
20947: CALL_OW 12
20951: PLUS
20952: PUSH
20953: FOR_TO
20954: IFFALSE 21099
// begin hc_sex = sex_male ;
20956: LD_ADDR_OWVAR 27
20960: PUSH
20961: LD_INT 1
20963: ST_TO_ADDR
// uc_side = 0 ;
20964: LD_ADDR_OWVAR 20
20968: PUSH
20969: LD_INT 0
20971: ST_TO_ADDR
// uc_nation = nation_nature ;
20972: LD_ADDR_OWVAR 21
20976: PUSH
20977: LD_INT 0
20979: ST_TO_ADDR
// hc_class = class_apeman ;
20980: LD_ADDR_OWVAR 28
20984: PUSH
20985: LD_INT 12
20987: ST_TO_ADDR
// hc_skills = [ rand ( 2 , 7 ) + Difficulty , rand ( 2 , 10 ) , rand ( 2 , 10 ) , rand ( 2 , 10 ) ] ;
20988: LD_ADDR_OWVAR 31
20992: PUSH
20993: LD_INT 2
20995: PPUSH
20996: LD_INT 7
20998: PPUSH
20999: CALL_OW 12
21003: PUSH
21004: LD_OWVAR 67
21008: PLUS
21009: PUSH
21010: LD_INT 2
21012: PPUSH
21013: LD_INT 10
21015: PPUSH
21016: CALL_OW 12
21020: PUSH
21021: LD_INT 2
21023: PPUSH
21024: LD_INT 10
21026: PPUSH
21027: CALL_OW 12
21031: PUSH
21032: LD_INT 2
21034: PPUSH
21035: LD_INT 10
21037: PPUSH
21038: CALL_OW 12
21042: PUSH
21043: EMPTY
21044: LIST
21045: LIST
21046: LIST
21047: LIST
21048: ST_TO_ADDR
// hc_agressivity = rand ( - 5 , 5 ) * Difficulty ;
21049: LD_ADDR_OWVAR 35
21053: PUSH
21054: LD_INT 5
21056: NEG
21057: PPUSH
21058: LD_INT 5
21060: PPUSH
21061: CALL_OW 12
21065: PUSH
21066: LD_OWVAR 67
21070: MUL
21071: ST_TO_ADDR
// un = CreateHuman ;
21072: LD_ADDR_VAR 0 3
21076: PUSH
21077: CALL_OW 44
21081: ST_TO_ADDR
// PlaceUnitArea ( un , NatureArea1 , false ) ;
21082: LD_VAR 0 3
21086: PPUSH
21087: LD_INT 5
21089: PPUSH
21090: LD_INT 0
21092: PPUSH
21093: CALL_OW 49
// end ;
21097: GO 20953
21099: POP
21100: POP
// for i = 1 to Difficulty + 2 do
21101: LD_ADDR_VAR 0 2
21105: PUSH
21106: DOUBLE
21107: LD_INT 1
21109: DEC
21110: ST_TO_ADDR
21111: LD_OWVAR 67
21115: PUSH
21116: LD_INT 2
21118: PLUS
21119: PUSH
21120: FOR_TO
21121: IFFALSE 21230
// begin hc_sex = sex_male ;
21123: LD_ADDR_OWVAR 27
21127: PUSH
21128: LD_INT 1
21130: ST_TO_ADDR
// uc_side = 0 ;
21131: LD_ADDR_OWVAR 20
21135: PUSH
21136: LD_INT 0
21138: ST_TO_ADDR
// uc_nation = nation_nature ;
21139: LD_ADDR_OWVAR 21
21143: PUSH
21144: LD_INT 0
21146: ST_TO_ADDR
// hc_class = class_tiger ;
21147: LD_ADDR_OWVAR 28
21151: PUSH
21152: LD_INT 14
21154: ST_TO_ADDR
// hc_skills = [ RuSolMaxLevel , 0 , 0 , 0 ] ;
21155: LD_ADDR_OWVAR 31
21159: PUSH
21160: LD_EXP 36
21164: PUSH
21165: LD_INT 0
21167: PUSH
21168: LD_INT 0
21170: PUSH
21171: LD_INT 0
21173: PUSH
21174: EMPTY
21175: LIST
21176: LIST
21177: LIST
21178: LIST
21179: ST_TO_ADDR
// hc_agressivity = rand ( - 5 , 5 ) * Difficulty ;
21180: LD_ADDR_OWVAR 35
21184: PUSH
21185: LD_INT 5
21187: NEG
21188: PPUSH
21189: LD_INT 5
21191: PPUSH
21192: CALL_OW 12
21196: PUSH
21197: LD_OWVAR 67
21201: MUL
21202: ST_TO_ADDR
// un = CreateHuman ;
21203: LD_ADDR_VAR 0 3
21207: PUSH
21208: CALL_OW 44
21212: ST_TO_ADDR
// PlaceUnitArea ( un , NatureArea2 , false ) ;
21213: LD_VAR 0 3
21217: PPUSH
21218: LD_INT 6
21220: PPUSH
21221: LD_INT 0
21223: PPUSH
21224: CALL_OW 49
// end ;
21228: GO 21120
21230: POP
21231: POP
// for i = 1 to rand ( 3 , 4 ) do
21232: LD_ADDR_VAR 0 2
21236: PUSH
21237: DOUBLE
21238: LD_INT 1
21240: DEC
21241: ST_TO_ADDR
21242: LD_INT 3
21244: PPUSH
21245: LD_INT 4
21247: PPUSH
21248: CALL_OW 12
21252: PUSH
21253: FOR_TO
21254: IFFALSE 21348
// begin hc_sex = sex_male ;
21256: LD_ADDR_OWVAR 27
21260: PUSH
21261: LD_INT 1
21263: ST_TO_ADDR
// uc_side = 0 ;
21264: LD_ADDR_OWVAR 20
21268: PUSH
21269: LD_INT 0
21271: ST_TO_ADDR
// uc_nation = nation_nature ;
21272: LD_ADDR_OWVAR 21
21276: PUSH
21277: LD_INT 0
21279: ST_TO_ADDR
// hc_class = 18 ;
21280: LD_ADDR_OWVAR 28
21284: PUSH
21285: LD_INT 18
21287: ST_TO_ADDR
// hc_skills = [ RuSolMaxLevel , 0 , 0 , 0 ] ;
21288: LD_ADDR_OWVAR 31
21292: PUSH
21293: LD_EXP 36
21297: PUSH
21298: LD_INT 0
21300: PUSH
21301: LD_INT 0
21303: PUSH
21304: LD_INT 0
21306: PUSH
21307: EMPTY
21308: LIST
21309: LIST
21310: LIST
21311: LIST
21312: ST_TO_ADDR
// hc_agressivity = 0 ;
21313: LD_ADDR_OWVAR 35
21317: PUSH
21318: LD_INT 0
21320: ST_TO_ADDR
// un = CreateHuman ;
21321: LD_ADDR_VAR 0 3
21325: PUSH
21326: CALL_OW 44
21330: ST_TO_ADDR
// PlaceUnitArea ( un , NatureArea2 , false ) ;
21331: LD_VAR 0 3
21335: PPUSH
21336: LD_INT 6
21338: PPUSH
21339: LD_INT 0
21341: PPUSH
21342: CALL_OW 49
// end ;
21346: GO 21253
21348: POP
21349: POP
// end ; end_of_file
21350: LD_VAR 0 1
21354: RET
// every 0 0$1 trigger arabianAttackersAI = 1 do
21355: LD_EXP 45
21359: PUSH
21360: LD_INT 1
21362: EQUAL
21363: IFFALSE 21447
21365: GO 21367
21367: DISABLE
// RespawnAttackVehicle ( ArabianSpawn2 , 5 , [ 6 , 8 , 9 ] [ Difficulty ] , rand ( RuSolMinLevel , RuSolMaxLevel ) , 2 , 1 , 1 , [ ] , [ 25 , 26 , 27 , 28 ] , [ ] , 1 ) ;
21368: LD_INT 7
21370: PPUSH
21371: LD_INT 5
21373: PPUSH
21374: LD_INT 6
21376: PUSH
21377: LD_INT 8
21379: PUSH
21380: LD_INT 9
21382: PUSH
21383: EMPTY
21384: LIST
21385: LIST
21386: LIST
21387: PUSH
21388: LD_OWVAR 67
21392: ARRAY
21393: PPUSH
21394: LD_EXP 35
21398: PPUSH
21399: LD_EXP 36
21403: PPUSH
21404: CALL_OW 12
21408: PPUSH
21409: LD_INT 2
21411: PPUSH
21412: LD_INT 1
21414: PPUSH
21415: LD_INT 1
21417: PPUSH
21418: EMPTY
21419: PPUSH
21420: LD_INT 25
21422: PUSH
21423: LD_INT 26
21425: PUSH
21426: LD_INT 27
21428: PUSH
21429: LD_INT 28
21431: PUSH
21432: EMPTY
21433: LIST
21434: LIST
21435: LIST
21436: LIST
21437: PPUSH
21438: EMPTY
21439: PPUSH
21440: LD_INT 1
21442: PPUSH
21443: CALL 12966 0 11
21447: END
// every 0 0$1 trigger arabianAttackersAI = 1 do
21448: LD_EXP 45
21452: PUSH
21453: LD_INT 1
21455: EQUAL
21456: IFFALSE 21544
21458: GO 21460
21460: DISABLE
// RespawnAttackInfantry ( 5 , 2 , [ 9 , 10 , 12 ] [ Difficulty ] , 0 , 0 , [ 3 , 5 , 6 ] [ Difficulty ] , 0 , rand ( RuSolMinLevel , RuSolMaxLevel ) , ArabianSpawn2 , ArabianHealArea , 1 ) ;
21461: LD_INT 5
21463: PPUSH
21464: LD_INT 2
21466: PPUSH
21467: LD_INT 9
21469: PUSH
21470: LD_INT 10
21472: PUSH
21473: LD_INT 12
21475: PUSH
21476: EMPTY
21477: LIST
21478: LIST
21479: LIST
21480: PUSH
21481: LD_OWVAR 67
21485: ARRAY
21486: PPUSH
21487: LD_INT 0
21489: PPUSH
21490: LD_INT 0
21492: PPUSH
21493: LD_INT 3
21495: PUSH
21496: LD_INT 5
21498: PUSH
21499: LD_INT 6
21501: PUSH
21502: EMPTY
21503: LIST
21504: LIST
21505: LIST
21506: PUSH
21507: LD_OWVAR 67
21511: ARRAY
21512: PPUSH
21513: LD_INT 0
21515: PPUSH
21516: LD_EXP 35
21520: PPUSH
21521: LD_EXP 36
21525: PPUSH
21526: CALL_OW 12
21530: PPUSH
21531: LD_INT 7
21533: PPUSH
21534: LD_INT 9
21536: PPUSH
21537: LD_INT 1
21539: PPUSH
21540: CALL 14686 0 11
21544: END
// every 6 6$30 + 3 3$0 trigger joinEpsilon = 1 do
21545: LD_EXP 28
21549: PUSH
21550: LD_INT 1
21552: EQUAL
21553: IFFALSE 21616
21555: GO 21557
21557: DISABLE
// begin enable ;
21558: ENABLE
// RespawnAttackInfantry ( 6 , 3 , ru_sold_counter , 0 , 0 , 0 , ru_sold_counter div 3 , rand ( RuSolMinLevel , RuSolMaxLevel ) , RussianAttackSpawn , RussianHealArea4 , 1 ) ;
21559: LD_INT 6
21561: PPUSH
21562: LD_INT 3
21564: PPUSH
21565: LD_EXP 54
21569: PPUSH
21570: LD_INT 0
21572: PPUSH
21573: LD_INT 0
21575: PPUSH
21576: LD_INT 0
21578: PPUSH
21579: LD_EXP 54
21583: PUSH
21584: LD_INT 3
21586: DIV
21587: PPUSH
21588: LD_EXP 35
21592: PPUSH
21593: LD_EXP 36
21597: PPUSH
21598: CALL_OW 12
21602: PPUSH
21603: LD_INT 17
21605: PPUSH
21606: LD_INT 18
21608: PPUSH
21609: LD_INT 1
21611: PPUSH
21612: CALL 14686 0 11
// end ;
21616: END
// every 6 6$30 + 3 3$0 trigger joinEpsilon = 1 do
21617: LD_EXP 28
21621: PUSH
21622: LD_INT 1
21624: EQUAL
21625: IFFALSE 21702
21627: GO 21629
21629: DISABLE
// begin enable ;
21630: ENABLE
// RespawnAttackVehicle ( RussianAttackSpawn , 6 , ru_vehs_counter , rand ( RuSolMinLevel , RuSolMaxLevel ) , 3 , engine_combustion , [ 1 , 3 ] , [ 43 , 44 , 45 , 46 ] , [ ] , [ ] , 1 ) ;
21631: LD_INT 17
21633: PPUSH
21634: LD_INT 6
21636: PPUSH
21637: LD_EXP 53
21641: PPUSH
21642: LD_EXP 35
21646: PPUSH
21647: LD_EXP 36
21651: PPUSH
21652: CALL_OW 12
21656: PPUSH
21657: LD_INT 3
21659: PPUSH
21660: LD_INT 1
21662: PPUSH
21663: LD_INT 1
21665: PUSH
21666: LD_INT 3
21668: PUSH
21669: EMPTY
21670: LIST
21671: LIST
21672: PPUSH
21673: LD_INT 43
21675: PUSH
21676: LD_INT 44
21678: PUSH
21679: LD_INT 45
21681: PUSH
21682: LD_INT 46
21684: PUSH
21685: EMPTY
21686: LIST
21687: LIST
21688: LIST
21689: LIST
21690: PPUSH
21691: EMPTY
21692: PPUSH
21693: EMPTY
21694: PPUSH
21695: LD_INT 1
21697: PPUSH
21698: CALL 12966 0 11
// end ;
21702: END
// every 10 10$00 trigger joinEpsilon do
21703: LD_EXP 28
21707: IFFALSE 21741
21709: GO 21711
21711: DISABLE
// begin enable ;
21712: ENABLE
// ru_vehs_counter := ru_vehs_counter + 3 ;
21713: LD_ADDR_EXP 53
21717: PUSH
21718: LD_EXP 53
21722: PUSH
21723: LD_INT 3
21725: PLUS
21726: ST_TO_ADDR
// ru_sold_counter := ru_sold_counter + 3 ;
21727: LD_ADDR_EXP 54
21731: PUSH
21732: LD_EXP 54
21736: PUSH
21737: LD_INT 3
21739: PLUS
21740: ST_TO_ADDR
// end ; end_of_file
21741: END
// every 0 0$1 trigger GetTech ( 54 , 1 ) = state_researched and GetTech ( 55 , 1 ) = state_researched and GetTech ( 21 , 1 ) = state_researched and GetTech ( 22 , 1 ) = state_researched and [ GetTech ( tech_LasSight , 1 ) = state_enabled or GetTech ( tech_AI , 1 ) = state_enabled ] and arabianDefeated = 1 do
21742: LD_INT 54
21744: PPUSH
21745: LD_INT 1
21747: PPUSH
21748: CALL_OW 321
21752: PUSH
21753: LD_INT 2
21755: EQUAL
21756: PUSH
21757: LD_INT 55
21759: PPUSH
21760: LD_INT 1
21762: PPUSH
21763: CALL_OW 321
21767: PUSH
21768: LD_INT 2
21770: EQUAL
21771: AND
21772: PUSH
21773: LD_INT 21
21775: PPUSH
21776: LD_INT 1
21778: PPUSH
21779: CALL_OW 321
21783: PUSH
21784: LD_INT 2
21786: EQUAL
21787: AND
21788: PUSH
21789: LD_INT 22
21791: PPUSH
21792: LD_INT 1
21794: PPUSH
21795: CALL_OW 321
21799: PUSH
21800: LD_INT 2
21802: EQUAL
21803: AND
21804: PUSH
21805: LD_INT 12
21807: PPUSH
21808: LD_INT 1
21810: PPUSH
21811: CALL_OW 321
21815: PUSH
21816: LD_INT 1
21818: EQUAL
21819: PUSH
21820: LD_INT 32
21822: PPUSH
21823: LD_INT 1
21825: PPUSH
21826: CALL_OW 321
21830: PUSH
21831: LD_INT 1
21833: EQUAL
21834: OR
21835: PUSH
21836: EMPTY
21837: LIST
21838: AND
21839: PUSH
21840: LD_EXP 47
21844: PUSH
21845: LD_INT 1
21847: EQUAL
21848: AND
21849: IFFALSE 21905
21851: GO 21853
21853: DISABLE
// begin case query ( QEndMission ) of 1 :
21854: LD_STRING QEndMission
21856: PPUSH
21857: CALL_OW 97
21861: PUSH
21862: LD_INT 1
21864: DOUBLE
21865: EQUAL
21866: IFTRUE 21870
21868: GO 21881
21870: POP
// begin end_the_mission_allowed = true ;
21871: LD_ADDR_OWVAR 57
21875: PUSH
21876: LD_INT 1
21878: ST_TO_ADDR
// end ; 2 :
21879: GO 21905
21881: LD_INT 2
21883: DOUBLE
21884: EQUAL
21885: IFTRUE 21889
21887: GO 21904
21889: POP
// begin fastEnd = 1 ;
21890: LD_ADDR_EXP 56
21894: PUSH
21895: LD_INT 1
21897: ST_TO_ADDR
// FinishMission ;
21898: CALL 22030 0 0
// end ; end ;
21902: GO 21905
21904: POP
// end ;
21905: END
// every 0 0$1 trigger GetTech ( 54 , 1 ) = state_researched and GetTech ( 55 , 1 ) = state_researched and GetTech ( 21 , 1 ) = state_researched and GetTech ( 22 , 1 ) = state_researched and GetTech ( tech_LasSight , 1 ) = state_researched and GetTech ( tech_AI , 1 ) = state_researched and fastEnd = 0 and arabianDefeated = 1 do
21906: LD_INT 54
21908: PPUSH
21909: LD_INT 1
21911: PPUSH
21912: CALL_OW 321
21916: PUSH
21917: LD_INT 2
21919: EQUAL
21920: PUSH
21921: LD_INT 55
21923: PPUSH
21924: LD_INT 1
21926: PPUSH
21927: CALL_OW 321
21931: PUSH
21932: LD_INT 2
21934: EQUAL
21935: AND
21936: PUSH
21937: LD_INT 21
21939: PPUSH
21940: LD_INT 1
21942: PPUSH
21943: CALL_OW 321
21947: PUSH
21948: LD_INT 2
21950: EQUAL
21951: AND
21952: PUSH
21953: LD_INT 22
21955: PPUSH
21956: LD_INT 1
21958: PPUSH
21959: CALL_OW 321
21963: PUSH
21964: LD_INT 2
21966: EQUAL
21967: AND
21968: PUSH
21969: LD_INT 12
21971: PPUSH
21972: LD_INT 1
21974: PPUSH
21975: CALL_OW 321
21979: PUSH
21980: LD_INT 2
21982: EQUAL
21983: AND
21984: PUSH
21985: LD_INT 32
21987: PPUSH
21988: LD_INT 1
21990: PPUSH
21991: CALL_OW 321
21995: PUSH
21996: LD_INT 2
21998: EQUAL
21999: AND
22000: PUSH
22001: LD_EXP 56
22005: PUSH
22006: LD_INT 0
22008: EQUAL
22009: AND
22010: PUSH
22011: LD_EXP 47
22015: PUSH
22016: LD_INT 1
22018: EQUAL
22019: AND
22020: IFFALSE 22029
22022: GO 22024
22024: DISABLE
// FinishMission ;
22025: CALL 22030 0 0
22029: END
// export function FinishMission ; begin
22030: LD_INT 0
22032: PPUSH
// SaveVariable ( KhatamStatus , 10_KhatamStatus_1 ) ;
22033: LD_EXP 49
22037: PPUSH
22038: LD_STRING 10_KhatamStatus_1
22040: PPUSH
22041: CALL_OW 39
// if GetTech ( tech_LasSight , 1 ) = state_researched then
22045: LD_INT 12
22047: PPUSH
22048: LD_INT 1
22050: PPUSH
22051: CALL_OW 321
22055: PUSH
22056: LD_INT 2
22058: EQUAL
22059: IFFALSE 22073
// begin AddMedal ( sights , 1 ) ;
22061: LD_STRING sights
22063: PPUSH
22064: LD_INT 1
22066: PPUSH
22067: CALL_OW 101
// end else
22071: GO 22084
// begin AddMedal ( sights , - 1 ) ;
22073: LD_STRING sights
22075: PPUSH
22076: LD_INT 1
22078: NEG
22079: PPUSH
22080: CALL_OW 101
// end ; if GetTech ( tech_AI , 1 ) = state_researched then
22084: LD_INT 32
22086: PPUSH
22087: LD_INT 1
22089: PPUSH
22090: CALL_OW 321
22094: PUSH
22095: LD_INT 2
22097: EQUAL
22098: IFFALSE 22112
// begin AddMedal ( computers , 1 ) ;
22100: LD_STRING computers
22102: PPUSH
22103: LD_INT 1
22105: PPUSH
22106: CALL_OW 101
// end else
22110: GO 22123
// begin AddMedal ( computers , - 1 ) ;
22112: LD_STRING computers
22114: PPUSH
22115: LD_INT 1
22117: NEG
22118: PPUSH
22119: CALL_OW 101
// end ; if arabianEscape = 0 then
22123: LD_EXP 46
22127: PUSH
22128: LD_INT 0
22130: EQUAL
22131: IFFALSE 22155
// begin AddMedal ( renegades , 2 ) ;
22133: LD_STRING renegades
22135: PPUSH
22136: LD_INT 2
22138: PPUSH
22139: CALL_OW 101
// SaveVariable ( 0 , 10_ScientistsEscape_1 ) ;
22143: LD_INT 0
22145: PPUSH
22146: LD_STRING 10_ScientistsEscape_1
22148: PPUSH
22149: CALL_OW 39
// end else
22153: GO 22166
// begin AddMedal ( renegades , - 1 ) ;
22155: LD_STRING renegades
22157: PPUSH
22158: LD_INT 1
22160: NEG
22161: PPUSH
22162: CALL_OW 101
// end ; SaveEpsilonBase ;
22166: CALL 22756 0 0
// Query ( kaj ) ;
22170: LD_STRING kaj
22172: PPUSH
22173: CALL_OW 97
// GiveMedals ( Main ) ;
22177: LD_STRING Main
22179: PPUSH
22180: CALL_OW 102
// RewardPeople ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_nation , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] , [ f_class , 5 ] ] ] ) ) ;
22184: LD_INT 22
22186: PUSH
22187: LD_INT 1
22189: PUSH
22190: EMPTY
22191: LIST
22192: LIST
22193: PUSH
22194: LD_INT 23
22196: PUSH
22197: LD_INT 1
22199: PUSH
22200: EMPTY
22201: LIST
22202: LIST
22203: PUSH
22204: LD_INT 21
22206: PUSH
22207: LD_INT 1
22209: PUSH
22210: EMPTY
22211: LIST
22212: LIST
22213: PUSH
22214: LD_INT 2
22216: PUSH
22217: LD_INT 25
22219: PUSH
22220: LD_INT 1
22222: PUSH
22223: EMPTY
22224: LIST
22225: LIST
22226: PUSH
22227: LD_INT 25
22229: PUSH
22230: LD_INT 2
22232: PUSH
22233: EMPTY
22234: LIST
22235: LIST
22236: PUSH
22237: LD_INT 25
22239: PUSH
22240: LD_INT 3
22242: PUSH
22243: EMPTY
22244: LIST
22245: LIST
22246: PUSH
22247: LD_INT 25
22249: PUSH
22250: LD_INT 4
22252: PUSH
22253: EMPTY
22254: LIST
22255: LIST
22256: PUSH
22257: LD_INT 25
22259: PUSH
22260: LD_INT 5
22262: PUSH
22263: EMPTY
22264: LIST
22265: LIST
22266: PUSH
22267: EMPTY
22268: LIST
22269: LIST
22270: LIST
22271: LIST
22272: LIST
22273: LIST
22274: PUSH
22275: EMPTY
22276: LIST
22277: LIST
22278: LIST
22279: LIST
22280: PPUSH
22281: CALL_OW 69
22285: PPUSH
22286: CALL_OW 43
// SaveCharacters ( JMM , mission_prefix & JMM ) ;
22290: LD_EXP 1
22294: PPUSH
22295: LD_EXP 50
22299: PUSH
22300: LD_STRING JMM
22302: STR
22303: PPUSH
22304: CALL_OW 38
// EnchancedSaveCharacters ( Brown , mission_prefix & Brown ) ;
22308: LD_EXP 2
22312: PPUSH
22313: LD_EXP 50
22317: PUSH
22318: LD_STRING Brown
22320: STR
22321: PPUSH
22322: CALL 7563 0 2
// EnchancedSaveCharacters ( Donaldson , mission_prefix & Donaldson ) ;
22326: LD_EXP 3
22330: PPUSH
22331: LD_EXP 50
22335: PUSH
22336: LD_STRING Donaldson
22338: STR
22339: PPUSH
22340: CALL 7563 0 2
// EnchancedSaveCharacters ( Bobby , mission_prefix & Bobby ) ;
22344: LD_EXP 4
22348: PPUSH
22349: LD_EXP 50
22353: PUSH
22354: LD_STRING Bobby
22356: STR
22357: PPUSH
22358: CALL 7563 0 2
// EnchancedSaveCharacters ( Cyrus , mission_prefix & Cyrus ) ;
22362: LD_EXP 5
22366: PPUSH
22367: LD_EXP 50
22371: PUSH
22372: LD_STRING Cyrus
22374: STR
22375: PPUSH
22376: CALL 7563 0 2
// EnchancedSaveCharacters ( Lisa , mission_prefix & Lisa ) ;
22380: LD_EXP 6
22384: PPUSH
22385: LD_EXP 50
22389: PUSH
22390: LD_STRING Lisa
22392: STR
22393: PPUSH
22394: CALL 7563 0 2
// EnchancedSaveCharacters ( Frank , mission_prefix & Frank ) ;
22398: LD_EXP 7
22402: PPUSH
22403: LD_EXP 50
22407: PUSH
22408: LD_STRING Frank
22410: STR
22411: PPUSH
22412: CALL 7563 0 2
// EnchancedSaveCharacters ( Kikuchi , mission_prefix & Kikuchi ) ;
22416: LD_EXP 8
22420: PPUSH
22421: LD_EXP 50
22425: PUSH
22426: LD_STRING Kikuchi
22428: STR
22429: PPUSH
22430: CALL 7563 0 2
// EnchancedSaveCharacters ( Houten , mission_prefix & Houten ) ;
22434: LD_EXP 9
22438: PPUSH
22439: LD_EXP 50
22443: PUSH
22444: LD_STRING Houten
22446: STR
22447: PPUSH
22448: CALL 7563 0 2
// EnchancedSaveCharacters ( Gary , mission_prefix & Gary ) ;
22452: LD_EXP 10
22456: PPUSH
22457: LD_EXP 50
22461: PUSH
22462: LD_STRING Gary
22464: STR
22465: PPUSH
22466: CALL 7563 0 2
// EnchancedSaveCharacters ( Simms , mission_prefix & Simms ) ;
22470: LD_EXP 11
22474: PPUSH
22475: LD_EXP 50
22479: PUSH
22480: LD_STRING Simms
22482: STR
22483: PPUSH
22484: CALL 7563 0 2
// EnchancedSaveCharacters ( Denis , mission_prefix & Denis ) ;
22488: LD_EXP 12
22492: PPUSH
22493: LD_EXP 50
22497: PUSH
22498: LD_STRING Denis
22500: STR
22501: PPUSH
22502: CALL 7563 0 2
// EnchancedSaveCharacters ( Joan , mission_prefix & Joan ) ;
22506: LD_EXP 13
22510: PPUSH
22511: LD_EXP 50
22515: PUSH
22516: LD_STRING Joan
22518: STR
22519: PPUSH
22520: CALL 7563 0 2
// EnchancedSaveCharacters ( Gladstone , mission_prefix & Gladstone ) ;
22524: LD_EXP 15
22528: PPUSH
22529: LD_EXP 50
22533: PUSH
22534: LD_STRING Gladstone
22536: STR
22537: PPUSH
22538: CALL 7563 0 2
// EnchancedSaveCharacters ( DeltaDoctor , mission_prefix & DeltaDoctor ) ;
22542: LD_EXP 17
22546: PPUSH
22547: LD_EXP 50
22551: PUSH
22552: LD_STRING DeltaDoctor
22554: STR
22555: PPUSH
22556: CALL 7563 0 2
// SaveCharacters ( FilterAllUnits ( [ [ f_ok ] , [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Brown , Donaldson , Bobby , Cyrus , Lisa , Frank , Gladstone , Kikuchi , Denis , Joan , Houten , Simms , Gary , DeltaDoctor ] , 10_other_survivors ) ;
22560: LD_INT 50
22562: PUSH
22563: EMPTY
22564: LIST
22565: PUSH
22566: LD_INT 22
22568: PUSH
22569: LD_INT 1
22571: PUSH
22572: EMPTY
22573: LIST
22574: LIST
22575: PUSH
22576: LD_INT 21
22578: PUSH
22579: LD_INT 1
22581: PUSH
22582: EMPTY
22583: LIST
22584: LIST
22585: PUSH
22586: LD_INT 2
22588: PUSH
22589: LD_INT 25
22591: PUSH
22592: LD_INT 1
22594: PUSH
22595: EMPTY
22596: LIST
22597: LIST
22598: PUSH
22599: LD_INT 25
22601: PUSH
22602: LD_INT 2
22604: PUSH
22605: EMPTY
22606: LIST
22607: LIST
22608: PUSH
22609: LD_INT 25
22611: PUSH
22612: LD_INT 3
22614: PUSH
22615: EMPTY
22616: LIST
22617: LIST
22618: PUSH
22619: LD_INT 25
22621: PUSH
22622: LD_INT 4
22624: PUSH
22625: EMPTY
22626: LIST
22627: LIST
22628: PUSH
22629: EMPTY
22630: LIST
22631: LIST
22632: LIST
22633: LIST
22634: LIST
22635: PUSH
22636: EMPTY
22637: LIST
22638: LIST
22639: LIST
22640: LIST
22641: PPUSH
22642: CALL_OW 69
22646: PUSH
22647: LD_EXP 1
22651: PUSH
22652: LD_EXP 2
22656: PUSH
22657: LD_EXP 3
22661: PUSH
22662: LD_EXP 4
22666: PUSH
22667: LD_EXP 5
22671: PUSH
22672: LD_EXP 6
22676: PUSH
22677: LD_EXP 7
22681: PUSH
22682: LD_EXP 15
22686: PUSH
22687: LD_EXP 8
22691: PUSH
22692: LD_EXP 12
22696: PUSH
22697: LD_EXP 13
22701: PUSH
22702: LD_EXP 9
22706: PUSH
22707: LD_EXP 11
22711: PUSH
22712: LD_EXP 10
22716: PUSH
22717: LD_EXP 17
22721: PUSH
22722: EMPTY
22723: LIST
22724: LIST
22725: LIST
22726: LIST
22727: LIST
22728: LIST
22729: LIST
22730: LIST
22731: LIST
22732: LIST
22733: LIST
22734: LIST
22735: LIST
22736: LIST
22737: LIST
22738: DIFF
22739: PPUSH
22740: LD_STRING 10_other_survivors
22742: PPUSH
22743: CALL_OW 38
// YouWin ;
22747: CALL_OW 103
// end ;
22751: LD_VAR 0 1
22755: RET
// export function SaveEpsilonBase ; var epsilonBase , buildings , i ; begin
22756: LD_INT 0
22758: PPUSH
22759: PPUSH
22760: PPUSH
22761: PPUSH
// epsilonBase = [ ] ;
22762: LD_ADDR_VAR 0 2
22766: PUSH
22767: EMPTY
22768: ST_TO_ADDR
// buildings = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_ok ] ] ) ;
22769: LD_ADDR_VAR 0 3
22773: PUSH
22774: LD_INT 22
22776: PUSH
22777: LD_INT 1
22779: PUSH
22780: EMPTY
22781: LIST
22782: LIST
22783: PUSH
22784: LD_INT 21
22786: PUSH
22787: LD_INT 3
22789: PUSH
22790: EMPTY
22791: LIST
22792: LIST
22793: PUSH
22794: LD_INT 50
22796: PUSH
22797: EMPTY
22798: LIST
22799: PUSH
22800: EMPTY
22801: LIST
22802: LIST
22803: LIST
22804: PPUSH
22805: CALL_OW 69
22809: ST_TO_ADDR
// for i in buildings do
22810: LD_ADDR_VAR 0 4
22814: PUSH
22815: LD_VAR 0 3
22819: PUSH
22820: FOR_IN
22821: IFFALSE 23258
// begin if GetBType ( i ) in [ b_lab , b_lab_half , b_lab_full ] then
22823: LD_VAR 0 4
22827: PPUSH
22828: CALL_OW 266
22832: PUSH
22833: LD_INT 6
22835: PUSH
22836: LD_INT 7
22838: PUSH
22839: LD_INT 8
22841: PUSH
22842: EMPTY
22843: LIST
22844: LIST
22845: LIST
22846: IN
22847: IFFALSE 22961
// epsilonBase = epsilonBase ^ [ [ GetBType ( i ) , GetX ( i ) , GetY ( i ) , GetDir ( i ) , GetBLevel ( i ) , GetNation ( i ) , GetLabKind ( i , 1 ) , GetLabKind ( i , 2 ) ] ] else
22849: LD_ADDR_VAR 0 2
22853: PUSH
22854: LD_VAR 0 2
22858: PUSH
22859: LD_VAR 0 4
22863: PPUSH
22864: CALL_OW 266
22868: PUSH
22869: LD_VAR 0 4
22873: PPUSH
22874: CALL_OW 250
22878: PUSH
22879: LD_VAR 0 4
22883: PPUSH
22884: CALL_OW 251
22888: PUSH
22889: LD_VAR 0 4
22893: PPUSH
22894: CALL_OW 254
22898: PUSH
22899: LD_VAR 0 4
22903: PPUSH
22904: CALL_OW 267
22908: PUSH
22909: LD_VAR 0 4
22913: PPUSH
22914: CALL_OW 248
22918: PUSH
22919: LD_VAR 0 4
22923: PPUSH
22924: LD_INT 1
22926: PPUSH
22927: CALL_OW 268
22931: PUSH
22932: LD_VAR 0 4
22936: PPUSH
22937: LD_INT 2
22939: PPUSH
22940: CALL_OW 268
22944: PUSH
22945: EMPTY
22946: LIST
22947: LIST
22948: LIST
22949: LIST
22950: LIST
22951: LIST
22952: LIST
22953: LIST
22954: PUSH
22955: EMPTY
22956: LIST
22957: ADD
22958: ST_TO_ADDR
22959: GO 23256
// if GetBType ( i ) = b_bunker then
22961: LD_VAR 0 4
22965: PPUSH
22966: CALL_OW 266
22970: PUSH
22971: LD_INT 32
22973: EQUAL
22974: IFFALSE 23071
// epsilonBase = epsilonBase ^ [ [ GetBType ( i ) , GetX ( i ) , GetY ( i ) , GetDir ( i ) , GetBLevel ( i ) , GetNation ( i ) , GetBWeapon ( i ) ] ] else
22976: LD_ADDR_VAR 0 2
22980: PUSH
22981: LD_VAR 0 2
22985: PUSH
22986: LD_VAR 0 4
22990: PPUSH
22991: CALL_OW 266
22995: PUSH
22996: LD_VAR 0 4
23000: PPUSH
23001: CALL_OW 250
23005: PUSH
23006: LD_VAR 0 4
23010: PPUSH
23011: CALL_OW 251
23015: PUSH
23016: LD_VAR 0 4
23020: PPUSH
23021: CALL_OW 254
23025: PUSH
23026: LD_VAR 0 4
23030: PPUSH
23031: CALL_OW 267
23035: PUSH
23036: LD_VAR 0 4
23040: PPUSH
23041: CALL_OW 248
23045: PUSH
23046: LD_VAR 0 4
23050: PPUSH
23051: CALL_OW 269
23055: PUSH
23056: EMPTY
23057: LIST
23058: LIST
23059: LIST
23060: LIST
23061: LIST
23062: LIST
23063: LIST
23064: PUSH
23065: EMPTY
23066: LIST
23067: ADD
23068: ST_TO_ADDR
23069: GO 23256
// if GetBType ( i ) = b_factory then
23071: LD_VAR 0 4
23075: PPUSH
23076: CALL_OW 266
23080: PUSH
23081: LD_INT 3
23083: EQUAL
23084: IFFALSE 23174
// epsilonBase = Insert ( epsilonBase , 1 , [ GetBType ( i ) , GetX ( i ) , GetY ( i ) , GetDir ( i ) , GetBLevel ( i ) , GetNation ( i ) ] ) else
23086: LD_ADDR_VAR 0 2
23090: PUSH
23091: LD_VAR 0 2
23095: PPUSH
23096: LD_INT 1
23098: PPUSH
23099: LD_VAR 0 4
23103: PPUSH
23104: CALL_OW 266
23108: PUSH
23109: LD_VAR 0 4
23113: PPUSH
23114: CALL_OW 250
23118: PUSH
23119: LD_VAR 0 4
23123: PPUSH
23124: CALL_OW 251
23128: PUSH
23129: LD_VAR 0 4
23133: PPUSH
23134: CALL_OW 254
23138: PUSH
23139: LD_VAR 0 4
23143: PPUSH
23144: CALL_OW 267
23148: PUSH
23149: LD_VAR 0 4
23153: PPUSH
23154: CALL_OW 248
23158: PUSH
23159: EMPTY
23160: LIST
23161: LIST
23162: LIST
23163: LIST
23164: LIST
23165: LIST
23166: PPUSH
23167: CALL_OW 2
23171: ST_TO_ADDR
23172: GO 23256
// epsilonBase = epsilonBase ^ [ [ GetBType ( i ) , GetX ( i ) , GetY ( i ) , GetDir ( i ) , GetBLevel ( i ) , GetNation ( i ) ] ] ;
23174: LD_ADDR_VAR 0 2
23178: PUSH
23179: LD_VAR 0 2
23183: PUSH
23184: LD_VAR 0 4
23188: PPUSH
23189: CALL_OW 266
23193: PUSH
23194: LD_VAR 0 4
23198: PPUSH
23199: CALL_OW 250
23203: PUSH
23204: LD_VAR 0 4
23208: PPUSH
23209: CALL_OW 251
23213: PUSH
23214: LD_VAR 0 4
23218: PPUSH
23219: CALL_OW 254
23223: PUSH
23224: LD_VAR 0 4
23228: PPUSH
23229: CALL_OW 267
23233: PUSH
23234: LD_VAR 0 4
23238: PPUSH
23239: CALL_OW 248
23243: PUSH
23244: EMPTY
23245: LIST
23246: LIST
23247: LIST
23248: LIST
23249: LIST
23250: LIST
23251: PUSH
23252: EMPTY
23253: LIST
23254: ADD
23255: ST_TO_ADDR
// end ;
23256: GO 22820
23258: POP
23259: POP
// SaveVariable ( epsilonBase , 10_EpsilonBase ) ;
23260: LD_VAR 0 2
23264: PPUSH
23265: LD_STRING 10_EpsilonBase
23267: PPUSH
23268: CALL_OW 39
// end ; end_of_file
23272: LD_VAR 0 1
23276: RET
// every 0 0$30 do
23277: GO 23279
23279: DISABLE
// begin enable ;
23280: ENABLE
// if cratesSpawned < 6 then
23281: LD_EXP 52
23285: PUSH
23286: LD_INT 6
23288: LESS
23289: IFFALSE 23326
// begin CreateCratesArea ( rand ( 3 , 5 ) , CratesArea , true ) ;
23291: LD_INT 3
23293: PPUSH
23294: LD_INT 5
23296: PPUSH
23297: CALL_OW 12
23301: PPUSH
23302: LD_INT 16
23304: PPUSH
23305: LD_INT 1
23307: PPUSH
23308: CALL_OW 55
// cratesSpawned = cratesSpawned + 1 ;
23312: LD_ADDR_EXP 52
23316: PUSH
23317: LD_EXP 52
23321: PUSH
23322: LD_INT 1
23324: PLUS
23325: ST_TO_ADDR
// end ; if cratesSpawned >= 6 and cratesSpawned < 12 then
23326: LD_EXP 52
23330: PUSH
23331: LD_INT 6
23333: GREATEREQUAL
23334: PUSH
23335: LD_EXP 52
23339: PUSH
23340: LD_INT 12
23342: LESS
23343: AND
23344: IFFALSE 23388
// begin wait ( 0 0$30 ) ;
23346: LD_INT 1050
23348: PPUSH
23349: CALL_OW 67
// CreateCratesArea ( rand ( 3 , 5 ) , CratesArea , true ) ;
23353: LD_INT 3
23355: PPUSH
23356: LD_INT 5
23358: PPUSH
23359: CALL_OW 12
23363: PPUSH
23364: LD_INT 16
23366: PPUSH
23367: LD_INT 1
23369: PPUSH
23370: CALL_OW 55
// cratesSpawned = cratesSpawned + 1 ;
23374: LD_ADDR_EXP 52
23378: PUSH
23379: LD_EXP 52
23383: PUSH
23384: LD_INT 1
23386: PLUS
23387: ST_TO_ADDR
// end ; if cratesSpawned >= 12 then
23388: LD_EXP 52
23392: PUSH
23393: LD_INT 12
23395: GREATEREQUAL
23396: IFFALSE 23440
// begin wait ( 1 1$0 ) ;
23398: LD_INT 2100
23400: PPUSH
23401: CALL_OW 67
// CreateCratesArea ( rand ( 3 , 5 ) , CratesArea , true ) ;
23405: LD_INT 3
23407: PPUSH
23408: LD_INT 5
23410: PPUSH
23411: CALL_OW 12
23415: PPUSH
23416: LD_INT 16
23418: PPUSH
23419: LD_INT 1
23421: PPUSH
23422: CALL_OW 55
// cratesSpawned = cratesSpawned + 1 ;
23426: LD_ADDR_EXP 52
23430: PUSH
23431: LD_EXP 52
23435: PUSH
23436: LD_INT 1
23438: PLUS
23439: ST_TO_ADDR
// end ; end ;
23440: END
